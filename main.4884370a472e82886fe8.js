(self.webpackChunkemfy=self.webpackChunkemfy||[]).push([[179],{8255:Ve=>{function te(P){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+P+"'");throw c.code="MODULE_NOT_FOUND",c})}te.keys=()=>[],te.resolve=te,te.id=8255,Ve.exports=te},3018:(Ve,te,P)=>{"use strict";P.d(te,{deG:()=>Sa,tb:()=>vT,AFp:()=>mT,ip1:()=>mu,CZH:()=>yu,hGG:()=>aR,z2F:()=>og,sBO:()=>lr,Sil:()=>ng,_Vd:()=>Yl,EJc:()=>ET,SBq:()=>Bi,qLn:()=>K,vpe:()=>go,gxx:()=>uo,tBr:()=>Oa,XFs:()=>Ae,OlP:()=>_n,zs3:()=>Zt,ZZ4:()=>Op,aQg:()=>uh,soG:()=>Yy,YKP:()=>Ty,v3s:()=>v1,h0i:()=>oa,PXZ:()=>kT,R0b:()=>Hi,FiY:()=>Jr,Lbi:()=>_T,g9A:()=>yT,Qsj:()=>Zb,FYo:()=>oh,JOm:()=>ro,Tiy:()=>Rp,q3G:()=>Yt,tp0:()=>to,EAV:()=>w1,Rgc:()=>Xl,dDg:()=>KE,DyG:()=>Hc,q4F:()=>Hb,GfV:()=>qb,s_b:()=>Ay,ifc:()=>gn,eFA:()=>t_,G48:()=>xT,Gpc:()=>ee,X6Q:()=>e_,_c5:()=>d0,VLi:()=>YE,c2e:()=>bT,zSh:()=>Al,wAp:()=>tt,vHH:()=>Re,EiD:()=>Af,mCW:()=>Go,qzn:()=>Or,JVY:()=>tm,pB0:()=>rm,eBb:()=>Cf,L6k:()=>nm,LAX:()=>ws,cg1:()=>dy,Tjo:()=>HT,kL8:()=>FC,yhl:()=>no,dqk:()=>B,sIi:()=>Md,CqO:()=>qd,QGY:()=>op,F4k:()=>Xm,RDi:()=>Bs,AaK:()=>O,z3N:()=>Xr,qOj:()=>Kv,TTD:()=>zh,_Bn:()=>Vb,xp6:()=>uw,uIk:()=>Jv,ekj:()=>sy,Suo:()=>iT,Xpm:()=>ha,lG2:()=>yg,Yz7:()=>nn,cJS:()=>Si,oAB:()=>Du,Yjl:()=>_g,Y36:()=>En,_UZ:()=>hb,qZA:()=>Zd,TgZ:()=>na,EpF:()=>fb,n5z:()=>Vg,Ikx:()=>Gl,LFG:()=>In,$8M:()=>Wi,NdJ:()=>ap,CRH:()=>ME,oxw:()=>Er,Q6J:()=>ip,MGl:()=>Qa,DdM:()=>jy,iGM:()=>OE,CHM:()=>Yh,LSH:()=>fi,kYT:()=>pa,YNc:()=>Vl,_uU:()=>EC,Oqu:()=>Ib,hij:()=>Dn});var c=P(9765),ne=P(5319),q=P(7574),J=P(6682),se=P(2441);var W=P(1307);function j(){return new c.xQ}function V(s){for(let o in s)if(s[o]===V)return o;throw Error("Could not find renamed property on target object.")}function L(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function O(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(O).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Z(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Q=V({__forward_ref__:V});function ee(s){return s.__forward_ref__=ee,s.toString=function(){return O(this())},s}function re(s){return Se(s)?s():s}function Se(s){return"function"==typeof s&&s.hasOwnProperty(Q)&&s.__forward_ref__===ee}class Re extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function Le(s){return"string"==typeof s?s:null==s?"":String(s)}function ct(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Le(s)}function he(s,o){const u=o?` in ${o}`:"";throw new Re("201",`No provider for ${ct(s)} found${u}`)}function fn(s,o){null==s&&function(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Si(s){return{providers:s.providers||[],imports:s.imports||[]}}function Dr(s){return Eo(s,Vn)||Eo(s,Vs)}function Eo(s,o){return s.hasOwnProperty(o)?s[o]:null}function cs(s){return s&&(s.hasOwnProperty(Ni)||s.hasOwnProperty(pt))?s[Ni]:null}const Vn=V({\u0275prov:V}),Ni=V({\u0275inj:V}),Vs=V({ngInjectableDef:V}),pt=V({ngInjectorDef:V});var Ae=(()=>((Ae=Ae||{})[Ae.Default=0]="Default",Ae[Ae.Host=1]="Host",Ae[Ae.Self=2]="Self",Ae[Ae.SkipSelf=4]="SkipSelf",Ae[Ae.Optional=8]="Optional",Ae))();let Bt;function sn(s){const o=Bt;return Bt=s,o}function kt(s,o,u){const d=Dr(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Ae.Optional?null:void 0!==o?o:void he(O(s),"Injector")}function ze(s){return{toString:s}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),gn=(()=>((gn=gn||{})[gn.Emulated=0]="Emulated",gn[gn.None=2]="None",gn[gn.ShadowDom=3]="ShadowDom",gn))();const jr="undefined"!=typeof globalThis&&globalThis,To="undefined"!=typeof window&&window,Qt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,B=jr||$||To||Qt,ie={},Ie=[],Je=V({\u0275cmp:V}),mt=V({\u0275dir:V}),It=V({\u0275pipe:V}),Ot=V({\u0275mod:V}),Nn=V({\u0275loc:V}),qt=V({\u0275fac:V}),mn=V({__NG_ELEMENT_ID__:V});let Ao=0;function ha(s){return ze(()=>{const u={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Ie,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||gn.Emulated,id:"c",styles:s.styles||Ie,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,v=s.pipes;return d.id+=Ao++,d.inputs=Ri(s.inputs,u),d.outputs=Ri(s.outputs),p&&p.forEach(b=>b(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(Fh):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Tc):null,d})}function Fh(s){return Gn(s)||function(s){return s[mt]||null}(s)}function Tc(s){return function(s){return s[It]||null}(s)}const fa={};function Du(s){return ze(()=>{const o={type:s.type,bootstrap:s.bootstrap||Ie,declarations:s.declarations||Ie,imports:s.imports||Ie,exports:s.exports||Ie,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(fa[s.id]=s.type),o})}function pa(s,o){return ze(()=>{const u=hr(s,!0);u.declarations=o.declarations||Ie,u.imports=o.imports||Ie,u.exports=o.exports||Ie})}function Ri(s,o){if(null==s)return ie;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,o&&(o[h]=p)}return u}const yg=ha;function _g(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Gn(s){return s[Je]||null}function hr(s,o){const u=s[Ot]||null;if(!u&&!0===o)throw new Error(`Type ${O(s)} does not have '\u0275mod' property.`);return u}function $r(s){return Array.isArray(s)&&"object"==typeof s[1]}function Lt(s){return Array.isArray(s)&&!0===s[1]}function Ru(s){return 0!=(8&s.flags)}function Dc(s){return 2==(2&s.flags)}function Gr(s){return 1==(1&s.flags)}function xi(s){return null!==s.template}function jh(s){return 0!=(512&s[2])}function hs(s,o){return s.hasOwnProperty(qt)?s[qt]:null}class Gh{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function zh(){return Ou}function Ou(s){return s.type.prototype.ngOnChanges&&(s.setInput=C_),Oi}function Oi(){const s=Mu(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===ie)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function C_(s,o,u,d){const h=Mu(s)||function(s,o){return s[I_]=o}(s,{previous:ie,current:null}),p=h.current||(h.current={}),v=h.previous,b=this.declaredInputs[u],I=v[b];p[b]=new Gh(I&&I.currentValue,o,v===ie),s[d]=o}zh.ngInherit=!0;const I_="__ngSimpleChanges__";function Mu(s){return s[I_]||null}let Oo;function Bs(s){Oo=s}function Jt(s){return!!s.listen}const Oc={createRenderer:(s,o)=>void 0!==Oo?Oo:"undefined"!=typeof document?document:void 0};function Xt(s){for(;Array.isArray(s);)s=s[0];return s}function Lu(s,o){return Xt(o[s])}function zr(s,o){return Xt(o[s.index])}function qs(s,o){return s.data[o]}function pr(s,o){const u=o[s];return $r(u)?u:u[0]}function Uu(s){return 4==(4&s[2])}function Zu(s){return 128==(128&s[2])}function Hs(s,o){return null==o?null:s[o]}function Pc(s){s[18]=0}function Wh(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const ot={lFrame:xg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Kh(){return ot.bindingsEnabled}function Ce(){return ot.lFrame.lView}function At(){return ot.lFrame.tView}function Yh(s){return ot.lFrame.contextLView=s,s[8]}function yn(){let s=Dg();for(;null!==s&&64===s.type;)s=s.parent;return s}function Dg(){return ot.lFrame.currentTNode}function ui(s,o){const u=ot.lFrame;u.currentTNode=s,u.isParent=o}function Qh(){return ot.lFrame.isParent}function ba(){return ot.isInCheckNoChangesMode}function Gs(s){ot.isInCheckNoChangesMode=s}function zs(){return ot.lFrame.bindingIndex++}function ef(s,o){const u=ot.lFrame;u.bindingIndex=u.bindingRootIndex=s,$u(o)}function $u(s){ot.lFrame.currentDirectiveIndex=s}function ko(){return ot.lFrame.currentQueryIndex}function rf(s){ot.lFrame.currentQueryIndex=s}function A_(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function D_(s,o,u){if(u&Ae.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&Ae.Host||(h=A_(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=ot.lFrame=Rg();return d.currentTNode=o,d.lView=s,!0}function Gu(s){const o=Rg(),u=s[1];ot.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Rg(){const s=ot.lFrame,o=null===s?null:s.child;return null===o?xg(s):o}function xg(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Og(){const s=ot.lFrame;return ot.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Z0=Og;function Mg(){const s=Og();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Nr(){return ot.lFrame.selectedIndex}function Fo(s){ot.lFrame.selectedIndex=s}function en(){const s=ot.lFrame;return qs(s.tView,s.selectedIndex)}function Ea(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:D}=p;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),b&&((s.contentHooks||(s.contentHooks=[])).push(u,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,b)),I&&(s.viewHooks||(s.viewHooks=[])).push(-u,I),A&&((s.viewHooks||(s.viewHooks=[])).push(u,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,A)),null!=D&&(s.destroyHooks||(s.destroyHooks=[])).push(u,D)}}function wa(s,o,u){uf(s,o,3,u)}function af(s,o,u,d){(3&s[2])===u&&uf(s,o,u,d)}function zu(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function uf(s,o,u,d){const p=null!=d?d:-1,v=o.length-1;let b=0;for(let I=void 0!==d?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(b=o[I],null!=d&&b>=d)break}else o[I]<0&&(s[18]+=65536),(b<p||-1==p)&&(x_(s,u,o,I),s[18]=(4294901760&s[18])+I+2),I++}function x_(s,o,u,d){const h=u[d]<0,p=u[d+1],b=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Ca{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function tn(s,o,u){const d=Jt(s);let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const v=u[h++],b=u[h++],I=u[h++];d?s.setAttribute(o,b,I,v):o.setAttributeNS(v,b,I)}else{const v=p,b=u[++h];Lc(v)?d&&s.setProperty(o,v,b):d?s.setAttribute(o,v,b):o.setAttribute(v,b),h++}}return h}function cf(s){return 3===s||4===s||6===s}function Lc(s){return 64===s.charCodeAt(0)}function df(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||hf(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function hf(s,o,u,d,h){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Pg(s){return-1!==s}function Wu(s){return 32767&s}function Ku(s,o){let u=function(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let Yu=!0;function Vc(s){const o=Yu;return Yu=s,o}let et=0;function Ys(s,o){const u=Ia(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Rr(d.data,s),Rr(o,null),Rr(d.blueprint,null));const h=Lo(s,o),p=s.injectorIndex;if(Pg(h)){const v=Wu(h),b=Ku(h,o),I=b[1].data;for(let A=0;A<8;A++)o[p+A]=b[v+A]|I[v+A]}return o[p+8]=h,p}function Rr(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ia(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Lo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){const p=h[1],v=p.type;if(d=2===v?p.declTNode:1===v?h[6]:null,null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function xr(s,o,u){!function(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(mn)&&(d=u[mn]),null==d&&(d=u[mn]=et++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function P_(s,o,u){if(u&Ae.Optional)return s;he(o,"NodeInjector")}function Ta(s,o,u,d){if(u&Ae.Optional&&void 0===d&&(d=null),0==(u&(Ae.Self|Ae.Host))){const h=s[9],p=sn(void 0);try{return h?h.get(o,d,u&Ae.Optional):kt(o,d,u&Ae.Optional)}finally{sn(p)}}return P_(d,o,u)}function Wr(s,o,u,d=Ae.Default,h){if(null!==s){const p=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(mn)?s[mn]:void 0;return"number"==typeof o?o>=0?255&o:k_:o}(u);if("function"==typeof p){if(!D_(o,s,d))return d&Ae.Host?P_(h,u,d):Ta(o,u,d,h);try{const v=p(d);if(null!=v||d&Ae.Optional)return v;he(u)}finally{Z0()}}else if("number"==typeof p){let v=null,b=Ia(s,o),I=-1,A=d&Ae.Host?o[16][6]:null;for((-1===b||d&Ae.SkipSelf)&&(I=-1===b?Lo(s,o):o[b+8],-1!==I&&Qu(d,!1)?(v=o[1],b=Wu(I),o=Ku(I,o)):b=-1);-1!==b;){const D=o[1];if(F_(p,b,D.data)){const x=jc(b,o,u,v,d,A);if(x!==Fg)return x}I=o[b+8],-1!==I&&Qu(d,o[1].data[b+8]===A)&&F_(p,b,o)?(v=D,b=Wu(I),o=Ku(I,o)):b=-1}}}return Ta(o,u,d,h)}const Fg={};function k_(){return new ci(yn(),Ce())}function jc(s,o,u,d,h,p){const v=o[1],b=v.data[s+8],D=Bc(b,v,u,null==d?Dc(b)&&Yu:d!=v&&0!=(3&b.type),h&Ae.Host&&p===b);return null!==D?Aa(o,v,D,b):Fg}function Bc(s,o,u,d,h){const p=s.providerIndexes,v=o.data,b=1048575&p,I=s.directiveStart,D=p>>20,F=h?b+D:s.directiveEnd;for(let H=d?b:b+D;H<F;H++){const G=v[H];if(H<I&&u===G||H>=I&&G.type===u)return H}if(h){const H=v[I];if(H&&xi(H)&&H.type===u)return I}return null}function Aa(s,o,u,d){let h=s[u];const p=o.data;if(function(s){return s instanceof Ca}(h)){const v=h;v.resolving&&function(s,o){throw new Re("200",`Circular dependency in DI detected for ${s}`)}(ct(p[u]));const b=Vc(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?sn(v.injectImpl):null;D_(s,d,Ae.Default);try{h=s[u]=v.factory(void 0,p,s,d),o.firstCreatePass&&u>=d.directiveStart&&function(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const v=Ou(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==I&&sn(I),Vc(b),v.resolving=!1,Z0()}}return h}function F_(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Qu(s,o){return!(s&Ae.Self||s&Ae.Host&&o)}class ci{constructor(o,u){this._tNode=o,this._lView=u}get(o,u){return Wr(this._tNode,this._lView,o,void 0,u)}}function Vg(s){return ze(()=>{const o=s.prototype.constructor,u=o[qt]||Ju(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[qt]||Ju(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ju(s){return Se(s)?()=>{const o=Ju(re(s));return o&&o()}:hs(s)}function Wi(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(cf(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(yn(),s)}const Da="__parameters__";function Vo(s,o,u){return ze(()=>{const d=function(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const v=new h(...p);return b.annotation=v,b;function b(I,A,D){const x=I.hasOwnProperty(Da)?I[Da]:Object.defineProperty(I,Da,{value:[]})[Da];for(;x.length<=D;)x.push(null);return(x[D]=x[D]||[]).push(v),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class _n{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=nn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Sa=new _n("AnalyzeForEntryComponents"),Hc=Function;function hi(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(o===s&&(o=s.slice(0,u)),hi(d,o)):o!==s&&o.push(d)}return o}function Kr(s,o){s.forEach(u=>Array.isArray(u)?Kr(u,o):o(u))}function $c(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function _s(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function gr(s,o,u){let d=nr(s,o);return d>=0?s[1|d]=u:(d=~d,function(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function Xu(s,o){const u=nr(s,o);if(u>=0)return s[1|u]}function nr(s,o){return function(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),v=s[p<<u];if(o===v)return p<<u;v>o?h=p:d=p+1}return~(h<<u)}(s,o,1)}const Zo={},yf="__NG_DI_FLAG__",Js="ngTempTokenPath",Wc=/\n/gm,rl="__source",sl=V({provide:String,useValue:V});let Xs;function jo(s){const o=Xs;return Xs=s,o}function $_(s,o=Ae.Default){if(void 0===Xs)throw new Error("inject() must be called from an injection context");return null===Xs?kt(s,void 0,o):Xs.get(s,o&Ae.Optional?null:void 0,o)}function In(s,o=Ae.Default){return(Bt||$_)(re(s),o)}function eo(s){const o=[];for(let u=0;u<s.length;u++){const d=re(s[u]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let h,p=Ae.Default;for(let v=0;v<d.length;v++){const b=d[v],I=Wg(b);"number"==typeof I?-1===I?h=b.token:p|=I:h=b}o.push(In(h,p))}else o.push(In(d))}return o}function xa(s,o){return s[yf]=o,s.prototype[yf]=o,s}function Wg(s){return s[yf]}function jn(s,o,u,d){const h=s[Js];throw o[rl]&&h.unshift(o[rl]),s.message=function(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=O(o);if(Array.isArray(o))h=o.map(O).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];p.push(v+":"+("string"==typeof b?JSON.stringify(b):O(b)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Wc,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[Js]=null,s}const Oa=xa(Vo("Inject",s=>({token:s})),-1),Jr=xa(Vo("Optional"),8),to=xa(Vo("SkipSelf"),4);let Es;function Qi(s){var o;return(null===(o=function(){if(void 0===Es&&(Es=null,B.trustedTypes))try{Es=B.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Es}())||void 0===o?void 0:o.createHTML(s))||s}class Ho{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class K_ extends Ho{getTypeName(){return"HTML"}}class $0 extends Ho{getTypeName(){return"Style"}}class $o extends Ho{getTypeName(){return"Script"}}class em extends Ho{getTypeName(){return"URL"}}class wf extends Ho{getTypeName(){return"ResourceURL"}}function Xr(s){return s instanceof Ho?s.changingThisBreaksApplicationSecurity:s}function Or(s,o){const u=no(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function no(s){return s instanceof Ho&&s.getTypeName()||null}function tm(s){return new K_(s)}function nm(s){return new $0(s)}function Cf(s){return new $o(s)}function ws(s){return new em(s)}function rm(s){return new wf(s)}class ed{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Qi(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class im{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Qi(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Qi(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const v=u.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const sm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,td=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Go(s){return(s=String(s)).match(sm)||s.match(td)?s:"unsafe:"+s}function Fi(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function zo(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const nd=Fi("area,br,col,hr,img,wbr"),am=Fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fl=Fi("rp,rt"),rd=zo(nd,zo(am,Fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zo(fl,Fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zo(fl,am)),id=Fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pl=Fi("srcset"),lm=zo(id,pl,Fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gl=Fi("script,style,template");class sd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!rd.hasOwnProperty(u))return this.sanitizedSomething=!0,!gl.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),v=p.name,b=v.toLowerCase();if(!lm.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let I=p.value;id[b]&&(I=Go(I)),pl[b]&&(s=I,I=(s=String(s)).split(",").map(o=>Go(o.trim())).join(", ")),this.buf.push(" ",v,'="',dm(I),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();rd.hasOwnProperty(u)&&!nd.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(dm(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const cm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tf=/([^\#-~ |!])/g;function dm(s){return s.replace(/&/g,"&amp;").replace(cm,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Tf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ml;function Af(s,o){let u=null;try{ml=ml||function(s){const o=new im(s);return function(){try{return!!(new window.DOMParser).parseFromString(Qi(""),"text/html")}catch(s){return!1}}()?new ed(o):o}(s);let d=o?String(o):"";u=ml.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=u.innerHTML,u=ml.getInertBodyElement(d)}while(d!==p);return Qi((new sd).sanitizeChildren(od(u)||u))}finally{if(u){const d=od(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function od(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Yt=(()=>((Yt=Yt||{})[Yt.NONE=0]="NONE",Yt[Yt.HTML=1]="HTML",Yt[Yt.STYLE=2]="STYLE",Yt[Yt.SCRIPT=3]="SCRIPT",Yt[Yt.URL=4]="URL",Yt[Yt.RESOURCE_URL=5]="RESOURCE_URL",Yt))();function fi(s){const o=function(){const s=Ce();return s&&s[12]}();return o?o.sanitize(Yt.URL,s)||"":Or(s,"URL")?Xr(s):Go(Le(s))}const ld="__ngContext__";function $t(s,o){s[ld]=o}function zn(s){const o=function(s){return s[ld]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function C(s){return s.ngOriginalError}function M(s,...o){s.error(...o)}class K{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),d=this._findContext(o),h=(s=o)&&s.ngErrorLogger||M;var s;h(this._console,"ERROR",o),u&&h(this._console,"ORIGINAL ERROR",u),d&&h(this._console,"ERROR CONTEXT",d)}_findContext(o){return o?o.ngDebugContext||this._findContext(C(o)):null}_findOriginalError(o){let u=o&&C(o);for(;u&&C(u);)u=C(u);return u||null}}const hd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Xi(s){return s instanceof Function?s():s}var ro=(()=>((ro=ro||{})[ro.Important=1]="Important",ro[ro.DashCase=2]="DashCase",ro))();function nv(s,o){return undefined(s,o)}function fd(s){const o=s[3];return Lt(o)?o[3]:o}function vm(s){return Y0(s[13])}function sv(s){return Y0(s[4])}function Y0(s){for(;null!==s&&!Lt(s);)s=s[4];return s}function pd(s,o,u,d,h){if(null!=d){let p,v=!1;Lt(d)?p=d:$r(d)&&(v=!0,d=d[0]);const b=Xt(d);0===s&&null!==u?null==h?es(o,u,b):io(o,u,b,h||null,!0):1===s&&null!==u?io(o,u,b,h||null,!0):2===s?function(s,o,u){const d=wm(s,o);d&&function(s,o,u,d){Jt(s)?s.removeChild(o,u,d):o.removeChild(u)}(s,d,o,u)}(o,b,v):3===s&&o.destroyNode(b),null!=p&&function(s,o,u,d,h){const p=u[7];p!==Xt(u)&&pd(o,s,d,p,h);for(let b=10;b<u.length;b++){const I=u[b];Lf(I[1],I,s,o,d,p)}}(o,s,p,u,h)}}function av(s,o,u){return Jt(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function J0(s,o){const u=s[9],d=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Wh(h,-1)),u.splice(d,1)}function lv(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&J0(h,d),o>0&&(s[u-1][4]=d[4]);const p=_s(s,10+o);!function(s,o){Lf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=p[19];null!==v&&v.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function X0(s,o){if(!(256&o[2])){const u=o[11];Jt(u)&&u.destroyNode&&Lf(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return Em(s[1],s);for(;o;){let u=null;if($r(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)$r(o)&&Em(o[1],o),o=o[3];null===o&&(o=s),$r(o)&&Em(o[1],o),u=o&&o[4]}o=u}}(o)}}function Em(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof Ca)){const p=u[d+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const b=h[p[v]],I=p[v+1];try{I.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const v=u[p+1],b="function"==typeof v?v(o):Xt(o[v]),I=d[h=u[p+2]],A=u[p+3];"boolean"==typeof A?b.removeEventListener(u[p],I,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),p+=2}else{const v=d[h=u[p+1]];u[p].call(v)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();o[7]=null}}(s,o),1===o[1].type&&Jt(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Lt(o[3])){u!==o[3]&&J0(u,o);const d=o[19];null!==d&&d.detachView(s)}}}function Tn(s,o,u){return function(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===gn.None||h===gn.Emulated)return null}return zr(d,u)}(s,o.parent,u)}function io(s,o,u,d,h){Jt(s)?s.insertBefore(o,u,d,h):o.insertBefore(u,d,h)}function es(s,o,u){Jt(s)?s.appendChild(o,u):o.appendChild(u)}function ts(s,o,u,d,h){null!==d?io(s,o,u,d,h):es(s,o,u)}function wm(s,o){return Jt(s)?s.parentNode(o):o.parentNode}let cv=function(s,o,u){return 40&s.type?zr(s,u):null};function Ff(s,o,u,d){const h=Tn(s,d,o),p=o[11],b=function(s,o,u){return cv(s,o,u)}(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)ts(p,h,u[I],b,!1);else ts(p,h,u,b,!1)}function yd(s,o){if(null!==o){const u=o.type;if(3&u)return zr(o,s);if(4&u)return Jo(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return yd(s,d);{const h=s[o.index];return Lt(h)?Jo(-1,h):Xt(h)}}if(32&u)return nv(o,s)()||Xt(s[o.index]);{const d=AA(s,o);return null!==d?Array.isArray(d)?d[0]:yd(fd(s[16]),d):yd(s,o.next)}}return null}function AA(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Jo(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return yd(d,h)}return o[7]}function pv(s,o,u,d,h,p,v){for(;null!=u;){const b=d[u.index],I=u.type;if(v&&0===o&&(b&&$t(Xt(b),d),u.flags|=4),64!=(64&u.flags))if(8&I)pv(s,o,u.child,d,h,p,!1),pd(o,s,h,b,p);else if(32&I){const A=nv(u,d);let D;for(;D=A();)pd(o,s,h,D,p);pd(o,s,h,b,p)}else 16&I?gv(s,o,d,u,h,p):pd(o,s,h,b,p);u=v?u.projectionNext:u.next}}function Lf(s,o,u,d,h,p){pv(u,d,s.firstChild,o,h,p,!1)}function gv(s,o,u,d,h,p){const v=u[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)pd(o,s,h,I[A],p);else pv(s,o,I,v[3],h,p,!0)}function nw(s,o,u){Jt(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function Im(s,o,u){Jt(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function rw(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}const iw="ng-template";function mv(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==rw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function sw(s){return 4===s.type&&s.value!==iw}function RA(s,o,u){return o===(4!==s.type||u?s.value:iw)}function ow(s,o,u){let d=4;const h=s.attrs||[],p=function(s){for(let o=0;o<s.length;o++)if(cf(s[o]))return o;return s.length}(h);let v=!1;for(let b=0;b<o.length;b++){const I=o[b];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!RA(s,I,u)||""===I&&1===o.length){if(Cs(d))return!1;v=!0}}else{const A=8&d?I:o[++b];if(8&d&&null!==s.attrs){if(!mv(s.attrs,A,u)){if(Cs(d))return!1;v=!0}continue}const x=dN(8&d?"class":I,h,sw(s),u);if(-1===x){if(Cs(d))return!1;v=!0;continue}if(""!==A){let F;F=x>p?"":h[x+1].toLowerCase();const H=8&d?F:null;if(H&&-1!==rw(H,A,0)||2&d&&A!==F){if(Cs(d))return!1;v=!0}}}}else{if(!v&&!Cs(d)&&!Cs(I))return!1;if(v&&Cs(I))continue;v=!1,d=I|1&d}}return Cs(d)||v}function Cs(s){return 0==(1&s)}function dN(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let p=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function yv(s,o,u=!1){for(let d=0;d<o.length;d++)if(ow(s,o[d],u))return!0;return!1}function Tm(s,o){return s?":not("+o.trim()+")":o}function MA(s){let o=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&d){const b=s[++u];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Cs(v)&&(o+=Tm(p,h),h=""),d=v,p=p||!Cs(d);u++}return""!==h&&(o+=Tm(p,h)),o}const gt={};function uw(s){so(At(),Ce(),Nr()+s,ba())}function so(s,o,u,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&wa(o,p,u)}else{const p=s.preOrderHooks;null!==p&&af(o,p,0,u)}Fo(u)}function _v(s,o){return s<<17|o<<2}function Is(s){return s>>17&32767}function Am(s){return 2|s}function ei(s){return(131068&s)>>2}function Mt(s,o){return-131069&s|o<<2}function bv(s){return 1|s}function gw(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],p=u[d+1];if(-1!==p){const v=s.data[p];rf(h),v.contentQueries(2,o[p],p)}}}function wl(s,o,u,d,h,p,v,b,I,A){const D=o.blueprint.slice();return D[0]=h,D[2]=140|d,Pc(D),D[3]=D[15]=s,D[8]=u,D[10]=v||s&&s[10],D[11]=b||s&&s[11],D[12]=I||s&&s[12]||null,D[9]=A||s&&s[9]||null,D[6]=p,D[16]=2==o.type?s[16]:D,D}function Za(s,o,u,d,h){let p=s.data[o];if(null===p)p=function(s,o,u,d,h){const p=Dg(),v=Qh(),I=s.data[o]=function(s,o,u,d,h,p){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(v?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(s,o,u,d,h),ot.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const v=function(){const s=ot.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return ui(p,!0),p}function vd(s,o,u,d){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Bf(s,o,u){Gu(o);try{const d=s.viewQuery;null!==d&&Bm(1,d,u);const h=s.template;null!==h&&_w(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&gw(s,o),s.staticViewQueries&&Bm(2,s.viewQuery,u);const p=s.components;null!==p&&function(s,o){for(let u=0;u<o.length;u++)Rw(s,o[u])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Mg()}}function ja(s,o,u,d){const h=o[2];if(256==(256&h))return;Gu(o);const p=ba();try{Pc(o),function(s){ot.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&_w(s,o,u,2,d);const v=3==(3&h);if(!p)if(v){const A=s.preOrderCheckHooks;null!==A&&wa(o,A,null)}else{const A=s.preOrderHooks;null!==A&&af(o,A,0,null),zu(o,0)}if(function(s){for(let o=vm(s);null!==o;o=sv(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d],p=h[3];0==(1024&h[2])&&Wh(p,1),h[2]|=1024}}}(o),function(s){for(let o=vm(s);null!==o;o=sv(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];Zu(d)&&ja(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&gw(s,o),!p)if(v){const A=s.contentCheckHooks;null!==A&&wa(o,A)}else{const A=s.contentHooks;null!==A&&af(o,A,1),zu(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Fo(~h);else{const p=h,v=u[++d],b=u[++d];ef(v,p),b(2,o[p])}}}finally{Fo(-1)}}(s,o);const b=s.components;null!==b&&function(s,o){for(let u=0;u<o.length;u++)YA(s,o[u])}(o,b);const I=s.viewQuery;if(null!==I&&Bm(2,I,d),!p)if(v){const A=s.viewCheckHooks;null!==A&&wa(o,A)}else{const A=s.viewHooks;null!==A&&af(o,A,2),zu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Wh(o[3],-1))}finally{Mg()}}function yw(s,o,u,d){const h=o[10],p=!ba(),v=Uu(o);try{p&&!v&&h.begin&&h.begin(),v&&Bf(s,o,d),ja(s,o,u,d)}finally{p&&!v&&h.end&&h.end()}}function _w(s,o,u,d,h){const p=Nr(),v=2&d;try{Fo(-1),v&&o.length>20&&so(s,o,20,ba()),u(d,h)}finally{Fo(p)}}function ir(s,o,u){!Kh()||(function(s,o,u,d){const h=u.directiveStart,p=u.directiveEnd;s.firstCreatePass||Ys(u,o),$t(d,o);const v=u.initialInputs;for(let b=h;b<p;b++){const I=s.data[b],A=xi(I);A&&Nv(o,u,I);const D=Aa(o,s,b,u);$t(D,o),null!==v&&Sw(0,b-h,D,I,0,v),A&&(pr(u.index,o)[8]=D)}}(s,o,u,zr(u,o)),128==(128&u.flags)&&function(s,o,u){const d=u.directiveStart,h=u.directiveEnd,v=u.index,b=ot.lFrame.currentDirectiveIndex;try{Fo(v);for(let I=d;I<h;I++){const A=s.data[I],D=o[I];$u(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Um(A,D)}}finally{Fo(-1),$u(b)}}(s,o,u))}function Cl(s,o,u=zr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const v=d[p+1],b=-1===v?u(o,s):s[v];s[h++]=b}}}function bw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ba(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ba(s,o,u,d,h,p,v,b,I,A){const D=20+d,x=D+h,F=function(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:gt);return u}(D,x),H="function"==typeof A?A():A;return F[1]={type:s,blueprint:F,template:u,queries:null,viewQuery:b,declTNode:o,data:F.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:H,incompleteFirstPass:!1}}function km(s,o,u,d){const h=Ed(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&Pv(s).push(d,h.length-1))}function Fm(s,o,u){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(o,h):u[d]=[o,h]}return u}function gi(s,o,u,d,h,p,v,b){const I=zr(o,u);let D,A=o.inputs;!b&&null!=A&&(D=A[d])?(wd(s,u,D,d,h),Dc(o)&&function(s,o){const u=pr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(d=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,Jt(p)?p.setProperty(I,d,h):Lc(d)||(I.setProperty?I.setProperty(d,h):I[d]=h))}function Hf(s,o,u,d){let h=!1;if(Kh()){const p=function(s,o,u){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const v=d[p];yv(u,v.selectors,!1)&&(h||(h=[]),xr(Ys(u,o),s,v.type),xi(v)?(Tw(s,u),h.unshift(v)):h.push(v))}return h}(s,o,u),v=null===d?null:{"":-1};if(null!==p){h=!0,Dw(u,s.data.length,p.length);for(let D=0;D<p.length;D++){const x=p[D];x.providersResolver&&x.providersResolver(x)}let b=!1,I=!1,A=vd(s,o,p.length,null);for(let D=0;D<p.length;D++){const x=p[D];u.mergedAttrs=df(u.mergedAttrs,x.hostAttrs),Zm(s,u,o,A,x),WA(A,x,v),null!==x.contentQueries&&(u.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(u.flags|=128);const F=x.type.prototype;!b&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),b=!0),!I&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),I=!0),A++}!function(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,v=[];let b=null,I=null;for(let A=o.directiveStart;A<d;A++){const D=h[A],x=D.inputs,F=null===p||sw(o)?null:KA(x,p);v.push(F),b=Fm(x,A,b),I=Fm(D.outputs,A,I)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=b,o.outputs=I}(s,u)}v&&function(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new Re("301",`Export of name '${o[h+1]}' not found!`);d.push(o[h],p)}}}(u,d,v)}return u.mergedAttrs=df(u.mergedAttrs,u.attrs),h}function Lm(s,o,u,d,h,p){const v=p.hostBindings;if(v){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const I=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(b)!=I&&b.push(I),b.push(d,h,v)}}function Um(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Tw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function WA(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;xi(o)&&(u[""]=s)}}function Dw(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Zm(s,o,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=hs(h.type)),v=new Ca(p,xi(h),null);s.blueprint[d]=v,u[d]=v,Lm(s,o,0,d,vd(s,u,h.hostVars,gt),h)}function Nv(s,o,u){const d=zr(o,s),h=bw(u),p=s[10],v=Gf(s,wl(s,h,null,u.onPush?64:16,d,o,p,p.createRenderer(d,u),null,null));s[o.index]=v}function ao(s,o,u,d,h,p){const v=zr(s,o);!function(s,o,u,d,h,p,v){if(null==p)Jt(s)?s.removeAttribute(o,h,u):o.removeAttribute(h);else{const b=null==v?Le(p):v(p,d||"",h);Jt(s)?s.setAttribute(o,h,b,u):u?o.setAttributeNS(u,h,b):o.setAttribute(h,b)}}(o[11],v,p,s.value,u,d,h)}function Sw(s,o,u,d,h,p){const v=p[o];if(null!==v){const b=d.setInput;for(let I=0;I<v.length;){const A=v[I++],D=v[I++],x=v[I++];null!==b?d.setInput(u,x,A,D):u[D]=x}}}function KA(s,o){let u=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return u}function jm(s,o,u,d){return new Array(s,!0,!1,o,null,0,d,u,null,null)}function YA(s,o){const u=pr(o,s);if(Zu(u)){const d=u[1];80&u[2]?ja(d,u,d.template,u[8]):u[5]>0&&Il(u)}}function Il(s){for(let d=vm(s);null!==d;d=sv(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const v=p[1];ja(v,p,v.template,p[8])}else p[5]>0&&Il(p)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=pr(u[d],s);Zu(h)&&h[5]>0&&Il(h)}}function Rw(s,o){const u=pr(o,s),d=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),Bf(d,u,u[8])}function Gf(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function bd(s){for(;s;){s[2]|=64;const o=fd(s);if(jh(s)&&!o)return s;s=o}return null}function qa(s,o,u){const d=o[10];d.begin&&d.begin();try{ja(s,o,s.template,u)}catch(h){throw kv(o,h),h}finally{d.end&&d.end()}}function Ow(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],d=zn(u),h=d[1];yw(h,d,h.template,u)}}(s[8])}function Bm(s,o,u){rf(0),o(s,u)}const Mw=(()=>Promise.resolve(null))();function Ed(s){return s[7]||(s[7]=[])}function Pv(s){return s.cleanup||(s.cleanup=[])}function kv(s,o){const u=s[9],d=u?u.get(K,null):null;d&&d.handleError(o)}function wd(s,o,u,d,h){for(let p=0;p<u.length;){const v=u[p++],b=u[p++],I=o[v],A=s.data[v];null!==A.setInput?A.setInput(I,h,d,b):I[b]=h}}function ns(s,o,u){const d=Lu(o,s);!function(s,o,u){Jt(s)?s.setValue(o,u):o.textContent=u}(s[11],d,u)}function zf(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?p=b:1==p?h=Z(h,b):2==p&&(d=Z(d,b+": "+o[++v]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}const uo=new _n("INJECTOR",-1);class qm{get(o,u=Zo){if(u===Zo){const d=new Error(`NullInjectorError: No provider for ${O(o)}!`);throw d.name="NullInjectorError",d}return u}}const Al=new _n("Set Injector scope."),Dl={},Hm={};let Sl;function Lv(){return void 0===Sl&&(Sl=new qm),Sl}function $m(s,o=null,u=null,d){return new Gm(s,u,o||Lv(),d)}class Gm{constructor(o,u,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];u&&Kr(u,b=>this.processProvider(b,o,u)),Kr([o],b=>this.processInjectorType(b,[],p)),this.records.set(uo,Cd(void 0,this));const v=this.records.get(Al);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:O(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Zo,d=Ae.Default){this.assertNotDestroyed();const h=jo(this),p=sn(void 0);try{if(!(d&Ae.SkipSelf)){let b=this.records.get(o);if(void 0===b){const I=("function"==typeof(s=o)||"object"==typeof s&&s instanceof _n)&&Dr(o);b=I&&this.injectableDefInScope(I)?Cd(Wf(o),Dl):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(d&Ae.Self?Lv():this.parent).get(o,u=d&Ae.Optional&&u===Zo?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Js]=v[Js]||[]).unshift(O(o)),h)throw v;return jn(v,o,"R3InjectorError",this.source)}throw v}finally{sn(p),jo(h)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(O(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,d){if(!(o=re(o)))return!1;let h=cs(o);const p=null==h&&o.ngModule||void 0,v=void 0===p?o:p,b=-1!==d.indexOf(v);if(void 0!==p&&(h=cs(p)),null==h)return!1;if(null!=h.imports&&!b){let D;d.push(v);try{Kr(h.imports,x=>{this.processInjectorType(x,u,d)&&(void 0===D&&(D=[]),D.push(x))})}finally{}if(void 0!==D)for(let x=0;x<D.length;x++){const{ngModule:F,providers:H}=D[x];Kr(H,G=>this.processProvider(G,F,H||Ie))}}this.injectorDefTypes.add(v);const I=hs(v)||(()=>new v);this.records.set(v,Cd(I,Dl));const A=h.providers;if(null!=A&&!b){const D=o;Kr(A,x=>this.processProvider(x,D,A))}return void 0!==p&&void 0!==o.providers}processProvider(o,u,d){let h=lo(o=re(o))?o:re(o&&o.provide);const p=Id(s=o)?Cd(void 0,s.useValue):Cd(Vv(s),Dl);var s;if(lo(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Cd(void 0,Dl,!0),v.factory=()=>eo(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,p)}hydrate(o,u){return u.value===Dl&&(u.value=Hm,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=re(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Wf(s){const o=Dr(s),u=null!==o?o.factory:hs(s);if(null!==u)return u;if(s instanceof _n)throw new Error(`Token ${O(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const d=function(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${O(s)}: (${d.join(", ")}).`)}const u=function(s){const o=s&&(s[Vn]||s[Vs]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function Vv(s,o,u){let d;if(lo(s)){const h=re(s);return hs(h)||Wf(h)}if(Id(s))d=()=>re(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...eo(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))d=()=>In(re(s.useExisting));else{const h=re(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return hs(h)||Wf(h);d=()=>new h(...eo(s.deps))}return d}function Cd(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Id(s){return null!==s&&"object"==typeof s&&sl in s}function lo(s){return"function"==typeof s}const Ha=function(s,o,u){return function(s,o=null,u=null,d){const h=$m(s,o,u,d);return h._resolveInjectorDefTypes(),h}({name:u},o,s,u)};class Zt{static create(o,u){return Array.isArray(o)?Ha(o,u,""):Ha(o.providers,o.parent,o.name||"")}}function Yw(s,o){Ea(zn(s)[1],yn())}function Kv(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(xi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");h=o.\u0275dir}if(h){if(u){d.push(h);const v=s;v.inputs=Ym(s.inputs),v.declaredInputs=Ym(s.declaredInputs),v.outputs=Ym(s.outputs);const b=h.hostBindings;b&&uD(s,b);const I=h.viewQuery,A=h.contentQueries;if(I&&oD(s,I),A&&aD(s,A),L(s.inputs,h.inputs),L(s.declaredInputs,h.declaredInputs),L(s.outputs,h.outputs),xi(h)&&h.data.animation){const D=s.data;D.animation=(D.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const b=p[v];b&&b.ngInherit&&b(s),b===Kv&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=df(h.hostAttrs,u=df(u,h.hostAttrs))}}(d)}function Ym(s){return s===ie?{}:s===Ie?[]:s}function oD(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function aD(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{o(d,h,p),u(d,h,p)}:o}function uD(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}Zt.THROW_IF_NOT_FOUND=Zo,Zt.NULL=new qm,Zt.\u0275prov=nn({token:Zt,providedIn:"any",factory:()=>In(uo)}),Zt.__NG_ELEMENT_ID__=-1;let ep=null;function Xo(){if(!ep){const s=B.Symbol;if(s&&s.iterator)ep=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(ep=d)}}}return ep}function Md(s){return!!xl(s)&&(Array.isArray(s)||!(s instanceof Map)&&Xo()in s)}function xl(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Kn(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Jv(s,o,u,d){const h=Ce();return Kn(h,zs(),o)&&(At(),ao(en(),h,s,o,u,d)),Jv}function co(s,o,u,d){return Kn(s,zs(),u)?o+Le(u)+d:gt}function Vl(s,o,u,d,h,p,v,b){const I=Ce(),A=At(),D=s+20,x=A.firstCreatePass?function(s,o,u,d,h,p,v,b,I){const A=o.consts,D=Za(o,s,4,v||null,Hs(A,b));Hf(o,u,D,Hs(A,I)),Ea(o,D);const x=D.tViews=Ba(2,D,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,D),x.queries=o.queries.embeddedTView(D)),D}(D,A,I,o,u,d,h,p,v):A.data[D];ui(x,!1);const F=I[11].createComment("");Ff(A,I,F,x),$t(F,I),Gf(I,I[D]=jm(F,I,F,x)),Gr(x)&&ir(A,I,x),null!=v&&Cl(I,x,b)}function En(s,o=Ae.Default){const u=Ce();return null===u?In(s,o):Wr(yn(),u,re(s),o)}function ip(s,o,u){const d=Ce();return Kn(d,zs(),o)&&gi(At(),en(),d,s,o,d[11],u,!1),ip}function Jm(s,o,u,d,h){const v=h?"class":"style";wd(s,u,o.inputs[v],v,d)}function na(s,o,u,d){const h=Ce(),p=At(),v=20+s,b=h[11],I=h[v]=av(b,o,ot.lFrame.currentNamespace),A=p.firstCreatePass?function(s,o,u,d,h,p,v){const b=o.consts,A=Za(o,s,2,h,Hs(b,p));return Hf(o,u,A,Hs(b,v)),null!==A.attrs&&zf(A,A.attrs,!1),null!==A.mergedAttrs&&zf(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,p,h,0,o,u,d):p.data[v];ui(A,!0);const D=A.mergedAttrs;null!==D&&tn(b,I,D);const x=A.classes;null!==x&&Im(b,I,x);const F=A.styles;null!==F&&nw(b,I,F),64!=(64&A.flags)&&Ff(p,h,I,A),0===ot.lFrame.elementDepthCount&&$t(I,h),ot.lFrame.elementDepthCount++,Gr(A)&&(ir(p,h,A),function(s,o,u){if(Ru(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const v=s.data[p];v.contentQueries&&v.contentQueries(1,u[p],p)}}}(p,A,h)),null!==d&&Cl(h,A)}function Zd(){let s=yn();Qh()?ot.lFrame.isParent=!1:(s=s.parent,ui(s,!1));const o=s;ot.lFrame.elementDepthCount--;const u=At();u.firstCreatePass&&(Ea(u,s),Ru(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&Jm(u,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&Jm(u,o,Ce(),o.stylesWithoutHost,!1)}function hb(s,o,u,d){na(s,o,u,d),Zd()}function fb(){return Ce()}function op(s){return!!s&&"function"==typeof s.then}function Xm(s){return!!s&&"function"==typeof s.subscribe}const qd=Xm;function ap(s,o,u,d){const h=Ce(),p=At(),v=yn();return function(s,o,u,d,h,p,v,b){const I=Gr(d),D=s.firstCreatePass&&Pv(s),x=o[8],F=Ed(o);let H=!0;if(3&d.type||b){const ae=zr(d,o),xe=b?b(ae):ae,Ee=F.length,Ye=b?at=>b(Xt(at[d.index])):d.index;if(Jt(u)){let at=null;if(!b&&I&&(at=function(s,o,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===u&&h[p+1]===d){const b=o[7],I=h[p+2];return b.length>I?b[I]:null}"string"==typeof v&&(p+=2)}return null}(s,o,h,d.index)),null!==at)(at.__ngLastListenerFn__||at).__ngNextListenerFn__=p,at.__ngLastListenerFn__=p,H=!1;else{p=Bl(d,o,x,p,!1);const St=u.listen(xe,h,p);F.push(p,St),D&&D.push(h,Ye,Ee,Ee+1)}}else p=Bl(d,o,x,p,!0),xe.addEventListener(h,p,v),F.push(p),D&&D.push(h,Ye,Ee,v)}else p=Bl(d,o,x,p,!1);const G=d.outputs;let de;if(H&&null!==G&&(de=G[h])){const ae=de.length;if(ae)for(let xe=0;xe<ae;xe+=2){const er=o[de[xe]][de[xe+1]].subscribe(p),ls=F.length;F.push(p,er),D&&D.push(h,d.index,ls,-(ls+1))}}}(p,h,h[11],v,s,o,!!u,d),ap}function up(s,o,u,d){try{return!1!==u(d)}catch(h){return kv(s,h),!1}}function Bl(s,o,u,d,h){return function p(v){if(v===Function)return d;const b=2&s.flags?pr(s.index,o):o;0==(32&o[2])&&bd(b);let I=up(o,0,d,v),A=p.__ngNextListenerFn__;for(;A;)I=up(o,0,A,v)&&I,A=A.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function Er(s=1){return function(s){return(ot.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,ot.lFrame.contextLView))[8]}(s)}function Qa(s,o,u,d,h){const p=Ce(),v=co(p,o,u,d);return v!==gt&&gi(At(),en(),p,s,v,p[11],h,!1),Qa}function mC(s,o,u,d,h){const p=s[u+1],v=null===o;let b=d?Is(p):ei(p),I=!1;for(;0!==b&&(!1===I||v);){const D=s[b+1];bD(s[b],o)&&(I=!0,s[b+1]=d?bv(D):Am(D)),b=d?Is(D):ei(D)}I&&(s[u+1]=d?Am(p):bv(p))}function bD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&nr(s,o)>=0}function sy(s,o){return function(s,o,u,d){const h=Ce(),p=At(),v=function(s){const o=ot.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);p.firstUpdatePass&&function(s,o,u,d){const h=s.data;if(null===h[u+1]){const p=h[Nr()],v=function(s,o){return o>=s.expandoStartIndex}(s,u);(function(s,o){return 0!=(s.flags&(o?16:32))})(p,d)&&null===o&&!v&&(o=!1),o=function(s,o,u,d){const h=function(s){const o=ot.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=fo(u=ay(null,s,o,u,d),o.attrs,d),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(u=ay(h,s,o,u,d),null===p){let I=function(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==ei(d))return s[Is(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=ay(null,s,o,I[1],d),I=fo(I,o.attrs,d),function(s,o,u,d){s[Is(u?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else p=function(s,o,u){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=fo(d,s[p].hostAttrs,u);return fo(d,o.attrs,u)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,d),function(s,o,u,d,h,p){let v=p?o.classBindings:o.styleBindings,b=Is(v),I=ei(v);s[d]=u;let D,A=!1;if(Array.isArray(u)){const x=u;D=x[1],(null===D||nr(x,D)>0)&&(A=!0)}else D=u;if(h)if(0!==I){const F=Is(s[b+1]);s[d+1]=_v(F,b),0!==F&&(s[F+1]=Mt(s[F+1],d)),s[b+1]=function(s,o){return 131071&s|o<<17}(s[b+1],d)}else s[d+1]=_v(b,0),0!==b&&(s[b+1]=Mt(s[b+1],d)),b=d;else s[d+1]=_v(I,0),0===b?b=d:s[I+1]=Mt(s[I+1],d),I=d;A&&(s[d+1]=Am(s[d+1])),mC(s,D,d,!0),mC(s,D,d,!1),function(s,o,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&nr(p,o)>=0&&(u[d+1]=bv(u[d+1]))}(o,D,s,d,p),v=_v(b,I),p?o.classBindings=v:o.styleBindings=v}(h,p,o,u,v,d)}}(p,s,v,d),o!==gt&&Kn(h,v,o)&&function(s,o,u,d,h,p,v,b){if(!(3&o.type))return;const I=s.data,A=I[b+1];fp(function(s){return 1==(1&s)}(A)?$l(I,o,u,h,ei(A),v):void 0)||(fp(p)||function(s){return 2==(2&s)}(A)&&(p=$l(I,null,u,h,b,v)),function(s,o,u,d,h){const p=Jt(s);if(o)h?p?s.addClass(u,d):u.classList.add(d):p?s.removeClass(u,d):u.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ro.DashCase;if(null==h)p?s.removeStyle(u,d,v):u.style.removeProperty(d);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),v|=ro.Important),p?s.setStyle(u,d,h,v):u.style.setProperty(d,h,b?"important":"")}}}(d,v,Lu(Nr(),u),h,p))}(p,p.data[Nr()],h,h[11],s,h[v+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=O(Xr(s)))),s}(o,u),d,v)}(s,o,null,!0),sy}function ay(s,o,u,d,h){let p=null;const v=u.directiveEnd;let b=u.directiveStylingLast;for(-1===b?b=u.directiveStart:b++;b<v&&(p=o[b],d=fo(d,p.hostAttrs,h),p!==s);)b++;return null!==s&&(u.directiveStylingLast=b),d}function fo(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),gr(s,v,!!u||o[++p]))}return void 0===s?null:s}function $l(s,o,u,d,h,p){const v=null===o;let b;for(;h>0;){const I=s[h],A=Array.isArray(I),D=A?I[1]:I,x=null===D;let F=u[h+1];F===gt&&(F=x?Ie:void 0);let H=x?Xu(F,d):D===d?F:void 0;if(A&&!fp(H)&&(H=Xu(I,d)),fp(H)&&(b=H,v))return b;const G=s[h+1];h=v?Is(G):ei(G)}if(null!==o){let I=p?o.residualClasses:o.residualStyles;null!=I&&(b=Xu(I,d))}return b}function fp(s){return void 0!==s}function EC(s,o=""){const u=Ce(),d=At(),h=s+20,p=d.firstCreatePass?Za(d,h,1,o,null):d.data[h],v=u[h]=function(s,o){return Jt(s)?s.createText(o):s.createTextNode(o)}(u[11],o);Ff(d,u,v,p),ui(p,!1)}function Ib(s){return Dn("",s,""),Ib}function Dn(s,o,u){const d=Ce(),h=co(d,s,o,u);return h!==gt&&ns(d,Nr(),h),Dn}function Gl(s,o,u){const d=Ce();return Kn(d,zs(),o)&&gi(At(),en(),d,s,o,d[11],u,!0),Gl}const Xa=void 0;var kC=["en",[["a","p"],["AM","PM"],Xa],[["AM","PM"],Xa,Xa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xa,"{1} 'at' {0}",Xa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Wd={};function dy(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=LC(o);if(u)return u;const d=o.split("-")[0];if(u=LC(d),u)return u;if("en"===d)return kC;throw new Error(`Missing locale data for the locale "${s}".`)}function FC(s){return dy(s)[tt.PluralCase]}function LC(s){return s in Wd||(Wd[s]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[s]),Wd[s]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const vp="en-US";let Rb=vp;function py(s){fn(s,"Expected localeId to be defined"),"string"==typeof s&&(Rb=s.toLowerCase().replace(/_/g,"-"))}function Sp(s,o,u,d,h){if(s=re(s),Array.isArray(s))for(let p=0;p<s.length;p++)Sp(s[p],o,u,d,h);else{const p=At(),v=Ce();let b=lo(s)?s:re(s.provide),I=Vv(s);const A=yn(),D=1048575&A.providerIndexes,x=A.directiveStart,F=A.providerIndexes>>20;if(lo(s)||!s.multi){const H=new Ca(I,h,En),G=iu(b,o,h?D:D+F,x);-1===G?(xr(Ys(A,v),p,b),by(p,s,o.length),o.push(b),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(H),v.push(H)):(u[G]=H,v[G]=H)}else{const H=iu(b,o,D+F,x),G=iu(b,o,D,D+F),de=H>=0&&u[H],ae=G>=0&&u[G];if(h&&!ae||!h&&!de){xr(Ys(A,v),p,b);const xe=function(s,o,u,d,h){const p=new Ca(s,u,En);return p.multi=[],p.index=o,p.componentProviders=0,ia(p,h,d&&!u),p}(h?Kl:uI,u.length,h,d,I);!h&&ae&&(u[G].providerFactory=xe),by(p,s,o.length,0),o.push(b),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(xe),v.push(xe)}else by(p,s,H>-1?H:G,ia(u[h?G:H],I,!h&&d));!h&&d&&ae&&u[G].componentProviders++}}}function by(s,o,u,d){const h=lo(o);if(h||function(s){return!!s.useClass}(o)){const v=(o.useClass||o).prototype.ngOnDestroy;if(v){const b=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const I=b.indexOf(u);-1===I?b.push(u,[d,v]):b[I+1].push(d,v)}else b.push(u,v)}}}function ia(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function iu(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function uI(s,o,u,d){return Lb(this.multi,[])}function Kl(s,o,u,d){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=Aa(u,u[1],this.providerFactory.index,d);p=b.slice(0,v),Lb(h,p);for(let I=v;I<b.length;I++)p.push(b[I])}else p=[],Lb(h,p);return p}function Lb(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Vb(s,o=[]){return u=>{u.providersResolver=(d,h)=>function(s,o,u){const d=At();if(d.firstCreatePass){const h=xi(s);Sp(u,d.data,d.blueprint,h,!0),Sp(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class ou{}const Ub="ngComponent";class FD{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${O(s)}. Did you add it to @NgModule.entryComponents?`);return o[Ub]=s,o}(o)}}class Yl{}function sa(...s){}function sh(s,o){return new Bi(zr(s,o))}Yl.NULL=new FD;const au=function(){return sh(yn(),Ce())};let Bi=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=au,s})();function cI(s){return s instanceof Bi?s.nativeElement:s}class oh{}let Zb=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>Bb(),s})();const Bb=function(){const s=Ce(),u=pr(yn().index,s);return function(s){return s[11]}($r(u)?u:s)};let Rp=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class qb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Hb=new qb("12.2.3");class $b{constructor(){}supports(o){return Md(o)}create(o){return new jD(o)}}const hI=(s,o)=>o;class jD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||hI}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const v=!d||u&&u.currentIndex<gI(d,h,p)?u:d,b=gI(v,h,p),I=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{p||(p=[]);const A=b-h,D=I-h;if(A!=D){for(let F=0;F<A;F++){const H=F<p.length?p[F]:p[F]=0,G=H+F;D<=G&&G<A&&(p[F]=H+1)}p[v.previousIndex]=D-A}}b!==I&&o(v,b,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Md(o))throw new Error(`Error trying to diff '${O(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],v=this._trackByFn(b,p),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,p,v,b)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,v,b),d=!0),u=u._next}else h=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Xo()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,b=>{v=this._trackByFn(h,b),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,b,v,h)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,v,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new pI(u,d),p,h),o}_verifyReinsertion(o,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Gb),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class pI{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Gb{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new BD,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gI(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class Ql{constructor(){}supports(o){return o instanceof Map||xl(o)}create(){return new ah}}class ah{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||xl(o)))throw new Error(`Error trying to diff '${O(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const d=new zb(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class zb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xp(){return new Op([new $b])}let Op=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||xp()),deps:[[s,new to,new Jr]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:xp}),s})();function yI(){return new uh([new Ql])}let uh=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||yI()),deps:[[s,new to,new Jr]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:yI}),s})();function wy(s,o,u,d,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&d.push(Xt(p)),Lt(p))for(let b=10;b<p.length;b++){const I=p[b],A=I[1].firstChild;null!==A&&wy(I[1],I,A,d)}const v=u.type;if(8&v)wy(s,o,u.child,d);else if(32&v){const b=nv(u,o);let I;for(;I=b();)d.push(I)}else if(16&v){const b=AA(o,u);if(Array.isArray(b))d.push(...b);else{const I=fd(o[16]);wy(I[1],I,b,d,!0)}}u=h?u.projectionNext:u.next}return d}class Jl{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return wy(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Lt(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(lv(o,d),_s(u,d))}this._attachedToViewContainer=!1}X0(this._lView[1],this._lView)}onDestroy(o){km(this._lView[1],this._lView,null,o)}markForCheck(){bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qa(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){Gs(!0);try{qa(s,o,u)}finally{Gs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Lf(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class qD extends Jl{constructor(o){super(o),this._view=o}detectChanges(){Ow(this._view)}checkNoChanges(){!function(s){Gs(!0);try{Ow(s)}finally{Gs(!1)}}(this._view)}get context(){return null}}const Kb=function(s){return function(s,o,u){if(Dc(s)&&!u){const d=pr(s.index,o);return new Jl(d,d)}return 47&s.type?new Jl(o[16],o):null}(yn(),Ce(),16==(16&s))};let lr=(()=>{class s{}return s.__NG_ELEMENT_ID__=Kb,s})();const GD=[new Ql],WD=new Op([new $b]),KD=new uh(GD),_I=function(){return lh(yn(),Ce())};let Xl=(()=>{class s{}return s.__NG_ELEMENT_ID__=_I,s})();const Cy=Xl,Mp=class extends Cy{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o){const u=this._declarationTContainer.tViews,d=wl(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(u)),Bf(u,d,o),new Jl(d)}};function lh(s,o){return 4&s.type?new Mp(o,s,sh(s,o)):null}class oa{}class Ty{}const bI=function(){return Dy(yn(),Ce())};let Ay=(()=>{class s{}return s.__NG_ELEMENT_ID__=bI,s})();const JD=Ay,Qb=class extends JD{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return sh(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){const o=Lo(this._hostTNode,this._hostLView);if(Pg(o)){const u=Ku(o,this._hostLView),d=Wu(o);return new ci(u[1].data[d+8],u)}return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Pp(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){const h=o.createEmbeddedView(u||{});return this.insert(h,d),h}createComponent(o,u,d,h,p){const v=d||this.parentInjector;if(!p&&null==o.ngModule&&v){const I=v.get(oa,null);I&&(p=I)}const b=o.create(v,h,void 0,p);return this.insert(b.hostView,u),b}insert(o,u){const d=o._lView,h=d[1];if(Lt(d[3])){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const x=d[3],F=new Qb(x,x[6],x[3]);F.detach(F.indexOf(o))}}const p=this._adjustIndex(u),v=this._lContainer;!function(s,o,u,d){const h=10+d,p=u.length;d>0&&(u[h-1][4]=o),d<p-10?(o[4]=u[h],$c(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,d,v,p);const b=Jo(p,v),I=d[11],A=wm(I,v[7]);return null!==A&&function(s,o,u,d,h,p){d[0]=h,d[6]=o,Lf(s,d,u,1,h,p)}(h,v[6],I,d,A,b),o.attachToViewContainerRef(),$c(ec(v),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Pp(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=lv(this._lContainer,u);d&&(_s(ec(this._lContainer),u),X0(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=lv(this._lContainer,u);return d&&null!=_s(ec(this._lContainer),u)?new Jl(d):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function Pp(s){return s[8]}function ec(s){return s[8]||(s[8]=[])}function Dy(s,o){let u;const d=o[s.index];if(Lt(d))u=d;else{let h;if(8&s.type)h=Xt(d);else{const p=o[11];h=p.createComment("");const v=zr(s,o);io(p,wm(p,v),h,function(s,o){return Jt(s)?s.nextSibling(o):o.nextSibling}(p,v),!1)}o[s.index]=u=jm(d,o,h,s),Gf(o,u)}return new Qb(u,s,o)}const du={};class CE extends Yl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Gn(o);return new BI(u,this.ngModule)}}function ZI(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const jI=new _n("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>hd});class BI extends ou{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(MA).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return ZI(this.componentDef.inputs)}get outputs(){return ZI(this.componentDef.outputs)}create(o,u,d,h){const p=(h=h||this.ngModule)?function(s,o){return{get:(u,d,h)=>{const p=s.get(u,du,h);return p!==du||d===du?p:o.get(u,d,h)}}}(o,h.injector):o,v=p.get(oh,Oc),b=p.get(Rp,null),I=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",D=d?function(s,o,u){if(Jt(s))return s.selectRootElement(o,u===gn.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(I,d,this.componentDef.encapsulation):av(v.createRenderer(null,this.componentDef),A,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(A)),x=this.componentDef.onPush?576:528,F=function(s,o){return{components:[],scheduler:s||hd,clean:Mw,playerHandler:o||null,flags:0}}(),H=Ba(0,null,null,1,0,null,null,null,null,null),G=wl(null,H,F,x,null,null,v,I,b,p);let de,ae;Gu(G);try{const xe=function(s,o,u,d,h,p){const v=u[1];u[20]=s;const I=Za(v,20,2,"#host",null),A=I.mergedAttrs=o.hostAttrs;null!==A&&(zf(I,A,!0),null!==s&&(tn(h,s,A),null!==I.classes&&Im(h,s,I.classes),null!==I.styles&&nw(h,s,I.styles)));const D=d.createRenderer(s,o),x=wl(u,bw(o),null,o.onPush?64:16,u[20],I,d,D,p||null,null);return v.firstCreatePass&&(xr(Ys(I,u),v,o.type),Tw(v,I),Dw(I,u.length,1)),Gf(u,x),u[20]=x}(D,this.componentDef,G,v,I);if(D)if(d)tn(I,D,["ng-version",Hb.full]);else{const{attrs:Ee,classes:Ye}=function(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&u.push(p);else{if(!Cs(h))break;h=p}d++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Ee&&tn(I,D,Ee),Ye&&Ye.length>0&&Im(I,D,Ye.join(" "))}if(ae=qs(H,20),void 0!==u){const Ee=ae.projection=[];for(let Ye=0;Ye<this.ngContentSelectors.length;Ye++){const at=u[Ye];Ee.push(null!=at?Array.from(at):null)}}de=function(s,o,u,d,h){const p=u[1],v=function(s,o,u){const d=yn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Zm(s,d,o,vd(s,o,1,null),u));const h=Aa(o,s,d.directiveStart,d);$t(h,o);const p=zr(d,o);return p&&$t(p,o),h}(p,u,o);if(d.components.push(v),s[8]=v,h&&h.forEach(I=>I(v,o)),o.contentQueries){const I=yn();o.contentQueries(1,v,I.directiveStart)}const b=yn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Fo(b.index),Lm(u[1],b,0,b.directiveStart,b.directiveEnd,o),Um(o,v)),v}(xe,this.componentDef,G,F,[Yw]),Bf(H,G,null)}finally{Mg()}return new wS(this.componentType,de,sh(ae,G),G,ae)}}class wS extends class{}{constructor(o,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new qD(h),this.componentType=o}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const hu=new Map;class AE extends oa{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new CE(this);const d=hr(o),h=o[Nn]||null;h&&py(h),this._bootstrapComponents=Xi(d.bootstrap),this._r3Injector=$m(o,u,[{provide:oa,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],O(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Zt.THROW_IF_NOT_FOUND,d=Ae.Default){return o===Zt||o===oa||o===uo?this:this._r3Injector.get(o,u,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Zy extends Ty{constructor(o){super(),this.moduleType=o,null!==hr(o)&&function(s){const o=new Set;!function u(d){const h=hr(d,!0),p=h.id;null!==p&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${O(o)} vs ${O(o.name)}`)}(p,hu.get(p),d),hu.set(p,d));const v=Xi(h.imports);for(const b of v)o.has(b)||(o.add(b),u(b))}(s)}(o)}create(o){return new AE(this.moduleType,o)}}function jy(s,o,u){const d=function(){const s=ot.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}()+s,h=Ce();return h[d]===gt?function(s,o,u){return s[o]=u}(h,d,u?o.call(u):o()):function(s,o){return s[o]}(h,d)}function lc(s){return o=>{setTimeout(s,void 0,o)}}const go=class extends c.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){var h,p,v;let b=o,I=u||(()=>null),A=d;if(o&&"object"==typeof o){const x=o;b=null===(h=x.next)||void 0===h?void 0:h.bind(x),I=null===(p=x.error)||void 0===p?void 0:p.bind(x),A=null===(v=x.complete)||void 0===v?void 0:v.bind(x)}this.__isAsync&&(I=lc(I),b&&(b=lc(b)),A&&(A=lc(A)));const D=super.subscribe({next:b,error:I,complete:A});return o instanceof ne.w&&o.add(D),D}};function cn(){return this._results[Xo()]()}class Jn{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Xo(),d=Jn.prototype;d[u]||(d[u]=cn)}get changes(){return this._changes||(this._changes=new go)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=hi(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class _h{constructor(o){this.queryList=o,this.matches=null}clone(){return new _h(this.queryList)}setDirty(){this.queryList.setDirty()}}class qy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const v=u.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new qy(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==PS(o,u).matches&&this.queries[u].setDirty()}}class RE{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class xE{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new xE(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Wp{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Wp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,u,SS(u,p)),this.matchTNodeWithReadOption(o,u,Bc(u,o,p,!1,!1))}else d===Xl?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Bc(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Bi||h===Ay||h===Xl&&4&u.type)this.addMatch(u.index,-2);else{const p=Bc(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function SS(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function Pn(s,o,u,d){return-1===u?function(s,o){return 11&s.type?sh(s,o):4&s.type?lh(s,o):null}(o,s):-2===u?function(s,o,u){return u===Bi?sh(o,s):u===Xl?lh(o,s):u===Ay?Dy(o,s):void 0}(s,o,d):Aa(s,s[1],u,o)}function RS(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,v=u.matches,b=[];for(let I=0;I<v.length;I+=2){const A=v[I];b.push(A<0?null:Pn(o,p[A],v[I+1],u.metadata.read))}h.matches=b}return h.matches}function Ln(s,o,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const v=RS(s,o,h,u);for(let b=0;b<p.length;b+=2){const I=p[b];if(I>0)d.push(v[b/2]);else{const A=p[b+1],D=o[-I];for(let x=10;x<D.length;x++){const F=D[x];F[17]===F[3]&&Ln(F[1],F,A,d)}if(null!==D[9]){const x=D[9];for(let F=0;F<x.length;F++){const H=x[F];Ln(H[1],H,A,d)}}}}}return d}function OE(s){const o=Ce(),u=At(),d=ko();rf(d+1);const h=PS(u,d);if(s.dirty&&Uu(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Ln(u,o,d,[]):RS(u,o,h,d);s.reset(p,cI),s.notifyOnChanges()}return!0}return!1}function iT(s,o,u,d){const h=At();if(h.firstCreatePass){const p=yn();(function(s,o,u){null===s.queries&&(s.queries=new xE),s.queries.track(new Wp(o,u))})(h,new RE(o,u,d),p.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function(s,o,u){const d=new Jn(4==(4&u));km(s,o,d,d.destroy),null===o[19]&&(o[19]=new qy),o[19].queries.push(new _h(d))}(h,Ce(),u)}function ME(){return s=Ce(),o=ko(),s[19].queries[o].queryList;var s,o}function PS(s,o){return s.queries.getByIndex(o)}const mu=new _n("Application Initializer");let yu=(()=>{class s{constructor(u){this.appInits=u,this.resolve=sa,this.reject=sa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(op(p))u.push(p);else if(qd(p)){const v=new Promise((b,I)=>{p.subscribe({complete:b,error:I})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(In(mu,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const mT=new _n("AppId"),r1={provide:mT,useFactory:function(){return`${BE()}${BE()}${BE()}`},deps:[]};function BE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yT=new _n("Platform Initializer"),_T=new _n("Platform ID"),vT=new _n("appBootstrapListener");let bT=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const Yy=new _n("LocaleId"),ET=new _n("DefaultCurrencyCode");class o1{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const HE=function(s){return new Zy(s)},IT=HE,os=function(s){return Promise.resolve(HE(s))},$E=function(s){const o=HE(s),d=Xi(hr(s).declarations).reduce((h,p)=>{const v=Gn(p);return v&&h.push(new BI(v)),h},[]);return new o1(o,d)},TT=$E,ri=function(s){return Promise.resolve($E(s))};let ng=(()=>{class s{constructor(){this.compileModuleSync=IT,this.compileModuleAsync=os,this.compileModuleAndAllComponentsSync=TT,this.compileModuleAndAllComponentsAsync=ri}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const hc=(()=>Promise.resolve(0))();function rg(s){"undefined"==typeof Zone?hc.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Hi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new go(!1),this.onMicrotaskEmpty=new go(!1),this.onStable=new go(!1),this.onError=new go(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let s=B.requestAnimationFrame,o=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(B,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,WE(s),s.isCheckStableRunning=!0,zE(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),WE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,v,b)=>{try{return AT(s),u.invokeTask(h,p,v,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),DT(s)}},onInvoke:(u,d,h,p,v,b,I)=>{try{return AT(s),u.invoke(h,p,v,b,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),DT(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,WE(s),zE(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,l1,sa,sa);try{return p.runTask(v,u,d)}finally{p.cancelTask(v)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const l1={};function zE(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function WE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function AT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function DT(s){s._nesting--,zE(s)}class d1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new go,this.onMicrotaskEmpty=new go,this.onStable=new go,this.onError=new go}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}let KE=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),rg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rg(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(In(Hi))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),ST=(()=>{class s{constructor(){this._applications=new Map,QE.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return QE.findTestabilityInTree(this,u,d)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();class NT{addToWindow(o){}findTestabilityInTree(o,u,d){return null}}function YE(s){QE=s}let QE=new NT,RT=!0,JE=!1;function e_(){return JE=!0,RT}function xT(){if(JE)throw new Error("Cannot enable prod mode after platform setup.");RT=!1}let as;const sg=new _n("AllowMultipleToken");class kT{constructor(o,u){this.name=o,this.token=u}}function t_(s,o,u=[]){const d=`Platform: ${o}`,h=new _n(d);return(p=[])=>{let v=e0();if(!v||v.injector.get(sg,!1))if(s)s(u.concat(p).concat({provide:h,useValue:!0}));else{const b=u.concat(p).concat({provide:h,useValue:!0},{provide:Al,useValue:"platform"});!function(s){if(as&&!as.destroyed&&!as.injector.get(sg,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");as=s.get(t0);const o=s.get(yT,null);o&&o.forEach(u=>u())}(Zt.create({providers:b,name:d}))}return function(s){const o=e0();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(h)}}function e0(){return as&&!as.destroyed?as:null}let t0=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const b=function(s,o){let u;return u="noop"===s?new d1:("zone.js"===s?void 0:s)||new Hi({enableLongStackTrace:e_(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),I=[{provide:Hi,useValue:b}];return b.run(()=>{const A=Zt.create({providers:I,parent:this.injector,name:u.moduleType.name}),D=u.create(A),x=D.injector.get(K,null);if(!x)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const F=b.onError.subscribe({next:H=>{x.handleError(H)}});D.onDestroy(()=>{r0(this._modules,D),F.unsubscribe()})}),function(s,o,u){try{const d=u();return op(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(x,b,()=>{const F=D.injector.get(yu);return F.runInitializers(),F.donePromise.then(()=>(py(D.injector.get(Yy,vp)||vp),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,d=[]){const h=n0({},d);return function(s,o,u){const d=new Zy(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const d=u.injector.get(og);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${O(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(In(Zt))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function n0(s,o){return Array.isArray(o)?o.reduce(n0,s):Object.assign(Object.assign({},s),o)}let og=(()=>{class s{constructor(u,d,h,p,v){this._zone=u,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new q.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),I=new q.y(A=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),rg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{D.unsubscribe(),x.unsubscribe()}});this.isStable=(0,J.T)(b,I.pipe(s=>(0,W.x)()(function(s,o){return function(d){let h;h="function"==typeof s?s:function(){return s};const p=Object.create(d,se.N);return p.source=d,p.subjectFactory=h,p}}(j)(s))))}bootstrap(u,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=u instanceof ou?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(h.componentType);const p=function(s){return s.isBoundToModule}(h)?void 0:this._injector.get(oa),b=h.create(Zt.NULL,[],d||h.selector,p),I=b.location.nativeElement,A=b.injector.get(KE,null),D=A&&b.injector.get(ST);return A&&D&&D.registerApplication(I,A),b.onDestroy(()=>{this.detachView(b.hostView),r0(this.components,b),D&&D.unregisterApplication(I)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;r0(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(vT,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(In(Hi),In(Zt),In(K),In(Yl),In(yu))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function r0(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class v1{}class gc{}const vo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let w1=(()=>{class s{constructor(u,d){this._compiler=u,this._config=d||vo}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[d,h]=u.split("#");return void 0===h&&(h="default"),P(8255)(d).then(p=>p[h]).then(p=>o0(p,d,h)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(u){let[d,h]=u.split("#"),p="NgFactory";return void 0===h&&(h="default",p=""),P(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(v=>v[h+p]).then(v=>o0(v,d,h))}}return s.\u0275fac=function(u){return new(u||s)(In(ng),In(gc,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function o0(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const HT=function(s){return null},d0=t_(null,"core",[{provide:_T,useValue:"unknown"},{provide:t0,deps:[Zt]},{provide:ST,deps:[]},{provide:bT,deps:[]}]),vu=[{provide:og,useClass:og,deps:[Hi,Zt,K,Yl,yu]},{provide:jI,deps:[Hi],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:yu,useClass:yu,deps:[[new Jr,mu]]},{provide:ng,useClass:ng,deps:[]},r1,{provide:Op,useFactory:function(){return WD},deps:[]},{provide:uh,useFactory:function(){return KD},deps:[]},{provide:Yy,useFactory:function(s){return py(s=s||"undefined"!=typeof $localize&&$localize.locale||vp),s},deps:[[new Oa(Yy),new Jr,new to]]},{provide:ET,useValue:"USD"}];let aR=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(In(og))},s.\u0275mod=Du({type:s}),s.\u0275inj=Si({providers:vu}),s})()},8939:(Ve,te,P)=>{"use strict";P.d(te,{hO:()=>O,xv:()=>j,Dh:()=>W,GT:()=>X,on:()=>k,pX:()=>se});var c=P(3018),ne=P(7841),q=P(9126);Ve=P.hmd(Ve);const J=["ngOnDestroy"],se=(Z,Q,ee,re={})=>new Proxy(Z,{get:(Se,Te)=>ee.runOutsideAngular(()=>{var Re;if(Z[Te])return(null===(Re=null==re?void 0:re.spy)||void 0===Re?void 0:Re.get)&&re.spy.get(Te,Z[Te]),Z[Te];if(J.indexOf(Te)>-1)return()=>{};const Me=Q.toPromise().then(Ue=>{const Le=Ue&&Ue[Te];return"function"==typeof Le?Le.bind(Ue):Le&&Le.then?Le.then(ct=>ee.run(()=>ct)):ee.run(()=>Le)});return new Proxy(()=>{},{get:(Ue,Le)=>Me[Le],apply:(Ue,Le,ct)=>Me.then(zt=>{var be;const ce=zt&&zt(...ct);return(null===(be=null==re?void 0:re.spy)||void 0===be?void 0:be.apply)&&re.spy.apply(Te,ct,ce),ce})})})}),X=(Z,Q)=>{Q.forEach(ee=>{Object.getOwnPropertyNames(ee.prototype||ee).forEach(re=>{Object.defineProperty(Z.prototype,re,Object.getOwnPropertyDescriptor(ee.prototype||ee,re))})})};class ue{constructor(Q){return Q}}const W=new c.OlP("angularfire2.app.options"),j=new c.OlP("angularfire2.app.name");function k(Z,Q,ee){const Se="object"==typeof ee&&ee||{};Se.name=Se.name||"string"==typeof ee&&ee||"[DEFAULT]";const Re=ne.Z.apps.filter(Me=>Me&&Me.name===Se.name)[0]||Q.runOutsideAngular(()=>ne.Z.initializeApp(Z,Se));try{JSON.stringify(Z)!==JSON.stringify(Re.options)&&V("error",`${Re.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Me){}return new ue(Re)}const V=(Z,...Q)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Z](...Q)},L={provide:ue,useFactory:k,deps:[W,c.R0b,[new c.FiY,j]]};let O=(()=>{class Z{constructor(ee){ne.Z.registerVersion("angularfire",q.q4.full,"core"),ne.Z.registerVersion("angularfire",q.q4.full,"app-compat"),ne.Z.registerVersion("angular",c.q4F.full,ee.toString())}static initializeApp(ee,re){return{ngModule:Z,providers:[{provide:W,useValue:ee},{provide:j,useValue:re}]}}}return Z.\u0275fac=function(ee){return new(ee||Z)(c.LFG(c.Lbi))},Z.\u0275mod=c.oAB({type:Z}),Z.\u0275inj=c.cJS({providers:[L]}),Z})()},9126:(Ve,te,P)=>{"use strict";P.d(te,{q4:()=>k,iC:()=>ce,HU:()=>Me,cc:()=>O});var c=P(3018);(0,P(5452).registerVersion)("firebase","9.0.2","app");var se=P(7771),X=P(3637),ue=P(3342),W=P(3101),j=P(309);Ve=P.hmd(Ve);const k=new c.GfV("7.0.4"),V=!!Ve.hot,L=(me,...oe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[me](...oe)};function O(me,oe,Oe,$e,bt){const[,Xe,Et]=globalThis.\u0275AngularfireInstanceCache.find(Ut=>Ut[0]===me)||[];if(Xe)return function(me,oe){try{return me.toString()===oe.toString()}catch(Oe){return me===oe}}(bt,Et)||(L("error",`${oe} was already initialized on the ${Oe} Firebase App with different settings.${V?" You may need to reload as Firebase is not HMR aware.":""}`),L("warn",{is:bt,was:Et})),Xe;{const Ut=$e();return globalThis.\u0275AngularfireInstanceCache.push([me,Ut,bt]),Ut}}function Se(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Te{constructor(oe,Oe=se.N){this.zone=oe,this.delegate=Oe}now(){return this.delegate.now()}schedule(oe,Oe,$e){const bt=this.zone;return this.delegate.schedule(function(Et){bt.runGuarded(()=>{oe.apply(this,[Et])})},Oe,$e)}}class Re{constructor(oe){this.zone=oe,this.task=null}call(oe,Oe){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Se,{},Se,Se)),Oe.pipe((0,ue.b)({next:$e,complete:$e,error:$e})).subscribe(oe).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Me=(()=>{class me{constructor(Oe){this.ngZone=Oe,this.outsideAngular=Oe.runOutsideAngular(()=>new Te(Zone.current)),this.insideAngular=Oe.run(()=>new Te(Zone.current,X.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return me.\u0275fac=function(Oe){return new(Oe||me)(c.LFG(c.R0b))},me.\u0275prov=c.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();function Ue(){const me=globalThis.\u0275AngularFireScheduler;if(!me)throw new Error("AngularFireModule has not been provided");return me}function ce(me){return Ue(),function(me){return function(Oe){return(Oe=Oe.lift(new Re(me.ngZone))).pipe((0,W.R)(me.outsideAngular),(0,j.QV)(me.insideAngular))}}(Ue())(me)}},4486:(Ve,te,P)=>{"use strict";P.d(te,{Z:()=>ee});var c=P(4685),ne=P(6034),q=P(5452),J=P(300);class se{constructor(Se,Te){this._delegate=Se,this.firebase=Te,(0,q._addComponent)(Se,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(Se,Te=q._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(Se);return!Me.isInitialized()&&"EXPLICIT"===(null===(Re=Me.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:Te})}_removeServiceInstance(Se,Te=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(Te)}_addComponent(Se){(0,q._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,q._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function j(){const re=function(re){const Se={},Te={__esModule:!0,initializeApp:function(be,ce={}){const he=q.initializeApp(be,ce);if((0,c.r3)(Se,he.name))return Se[he.name];const ge=new re(he,Te);return Se[he.name]=ge,ge},app:Me,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function(be){const ce=be.name,he=ce.replace("-compat","");if(q._registerComponent(be)&&"PUBLIC"===be.type){const ge=(fe=Me())=>{if("function"!=typeof fe[he])throw ue.create("invalid-app-argument",{appName:ce});return fe[he]()};void 0!==be.serviceProps&&(0,c.ZB)(ge,be.serviceProps),Te[he]=ge,re.prototype[he]=function(...fe){return this._getService.bind(this,ce).apply(this,be.multipleInstances?fe:[])}}return"PUBLIC"===be.type?Te[he]:null},removeApp:function(be){delete Se[be]},useAsService:function(be,ce){return"serverAuth"===ce?null:ce},modularAPIs:q}};function Me(be){if(!(0,c.r3)(Se,be=be||q._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:be});return Se[be]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function(){return Object.keys(Se).map(be=>Se[be])}}),Me.App=re,Te}(se);return re.INTERNAL=Object.assign(Object.assign({},re.INTERNAL),{createFirebaseNamespace:j,extendNamespace:function(Te){(0,c.ZB)(re,Te)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),re}(),V=new J.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const re=self.firebase.SDK_VERSION;re&&re.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Q=k;(0,q.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ee=Q},5452:(Ve,te,P)=>{"use strict";P.r(te),P.d(te,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>ai,_DEFAULT_ENTRY_NAME:()=>bt,_addComponent:()=>hn,_addOrOverwriteComponent:()=>si,_apps:()=>Et,_clearComponents:()=>xt,_components:()=>Ut,_getProvider:()=>fn,_registerComponent:()=>oi,_removeServiceInstance:()=>dt,deleteApp:()=>wo,getApp:()=>Dr,getApps:()=>Eo,initializeApp:()=>Si,onLog:()=>Vn,registerVersion:()=>cs,setLogLevel:()=>Ni});var c=P(8239),ne=P(6034),q=P(300),J=P(4685);class se{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function(pt){const Ae=pt.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(Bt)){const rn=Bt.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(Bt=>Bt).join(" ")}}const ue="@firebase/app",j=new q.Yd("@firebase/app"),bt="[DEFAULT]",Xe={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,Ut=new Map;function hn(pt,Ae){try{pt.container.addComponent(Ae)}catch(Bt){j.debug(`Component ${Ae.name} failed to register with FirebaseApp ${pt.name}`,Bt)}}function si(pt,Ae){pt.container.addOrOverwriteComponent(Ae)}function oi(pt){const Ae=pt.name;if(Ut.has(Ae))return j.debug(`There were multiple attempts to register component ${Ae}.`),!1;Ut.set(Ae,pt);for(const Bt of Et.values())hn(Bt,pt);return!0}function fn(pt,Ae){return pt.container.getProvider(Ae)}function dt(pt,Ae,Bt=bt){fn(pt,Ae).clearInstance(Bt)}function xt(){Ut.clear()}const bo=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class nn{constructor(Ae,Bt,rn){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}const ai="9.0.0";function Si(pt,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const Bt=Object.assign({name:bt,automaticDataCollectionEnabled:!1},Ae),rn=Bt.name;if("string"!=typeof rn||!rn)throw bo.create("bad-app-name",{appName:String(rn)});const sn=Et.get(rn);if(sn){if((0,J.vZ)(pt,sn.options)&&(0,J.vZ)(Bt,sn.config))return sn;throw bo.create("duplicate-app",{appName:rn})}const kt=new ne.H0(rn);for(const ze of Ut.values())kt.addComponent(ze);const Ge=new nn(pt,Bt,kt);return Et.set(rn,Ge),Ge}function Dr(pt=bt){const Ae=Et.get(pt);if(!Ae)throw bo.create("no-app",{appName:pt});return Ae}function Eo(){return Array.from(Et.values())}function wo(pt){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(pt){const Ae=pt.name;Et.has(Ae)&&(Et.delete(Ae),yield Promise.all(pt.container.getProviders().map(Bt=>Bt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function cs(pt,Ae,Bt){var rn;let sn=null!==(rn=Xe[pt])&&void 0!==rn?rn:pt;Bt&&(sn+=`-${Bt}`);const kt=sn.match(/\s|\//),Ge=Ae.match(/\s|\//);if(kt||Ge){const ze=[`Unable to register library "${sn}" with version "${Ae}":`];return kt&&ze.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),kt&&Ge&&ze.push("and"),Ge&&ze.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void j.warn(ze.join(" "))}oi(new ne.wA(`${sn}-version`,()=>({library:sn,version:Ae}),"VERSION"))}function Vn(pt,Ae){if(null!==pt&&"function"!=typeof pt)throw bo.create("invalid-log-argument");(0,q.Am)(pt,Ae)}function Ni(pt){(0,q.Ub)(pt)}oi(new ne.wA("platform-logger",Ae=>new se(Ae),"PRIVATE")),cs(ue,"0.7.0",undefined),cs("fire-js","")},6034:(Ve,te,P)=>{"use strict";P.d(te,{wA:()=>q,H0:()=>W});var c=P(4762),ne=P(4685),q=function(){function j(k,V,L){this.name=k,this.instanceFactory=V,this.type=L,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return j.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},j.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},j.prototype.setServiceProps=function(k){return this.serviceProps=k,this},j.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},j}(),J="[DEFAULT]",se=function(){function j(k,V){this.name=k,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return j.prototype.get=function(k){var V=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(V)){var L=new ne.BH;if(this.instancesDeferred.set(V,L),this.isInitialized(V)||this.shouldAutoInitialize())try{var O=this.getOrInitializeService({instanceIdentifier:V});O&&L.resolve(O)}catch(Z){}}return this.instancesDeferred.get(V).promise},j.prototype.getImmediate=function(k){var V,L=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),O=null!==(V=null==k?void 0:k.optional)&&void 0!==V&&V;if(!this.isInitialized(L)&&!this.shouldAutoInitialize()){if(O)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:L})}catch(Z){if(O)return null;throw Z}},j.prototype.getComponent=function(){return this.component},j.prototype.setComponent=function(k){var V,L;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(j){return"EAGER"===j.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:J})}catch(Re){}try{for(var O=(0,c.XA)(this.instancesDeferred.entries()),Z=O.next();!Z.done;Z=O.next()){var Q=(0,c.CR)(Z.value,2),re=Q[1],Se=this.normalizeInstanceIdentifier(Q[0]);try{var Te=this.getOrInitializeService({instanceIdentifier:Se});re.resolve(Te)}catch(Re){}}}catch(Re){V={error:Re}}finally{try{Z&&!Z.done&&(L=O.return)&&L.call(O)}finally{if(V)throw V.error}}}},j.prototype.clearInstance=function(k){void 0===k&&(k=J),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},j.prototype.delete=function(){return(0,c.mG)(this,void 0,void 0,function(){var k;return(0,c.Jh)(this,function(V){switch(V.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,c.ev)((0,c.ev)([],(0,c.CR)(k.filter(function(L){return"INTERNAL"in L}).map(function(L){return L.INTERNAL.delete()}))),(0,c.CR)(k.filter(function(L){return"_delete"in L}).map(function(L){return L._delete()}))))];case 1:return V.sent(),[2]}})})},j.prototype.isComponentSet=function(){return null!=this.component},j.prototype.isInitialized=function(k){return void 0===k&&(k=J),this.instances.has(k)},j.prototype.getOptions=function(k){return void 0===k&&(k=J),this.instancesOptions.get(k)||{}},j.prototype.initialize=function(k){var V,L;void 0===k&&(k={});var O=k.options,Z=void 0===O?{}:O,Q=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(Q))throw Error(this.name+"("+Q+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ee=this.getOrInitializeService({instanceIdentifier:Q,options:Z});try{for(var re=(0,c.XA)(this.instancesDeferred.entries()),Se=re.next();!Se.done;Se=re.next()){var Te=(0,c.CR)(Se.value,2),Me=Te[1];Q===this.normalizeInstanceIdentifier(Te[0])&&Me.resolve(ee)}}catch(Le){V={error:Le}}finally{try{Se&&!Se.done&&(L=re.return)&&L.call(re)}finally{if(V)throw V.error}}return ee},j.prototype.onInit=function(k,V){var L,O=this.normalizeInstanceIdentifier(V),Z=null!==(L=this.onInitCallbacks.get(O))&&void 0!==L?L:new Set;Z.add(k),this.onInitCallbacks.set(O,Z);var Q=this.instances.get(O);return Q&&k(Q,O),function(){Z.delete(k)}},j.prototype.invokeOnInitCallbacks=function(k,V){var L,O,Z=this.onInitCallbacks.get(V);if(Z)try{for(var Q=(0,c.XA)(Z),ee=Q.next();!ee.done;ee=Q.next()){var re=ee.value;try{re(k,V)}catch(Se){}}}catch(Se){L={error:Se}}finally{try{ee&&!ee.done&&(O=Q.return)&&O.call(Q)}finally{if(L)throw L.error}}},j.prototype.getOrInitializeService=function(k){var V=k.instanceIdentifier,L=k.options,O=void 0===L?{}:L,Z=this.instances.get(V);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:X(V),options:O}),this.instances.set(V,Z),this.instancesOptions.set(V,O),this.invokeOnInitCallbacks(Z,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,Z)}catch(Q){}return Z||null},j.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=J),this.component?this.component.multipleInstances?k:J:k},j.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},j}();function X(j){return j===J?void 0:j}var W=function(){function j(k){this.name=k,this.providers=new Map}return j.prototype.addComponent=function(k){var V=this.getProvider(k.name);if(V.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);V.setComponent(k)},j.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},j.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var V=new se(k,this);return this.providers.set(k,V),V},j.prototype.getProviders=function(){return Array.from(this.providers.values())},j}()},300:(Ve,te,P)=>{"use strict";function c(){for(var L=0,O=0,Z=arguments.length;O<Z;O++)L+=arguments[O].length;var Q=Array(L),ee=0;for(O=0;O<Z;O++)for(var re=arguments[O],Se=0,Te=re.length;Se<Te;Se++,ee++)Q[ee]=re[Se];return Q}P.d(te,{in:()=>J,Yd:()=>j,Ub:()=>k,Am:()=>V});var ne,q=[],J=(()=>{return(L=J||(J={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",J;var L})(),se={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},X=J.INFO,ue=((ne={})[J.DEBUG]="log",ne[J.VERBOSE]="log",ne[J.INFO]="info",ne[J.WARN]="warn",ne[J.ERROR]="error",ne),W=function(L,O){for(var Z=[],Q=2;Q<arguments.length;Q++)Z[Q-2]=arguments[Q];if(!(O<L.logLevel)){var ee=(new Date).toISOString(),re=ue[O];if(!re)throw new Error("Attempted to log a message with an invalid logType (value: "+O+")");console[re].apply(console,c(["["+ee+"]  "+L.name+":"],Z))}},j=function(){function L(O){this.name=O,this._logLevel=X,this._logHandler=W,this._userLogHandler=null,q.push(this)}return Object.defineProperty(L.prototype,"logLevel",{get:function(){return this._logLevel},set:function(O){if(!(O in J))throw new TypeError('Invalid value "'+O+'" assigned to `logLevel`');this._logLevel=O},enumerable:!1,configurable:!0}),L.prototype.setLogLevel=function(O){this._logLevel="string"==typeof O?se[O]:O},Object.defineProperty(L.prototype,"logHandler",{get:function(){return this._logHandler},set:function(O){if("function"!=typeof O)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=O},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(O){this._userLogHandler=O},enumerable:!1,configurable:!0}),L.prototype.debug=function(){for(var O=[],Z=0;Z<arguments.length;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,c([this,J.DEBUG],O)),this._logHandler.apply(this,c([this,J.DEBUG],O))},L.prototype.log=function(){for(var O=[],Z=0;Z<arguments.length;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,c([this,J.VERBOSE],O)),this._logHandler.apply(this,c([this,J.VERBOSE],O))},L.prototype.info=function(){for(var O=[],Z=0;Z<arguments.length;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,c([this,J.INFO],O)),this._logHandler.apply(this,c([this,J.INFO],O))},L.prototype.warn=function(){for(var O=[],Z=0;Z<arguments.length;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,c([this,J.WARN],O)),this._logHandler.apply(this,c([this,J.WARN],O))},L.prototype.error=function(){for(var O=[],Z=0;Z<arguments.length;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,c([this,J.ERROR],O)),this._logHandler.apply(this,c([this,J.ERROR],O))},L}();function k(L){q.forEach(function(O){O.setLogLevel(L)})}function V(L,O){for(var Z=function(Se){var Te=null;O&&O.level&&(Te=se[O.level]),Se.userLogHandler=null===L?null:function(Re,Me){for(var Ue=[],Le=2;Le<arguments.length;Le++)Ue[Le-2]=arguments[Le];var ct=Ue.map(function(zt){if(null==zt)return null;if("string"==typeof zt)return zt;if("number"==typeof zt||"boolean"==typeof zt)return zt.toString();if(zt instanceof Error)return zt.message;try{return JSON.stringify(zt)}catch(be){return null}}).filter(function(zt){return zt}).join(" ");Me>=(null!=Te?Te:Re.logLevel)&&L({level:J[Me].toLowerCase(),message:ct,args:Ue,type:Re.name})}},Q=0,ee=q;Q<ee.length;Q++)Z(ee[Q])}},4685:(Ve,te,P)=>{"use strict";P.d(te,{BH:()=>Z,LL:()=>Oe,ZR:()=>oe,tV:()=>k,r3:()=>dt,Sg:()=>Q,ne:()=>Co,vZ:()=>nn,ZB:()=>L,pd:()=>Eo,m9:()=>Qt,z$:()=>ee,jU:()=>Te,ru:()=>Re,d:()=>Ue,xb:()=>Ls,w1:()=>Le,hl:()=>ce,uI:()=>re,UG:()=>Se,b$:()=>Me,G6:()=>be,Mn:()=>ct,xO:()=>Si,zd:()=>Dr});var c=P(4762),se=function($){for(var B=[],le=0,pe=0;pe<$.length;pe++){var ie=$.charCodeAt(pe);ie<128?B[le++]=ie:ie<2048?(B[le++]=ie>>6|192,B[le++]=63&ie|128):55296==(64512&ie)&&pe+1<$.length&&56320==(64512&$.charCodeAt(pe+1))?(ie=65536+((1023&ie)<<10)+(1023&$.charCodeAt(++pe)),B[le++]=ie>>18|240,B[le++]=ie>>12&63|128,B[le++]=ie>>6&63|128,B[le++]=63&ie|128):(B[le++]=ie>>12|224,B[le++]=ie>>6&63|128,B[le++]=63&ie|128)}return B},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function($,B){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var le=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[],ie=0;ie<$.length;ie+=3){var Ie=$[ie],Je=ie+1<$.length,mt=Je?$[ie+1]:0,It=ie+2<$.length,Ot=It?$[ie+2]:0,mn=(15&mt)<<2|Ot>>6,Ao=63&Ot;It||(Ao=64,Je||(mn=64)),pe.push(le[Ie>>2],le[(3&Ie)<<4|mt>>4],le[mn],le[Ao])}return pe.join("")},encodeString:function($,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa($):this.encodeByteArray(se($),B)},decodeString:function($,B){return this.HAS_NATIVE_SUPPORT&&!B?atob($):function($){for(var B=[],le=0,pe=0;le<$.length;){var ie=$[le++];if(ie<128)B[pe++]=String.fromCharCode(ie);else if(ie>191&&ie<224){var Ie=$[le++];B[pe++]=String.fromCharCode((31&ie)<<6|63&Ie)}else if(ie>239&&ie<365){var It=((7&ie)<<18|(63&(Ie=$[le++]))<<12|(63&(Je=$[le++]))<<6|63&$[le++])-65536;B[pe++]=String.fromCharCode(55296+(It>>10)),B[pe++]=String.fromCharCode(56320+(1023&It))}else{Ie=$[le++];var Je=$[le++];B[pe++]=String.fromCharCode((15&ie)<<12|(63&Ie)<<6|63&Je)}}return B.join("")}(this.decodeStringToByteArray($,B))},decodeStringToByteArray:function($,B){this.init_();for(var le=B?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[],ie=0;ie<$.length;){var Ie=le[$.charAt(ie++)],mt=ie<$.length?le[$.charAt(ie)]:0,Ot=++ie<$.length?le[$.charAt(ie)]:64,qt=++ie<$.length?le[$.charAt(ie)]:64;if(++ie,null==Ie||null==mt||null==Ot||null==qt)throw Error();pe.push(Ie<<2|mt>>4),64!==Ot&&(pe.push(mt<<4&240|Ot>>2),64!==qt&&pe.push(Ot<<6&192|qt))}return pe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},j=function($){return function($){var B=se($);return ue.encodeByteArray(B,!0)}($).replace(/\./g,"")},k=function($){try{return ue.decodeString($,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function L($,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return B}for(var pe in B)!B.hasOwnProperty(pe)||!O(pe)||($[pe]=L($[pe],B[pe]));return $}function O($){return"__proto__"!==$}var Z=function(){function $(){var B=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(le,pe){B.resolve=le,B.reject=pe})}return $.prototype.wrapCallback=function(B){var le=this;return function(pe,ie){pe?le.reject(pe):le.resolve(ie),"function"==typeof B&&(le.promise.catch(function(){}),1===B.length?B(pe):B(pe,ie))}},$}();function Q($,B){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var pe=B||"demo-project",ie=$.iat||0,Ie=$.sub||$.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Je=(0,c.pi)({iss:"https://securetoken.google.com/"+pe,aud:pe,iat:ie,exp:ie+3600,auth_time:ie,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},$);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(Je)),""].join(".")}function ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ee())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function Te(){return"object"==typeof self&&self.self===self}function Re(){var $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return ee().indexOf("Electron/")>=0}function Le(){var $=ee();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function ct(){return ee().indexOf("MSAppHost/")>=0}function be(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){return"indexedDB"in self&&null!=indexedDB}var oe=function($){function B(le,pe,ie){var Ie=$.call(this,pe)||this;return Ie.code=le,Ie.customData=ie,Ie.name="FirebaseError",Object.setPrototypeOf(Ie,B.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ie,Oe.prototype.create),Ie}return(0,c.ZT)(B,$),B}(Error),Oe=function(){function $(B,le,pe){this.service=B,this.serviceName=le,this.errors=pe}return $.prototype.create=function(B){for(var le=[],pe=1;pe<arguments.length;pe++)le[pe-1]=arguments[pe];var ie=le[0]||{},Ie=this.service+"/"+B,Je=this.errors[B],mt=Je?$e(Je,ie):"Error",It=this.serviceName+": "+mt+" ("+Ie+").",Ot=new oe(Ie,It,ie);return Ot},$}();function $e($,B){return $.replace(bt,function(le,pe){var ie=B[pe];return null!=ie?String(ie):"<"+pe+"?>"})}var bt=/\{\$([^}]+)}/g;function dt($,B){return Object.prototype.hasOwnProperty.call($,B)}function Ls($){for(var B in $)if(Object.prototype.hasOwnProperty.call($,B))return!1;return!0}function nn($,B){if($===B)return!0;for(var le=Object.keys($),pe=Object.keys(B),ie=0,Ie=le;ie<Ie.length;ie++){if(!pe.includes(Je=Ie[ie]))return!1;var mt=$[Je],It=B[Je];if(ai(mt)&&ai(It)){if(!nn(mt,It))return!1}else if(mt!==It)return!1}for(var Ot=0,Nn=pe;Ot<Nn.length;Ot++){var Je;if(!le.includes(Je=Nn[Ot]))return!1}return!0}function ai($){return null!==$&&"object"==typeof $}function Si($){for(var B=[],le=function(It,Ot){Array.isArray(Ot)?Ot.forEach(function(Nn){B.push(encodeURIComponent(It)+"="+encodeURIComponent(Nn))}):B.push(encodeURIComponent(It)+"="+encodeURIComponent(Ot))},pe=0,ie=Object.entries($);pe<ie.length;pe++){var Ie=ie[pe];le(Ie[0],Ie[1])}return B.length?"&"+B.join("&"):""}function Dr($){var B={};return $.replace(/^\?/,"").split("&").forEach(function(pe){if(pe){var ie=pe.split("="),Je=ie[1];B[decodeURIComponent(ie[0])]=decodeURIComponent(Je)}}),B}function Eo($){var B=$.indexOf("?");if(!B)return"";var le=$.indexOf("#",B);return $.substring(B,le>0?le:void 0)}function Co($,B){var le=new cs($,B);return le.subscribe.bind(le)}!function(){function $(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}$.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},$.prototype.compress_=function(B,le){le||(le=0);var pe=this.W_;if("string"==typeof B)for(var ie=0;ie<16;ie++)pe[ie]=B.charCodeAt(le)<<24|B.charCodeAt(le+1)<<16|B.charCodeAt(le+2)<<8|B.charCodeAt(le+3),le+=4;else for(ie=0;ie<16;ie++)pe[ie]=B[le]<<24|B[le+1]<<16|B[le+2]<<8|B[le+3],le+=4;for(ie=16;ie<80;ie++)pe[ie]=4294967295&((Ie=pe[ie-3]^pe[ie-8]^pe[ie-14]^pe[ie-16])<<1|Ie>>>31);var qt,mn,Je=this.chain_[0],mt=this.chain_[1],It=this.chain_[2],Ot=this.chain_[3],Nn=this.chain_[4];for(ie=0;ie<80;ie++){ie<40?ie<20?(qt=Ot^mt&(It^Ot),mn=1518500249):(qt=mt^It^Ot,mn=1859775393):ie<60?(qt=mt&It|Ot&(mt|It),mn=2400959708):(qt=mt^It^Ot,mn=3395469782);var Ie=(Je<<5|Je>>>27)+qt+Nn+mn+pe[ie]&4294967295;Nn=Ot,Ot=It,It=4294967295&(mt<<30|mt>>>2),mt=Je,Je=Ie}this.chain_[0]=this.chain_[0]+Je&4294967295,this.chain_[1]=this.chain_[1]+mt&4294967295,this.chain_[2]=this.chain_[2]+It&4294967295,this.chain_[3]=this.chain_[3]+Ot&4294967295,this.chain_[4]=this.chain_[4]+Nn&4294967295},$.prototype.update=function(B,le){if(null!=B){void 0===le&&(le=B.length);for(var pe=le-this.blockSize,ie=0,Ie=this.buf_,Je=this.inbuf_;ie<le;){if(0===Je)for(;ie<=pe;)this.compress_(B,ie),ie+=this.blockSize;if("string"==typeof B){for(;ie<le;)if(Ie[Je]=B.charCodeAt(ie),++ie,++Je===this.blockSize){this.compress_(Ie),Je=0;break}}else for(;ie<le;)if(Ie[Je]=B[ie],++ie,++Je===this.blockSize){this.compress_(Ie),Je=0;break}}this.inbuf_=Je,this.total_+=le}},$.prototype.digest=function(){var B=[],le=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var pe=this.blockSize-1;pe>=56;pe--)this.buf_[pe]=255&le,le/=256;this.compress_(this.buf_);var ie=0;for(pe=0;pe<5;pe++)for(var Ie=24;Ie>=0;Ie-=8)B[ie]=this.chain_[pe]>>Ie&255,++ie;return B}}();var cs=function(){function $(B,le){var pe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(function(){B(pe)}).catch(function(ie){pe.error(ie)})}return $.prototype.next=function(B){this.forEachObserver(function(le){le.next(B)})},$.prototype.error=function(B){this.forEachObserver(function(le){le.error(B)}),this.close(B)},$.prototype.complete=function(){this.forEachObserver(function(B){B.complete()}),this.close()},$.prototype.subscribe=function(B,le,pe){var Ie,ie=this;if(void 0===B&&void 0===le&&void 0===pe)throw new Error("Missing Observer.");void 0===(Ie=function($,B){if("object"!=typeof $||null===$)return!1;for(var le=0,pe=["next","error","complete"];le<pe.length;le++){var ie=pe[le];if(ie in $&&"function"==typeof $[ie])return!0}return!1}(B)?B:{next:B,error:le,complete:pe}).next&&(Ie.next=Vs),void 0===Ie.error&&(Ie.error=Vs),void 0===Ie.complete&&(Ie.complete=Vs);var Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ie.finalError?Ie.error(ie.finalError):Ie.complete()}catch(mt){}}),this.observers.push(Ie),Je},$.prototype.unsubscribeOne=function(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},$.prototype.forEachObserver=function(B){if(!this.finalized)for(var le=0;le<this.observers.length;le++)this.sendOne(le,B)},$.prototype.sendOne=function(B,le){var pe=this;this.task.then(function(){if(void 0!==pe.observers&&void 0!==pe.observers[B])try{le(pe.observers[B])}catch(ie){"undefined"!=typeof console&&console.error&&console.error(ie)}})},$.prototype.close=function(B){var le=this;this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(function(){le.observers=void 0,le.onNoObservers=void 0}))},$}();function Vs(){}function Qt($){return $&&$._delegate?$._delegate:$}},7841:(Ve,te,P)=>{"use strict";P.d(te,{Z:()=>c.Z});var c=P(4486);c.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(Ve,te,P)=>{"use strict";P.r(te);var c=P(8239),ne=P(4486),q=P(4685),J=P(5452),se=P(4762),X=P(300),ue=P(6034);const Q=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ee=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},re=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new X.Yd("@firebase/auth");function Re(E,...g){Te.logLevel<=X.in.ERROR&&Te.error(`Auth (${J.SDK_VERSION}): ${E}`,...g)}function Me(E,...g){throw zt(E,...g)}function Ue(E,...g){return zt(E,...g)}function Le(E,g,_){const C=Object.assign(Object.assign({},ee()),{[g]:_});return new q.LL("auth","Firebase",C).create(g,{appName:E.name})}function ct(E,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Me(E,"argument-error"),Le(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zt(E,...g){if("string"!=typeof E){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=E.name),E._errorFactory.create(_,...C)}return re.create(E,...g)}function be(E,g,..._){if(!E)throw zt(g,..._)}function ce(E){const g="INTERNAL ASSERTION FAILED: "+E;throw Re(g),new Error(g)}function he(E,g){E||ce(g)}const ge=new Map;function fe(E){he(E instanceof Function,"Expected a class definition");let g=ge.get(E);return g?(he(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,ge.set(E,g),g)}function Oe(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function $e(){return"http:"===bt()||"https:"===bt()}function bt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Ut{constructor(g,_){this.shortDelay=g,this.longDelay=_,he(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,q.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function hn(E,g){he(E.emulator,"Emulator should always be set here");const{url:_}=E.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class si{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fn=new Ut(3e4,6e4);function dt(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function xt(E,g,_,C){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(E,g,_,C,S={}){return bo(E,S,()=>{let M={},K={};C&&("GET"===g?K=C:M={body:JSON.stringify(C)});const ve=(0,q.xO)(Object.assign({key:E.config.apiKey},K)).slice(1),Pe=new(si.headers());return Pe.set("Content-Type","application/json"),Pe.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&Pe.set("X-Firebase-Locale",E.languageCode),si.fetch()(Dr(E,E.config.apiHost,_,ve),Object.assign({method:g,headers:Pe,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function bo(E,g,_){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(E,g,_){E._canInitEmulator=!1;const C=Object.assign(Object.assign({},oi),g);try{const S=new Eo(E),M=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const K=yield M.json();if("needConfirmation"in K)throw wo(E,"account-exists-with-different-credential",K);if(M.ok&&!("errorMessage"in K))return K;{const ve=M.ok?K.errorMessage:K.error.message,[Pe,He]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw wo(E,"credential-already-in-use",K);if("EMAIL_EXISTS"===Pe)throw wo(E,"email-already-in-use",K);const rt=C[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw Le(E,rt,He);Me(E,rt)}}catch(S){if(S instanceof q.ZR)throw S;Me(E,"network-request-failed")}})).apply(this,arguments)}function ai(E,g,_,C){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(E,g,_,C,S={}){const M=yield xt(E,g,_,C,S);return"mfaPendingCredential"in M&&Me(E,"multi-factor-auth-required",{serverResponse:M}),M})).apply(this,arguments)}function Dr(E,g,_,C){const S=`${g}${_}?${C}`;return E.config.emulator?hn(E.config,S):`${E.config.apiScheme}://${S}`}class Eo{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Ue(this.auth,"timeout")),fn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wo(E,g,_){const C={appName:E.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const S=Ue(E,g,C);return S.customData._tokenResponse=_,S}function cs(){return(cs=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Vn(E,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Vs(E,g){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ae(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function sn(){return(sn=(0,c.Z)(function*(E,g=!1){const _=(0,q.m9)(E),C=yield _.getIdToken(g),S=Ge(C);be(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const M="object"==typeof S.firebase?S.firebase:void 0,K=null==M?void 0:M.sign_in_provider;return{claims:S,token:C,authTime:Ae(kt(S.auth_time)),issuedAtTime:Ae(kt(S.iat)),expirationTime:Ae(kt(S.exp)),signInProvider:K||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function kt(E){return 1e3*Number(E)}function Ge(E){const[g,_,C]=E.split(".");if(void 0===g||void 0===_||void 0===C)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,q.tV)(_);return S?JSON.parse(S):(Re("Failed to decode base64 JWT payload"),null)}catch(S){return Re("Caught error parsing JWT payload as JSON",S),null}}function pn(E,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(E,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof q.ZR&&Gi(C)&&E.auth.currentUser===E&&(yield E.auth.signOut()),C}})).apply(this,arguments)}function Gi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class gn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class jr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ae(this.lastLoginAt),this.creationTime=Ae(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function To(E){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,c.Z)(function*(E){var g;const _=E.auth,C=yield E.getIdToken(),S=yield pn(E,Vs(_,{idToken:C}));be(null==S?void 0:S.users.length,_,"internal-error");const M=S.users[0];E._notifyReloadListener(M);const K=(null===(g=M.providerUserInfo)||void 0===g?void 0:g.length)?pe(M.providerUserInfo):[],ve=le(E.providerData,K),rt=!!E.isAnonymous&&!(E.email&&M.passwordHash||(null==ve?void 0:ve.length)),Qe={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ve,metadata:new jr(M.createdAt,M.lastLoginAt),isAnonymous:rt};Object.assign(E,Qe)})).apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(E){const g=(0,q.m9)(E);yield To(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function le(E,g){return[...E.filter(C=>!g.some(S=>S.providerId===C.providerId)),...g]}function pe(E){return E.map(g=>{var{providerId:_}=g,C=(0,se._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ie(){return(Ie=(0,c.Z)(function*(E,g){const _=yield bo(E,{},()=>{const C=(0,q.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:M}=E.config,K=Dr(E,S,"/v1/token",`key=${M}`);return si.fetch()(K,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){be(g.idToken,"internal-error"),be(void 0!==g.idToken,"internal-error"),be(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(E){const g=Ge(E);return be(g,"internal-error"),be(void 0!==g.exp,"internal-error"),be(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,c.Z)(function*(){return be(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:M,expiresIn:K}=yield function(E,g){return Ie.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(S,M,Number(K))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:S,expirationTime:M}=_,K=new Je;return C&&(be("string"==typeof C,"internal-error",{appName:g}),K.refreshToken=C),S&&(be("string"==typeof S,"internal-error",{appName:g}),K.accessToken=S),M&&(be("number"==typeof M,"internal-error",{appName:g}),K.expirationTime=M),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Je,this.toJSON())}_performRefresh(){return ce("not implemented")}}function mt(E,g){be("string"==typeof E||void 0===E,"internal-error",{appName:g})}class It{constructor(g){var{uid:_,auth:C,stsTokenManager:S}=g,M=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.metadata=new jr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,c.Z)(function*(){const C=yield pn(_,_.stsTokenManager.getToken(_.auth,g));return be(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function(E){return sn.apply(this,arguments)}(this,g)}reload(){return function(E){return B.apply(this,arguments)}(this)}_assign(g){this!==g&&(be(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new It(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,c.Z)(function*(){let S=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),S=!0),_&&(yield To(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,c.Z)(function*(){const _=yield g.getIdToken();return yield pn(g,function(E,g){return cs.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,S,M,K,ve,Pe,He,rt;const Qe=null!==(C=_.displayName)&&void 0!==C?C:void 0,vn=null!==(S=_.email)&&void 0!==S?S:void 0,Wt=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,bl=null!==(K=_.photoURL)&&void 0!==K?K:void 0,gm=null!==(ve=_.tenantId)&&void 0!==ve?ve:void 0,Yo=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,Pf=null!==(He=_.createdAt)&&void 0!==He?He:void 0,X_=null!==(rt=_.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:hd,emailVerified:mm,isAnonymous:ym,providerData:kf,stsTokenManager:Qo}=_;be(hd&&Qo,g,"internal-error");const Xi=Je.fromJSON(this.name,Qo);be("string"==typeof hd,g,"internal-error"),mt(Qe,g.name),mt(vn,g.name),be("boolean"==typeof mm,g,"internal-error"),be("boolean"==typeof ym,g,"internal-error"),mt(Wt,g.name),mt(bl,g.name),mt(gm,g.name),mt(Yo,g.name),mt(Pf,g.name),mt(X_,g.name);const _m=new It({uid:hd,auth:g,email:vn,emailVerified:mm,displayName:Qe,isAnonymous:ym,photoURL:bl,phoneNumber:Wt,tenantId:gm,stsTokenManager:Xi,createdAt:Pf,lastLoginAt:X_});return kf&&Array.isArray(kf)&&(_m.providerData=kf.map(ev=>Object.assign({},ev))),Yo&&(_m._redirectEventId=Yo),_m}static _fromIdTokenResponse(g,_,C=!1){return(0,c.Z)(function*(){const S=new Je;S.updateFromServerResponse(_);const M=new It({uid:_.localId,auth:g,stsTokenManager:S,isAnonymous:C});return yield To(M),M})()}}const Nn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,C){var S=this;return(0,c.Z)(function*(){S.storage[_]=C})()}_get(_){var C=this;return(0,c.Z)(function*(){const S=C.storage[_];return void 0===S?null:S})()}_remove(_){var C=this;return(0,c.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return E.type="NONE",E})();function qt(E,g,_){return`firebase:${E}:${g}:${_}`}class mn{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:S,name:M}=this.auth;this.fullUserKey=qt(this.userKey,S.apiKey,M),this.fullPersistenceKey=qt("persistence",S.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?It._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,c.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,c.Z)(function*(){if(!_.length)return new mn(fe(Nn),g,C);const S=(yield Promise.all(_.map(function(){var He=(0,c.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return He.apply(this,arguments)}}()))).filter(He=>He);let M=S[0]||fe(Nn);const K=qt(C,g.config.apiKey,g.name);let ve=null;for(const He of _)try{const rt=yield He._get(K);if(rt){const Qe=It._fromJSON(g,rt);He!==M&&(ve=Qe),M=He;break}}catch(rt){}const Pe=S.filter(He=>He._shouldAllowMigration);return M._shouldAllowMigration&&Pe.length?(M=Pe[0],ve&&(yield M._set(K,ve.toJSON())),yield Promise.all(_.map(function(){var He=(0,c.Z)(function*(rt){if(rt!==M)try{yield rt._remove(K)}catch(Qe){}});return function(rt){return He.apply(this,arguments)}}())),new mn(M,g,C)):new mn(M,g,C)})()}}function Ao(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Tc(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ha(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Du(g))return"Blackberry";if(pa(g))return"Webos";if(kh(g))return"Safari";if((g.includes("chrome/")||Fh(g))&&!g.includes("edge/"))return"Chrome";if(fa(g))return"Android";{const C=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function ha(E=(0,q.z$)()){return/firefox\//i.test(E)}function kh(E=(0,q.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Fh(E=(0,q.z$)()){return/crios\//i.test(E)}function Tc(E=(0,q.z$)()){return/iemobile/i.test(E)}function fa(E=(0,q.z$)()){return/android/i.test(E)}function Du(E=(0,q.z$)()){return/blackberry/i.test(E)}function pa(E=(0,q.z$)()){return/webos/i.test(E)}function Ri(E=(0,q.z$)()){return/iphone|ipad|ipod/i.test(E)}function zi(E=(0,q.z$)()){return Ri(E)||fa(E)||pa(E)||Du(E)||/windows phone/i.test(E)||Tc(E)}function hr(E,g=[]){let _;switch(E){case"Browser":_=Ao((0,q.z$)());break;case"Worker":_=`${Ao((0,q.z$)())}-${E}`;break;default:_=E}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${J.SDK_VERSION}/${C}`}class E_{constructor(g,_){this.app=g,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new je(this),this.idTokenSubscription=new je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=re,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=fe(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S;C._deleted||(C.persistenceManager=yield mn.create(C,g),!C._deleted&&((null===(S=C._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(_),!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,c.Z)(function*(){var C;let S=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const M=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,K=null==S?void 0:S._redirectEventId,ve=yield _.tryRedirectSignIn(g);(!M||M===K)&&(null==ve?void 0:ve.user)&&(S=ve.user)}return S?S._redirectEventId?(be(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===S._redirectEventId?_.directlySetCurrentUser(S):_.reloadAndSetCurrentUserOrClear(S)):_.reloadAndSetCurrentUserOrClear(S):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,c.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(S){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,c.Z)(function*(){try{yield To(g)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,c.Z)(function*(){const C=g?(0,q.m9)(g):null;return C&&be(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,c.Z)(function*(){if(!_._deleted)return g&&be(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,c.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(fe(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new q.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,c.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(_);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&fe(g)||_._popupRedirectResolver;be(C,_,"argument-error"),_.redirectPersistenceManager=yield mn.create(_,[fe(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,c.Z)(function*(){var C,S;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,c.Z)(function*(){if(g===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,S){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),K=this._isInitialized?Promise.resolve():this._initializationPromise;return be(K,this,"internal-error"),K.then(()=>M(this.currentUser)),"function"==typeof _?g.addObserver(_,C,S):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ft(E){return(0,q.m9)(E)}class je{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,q.ne)(_=>this.observer=_)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kt(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function Us(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class fr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return ce("not implemented")}_getIdTokenResponse(g){return ce("not implemented")}_linkToIdToken(g,_){return ce("not implemented")}_getReauthenticationResolver(g){return ce("not implemented")}}function on(E,g){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:resetPassword",dt(E,g))})).apply(this,arguments)}function ga(E,g){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ac(E,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:update",dt(E,g))})).apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(E,g){return ai(E,"POST","/v1/accounts:signInWithPassword",dt(E,g))})).apply(this,arguments)}function Un(E,g){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:sendOobCode",dt(E,g))})).apply(this,arguments)}function js(E,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(E,g){return Un(E,g)})).apply(this,arguments)}function Ht(E,g){return Su.apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(E,g){return Un(E,g)})).apply(this,arguments)}function Vh(E,g){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(E,g){return Un(E,g)})).apply(this,arguments)}function Uh(E,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(E,g){return Un(E,g)})).apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(E,g){return ai(E,"POST","/v1/accounts:signInWithEmailLink",dt(E,g))})).apply(this,arguments)}function Zh(){return(Zh=(0,c.Z)(function*(E,g){return ai(E,"POST","/v1/accounts:signInWithEmailLink",dt(E,g))})).apply(this,arguments)}class $r extends fr{constructor(g,_,C,S=null){super("password",C),this._email=g,this._password=_,this._tenantId=S}static _fromEmailAndPassword(g,_){return new $r(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new $r(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function(E,g){return qr.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(E,g){return ds.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Me(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return ga(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(E,g){return Zh.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:Me(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Lt(E,g){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(E,g){return ai(E,"POST","/v1/accounts:signInWithIdp",dt(E,g))})).apply(this,arguments)}class Gr extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Gr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Me("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:S}=_,M=(0,se._T)(_,["providerId","signInMethod"]);if(!C||!S)return null;const K=new Gr(C,S);return Object.assign(K,M),K}_getIdTokenResponse(g){return Lt(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Lt(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Lt(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,q.xO)(_)}return g}}function xi(E,g){return jh.apply(this,arguments)}function jh(){return(jh=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:sendVerificationCode",dt(E,g))})).apply(this,arguments)}function Bh(){return(Bh=(0,c.Z)(function*(E,g){return ai(E,"POST","/v1/accounts:signInWithPhoneNumber",dt(E,g))})).apply(this,arguments)}function vg(){return(vg=(0,c.Z)(function*(E,g){const _=yield ai(E,"POST","/v1/accounts:signInWithPhoneNumber",dt(E,g));if(_.temporaryProof)throw wo(E,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const x0={USER_NOT_FOUND:"user-not-found"};function bg(){return(bg=(0,c.Z)(function*(E,g){return ai(E,"POST","/v1/accounts:signInWithPhoneNumber",dt(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),x0)})).apply(this,arguments)}class _a extends fr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new _a({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new _a({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function(E,g){return Bh.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function(E,g){return vg.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(E,g){return bg.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:S}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:M}=g;return C||_||S||M?new _a({verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:M}):null}}class Sc{constructor(g){var _,C,S,M,K,ve;const Pe=(0,q.zd)((0,q.pd)(g)),He=null!==(_=Pe.apiKey)&&void 0!==_?_:null,rt=null!==(C=Pe.oobCode)&&void 0!==C?C:null,Qe=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Pe.mode)&&void 0!==S?S:null);be(He&&rt&&Qe,"argument-error"),this.apiKey=He,this.operation=Qe,this.code=rt,this.continueUrl=null!==(M=Pe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(K=Pe.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ve=Pe.tenantId)&&void 0!==ve?ve:null}static parseLink(g){const _=function(E){const g=(0,q.zd)((0,q.pd)(E)).link,_=g?(0,q.zd)((0,q.pd)(g)).deep_link_id:null,C=(0,q.zd)((0,q.pd)(E)).deep_link_id;return(C?(0,q.zd)((0,q.pd)(C)).link:null)||C||_||g||E}(g);try{return new Sc(_)}catch(C){return null}}}let Eg=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(_,C){return $r._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const S=Sc.parseLink(C);return be(S,"argument-error"),$r._fromEmailAndCode(_,S.code,S.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Ro{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class xu extends Ro{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class xo extends xu{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return be("providerId"in _&&"signInMethod"in _,"argument-error"),Gr._fromParams(_)}credential(g){return this._credential(g)}_credential(g){return be(g.idToken||g.accessToken,"argument-error"),Gr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return xo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return xo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:M,nonce:K,providerId:ve}=g;if(!C&&!S&&!_&&!M||!ve)return null;try{return new xo(ve)._credential({idToken:_,accessToken:C,rawNonce:K,pendingToken:M})}catch(Pe){return null}}}let qh=(()=>{class E extends xu{constructor(){super("facebook.com")}static credential(_){return Gr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(C){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Hh=(()=>{class E extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Gr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:S}=_;if(!C&&!S)return null;try{return E.credential(C,S)}catch(M){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),$h=(()=>{class E extends xu{constructor(){super("github.com")}static credential(_){return Gr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(C){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class va extends fr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Lt(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Lt(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Lt(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:S,pendingToken:M}=_;return C&&S&&M&&C===S?new va(C,M):null}static _create(g,_){return new va(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Gh=(()=>{class E extends xu{constructor(){super("twitter.com")}static credential(_,C){return Gr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=_;if(!C||!S)return null;try{return E.credential(C,S)}catch(M){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function zh(E,g){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,c.Z)(function*(E,g){return ai(E,"POST","/v1/accounts:signUp",dt(E,g))})).apply(this,arguments)}class Oi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,S=!1){return(0,c.Z)(function*(){const M=yield It._fromIdTokenResponse(g,C,S),K=C_(C);return new Oi({user:M,providerId:K,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const S=C_(C);return new Oi({user:g,providerId:S,_tokenResponse:C,operationType:_})})()}}function C_(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Mu(){return(Mu=(0,c.Z)(function*(E){var g;const _=Ft(E);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Oi({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield zh(_,{returnSecureToken:!0}),S=yield Oi._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Nc extends q.ZR{constructor(g,_,C,S){var M;super(_.code,_.message),this.operationType=C,this.user=S,this.name="FirebaseError",Object.setPrototypeOf(this,Nc.prototype),this.appName=g.name,this.code=_.code,this.tenantId=null!==(M=g.tenantId)&&void 0!==M?M:void 0,this.serverResponse=_.customData.serverResponse}static _fromErrorAndOperation(g,_,C,S){return new Nc(g,_,C,S)}}function Pu(E,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(E):_._getIdTokenResponse(E)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Nc._fromErrorAndOperation(E,M,g,C):M})}function wg(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function ku(){return(ku=(0,c.Z)(function*(E,g){const _=(0,q.m9)(E);yield Bs(!0,_,g);const{providerUserInfo:C}=yield Vn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),S=wg(C||[]);return _.providerData=_.providerData.filter(M=>S.has(M.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Rc(E,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(E,g,_=!1){const C=yield pn(E,g._linkToIdToken(E.auth,yield E.getIdToken()),_);return Oi._forOperation(E,"link",C)})).apply(this,arguments)}function Bs(E,g,_){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(E,g,_){yield To(g);const S=!1===E?"provider-already-linked":"no-such-provider";be(wg(g.providerData).has(_)===E,g.auth,S)})).apply(this,arguments)}function xc(E,g){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(E,g,_=!1){const{auth:C}=E,S="reauthenticate";try{const M=yield pn(E,Pu(C,S,g,E),_);be(M.idToken,C,"internal-error");const K=Ge(M.idToken);be(K,C,"internal-error");const{sub:ve}=K;return be(E.uid===ve,C,"user-mismatch"),Oi._forOperation(E,S,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Me(C,"user-mismatch"),M}})).apply(this,arguments)}function Cg(E,g){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(E,g,_=!1){const C="signIn",S=yield Pu(E,C,g),M=yield Oi._fromIdTokenResponse(E,C,S);return _||(yield E._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Mc(E,g){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(E,g){return Cg(Ft(E),g)})).apply(this,arguments)}function Ig(E,g){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,c.Z)(function*(E,g){const _=(0,q.m9)(E);return yield Bs(!1,_,g.providerId),Rc(_,g)})).apply(this,arguments)}function Lu(E,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(E,g){return xc((0,q.m9)(E),g)})).apply(this,arguments)}function V0(E,g){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(E,g){return ai(E,"POST","/v1/accounts:signInWithCustomToken",dt(E,g))})).apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(E,g){const _=Ft(E),C=yield V0(_,{token:g,returnSecureToken:!0}),S=yield Oi._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Uu{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Zu._fromServerResponse(g,_):Me(g,"internal-error")}}class Zu extends Uu{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Zu(_)}}function ju(E,g,_){var C;be((null===(C=_.url)||void 0===C?void 0:C.length)>0,E,"invalid-continue-uri"),be(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(be(_.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iosBundleId=_.iOS.bundleId),_.android&&(be(_.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Pc(){return(Pc=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E),S={requestType:"PASSWORD_RESET",email:g};_&&ju(C,S,_),yield Ht(C,S)})).apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(E,g,_){yield on((0,q.m9)(E),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(E,g){yield Ac((0,q.m9)(E),{oobCode:g})})).apply(this,arguments)}function Bu(E,g){return qu.apply(this,arguments)}function qu(){return(qu=(0,c.Z)(function*(E,g){const _=(0,q.m9)(E),C=yield on(_,{oobCode:g}),S=C.requestType;switch(be(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(C.mfaInfo,_,"internal-error");default:be(C.email,_,"internal-error")}let M=null;return C.mfaInfo&&(M=Uu._fromServerResponse(Ft(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:M},operation:S}})).apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(E,g){const{data:_}=yield Bu((0,q.m9)(E),g);return _.email})).apply(this,arguments)}function Ce(){return(Ce=(0,c.Z)(function*(E,g,_){const C=Ft(E),S=yield zh(C,{returnSecureToken:!0,email:g,password:_}),M=yield Oi._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(M.user),M})).apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E),S={requestType:"EMAIL_SIGNIN",email:g};be(_.handleCodeInApp,C,"argument-error"),_&&ju(C,S,_),yield Vh(C,S)})).apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E),S=Eg.credentialWithLink(g,_||Oe());return be(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Mc(C,S)})).apply(this,arguments)}function Qh(E,g){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:createAuthUri",dt(E,g))})).apply(this,arguments)}function Sg(){return(Sg=(0,c.Z)(function*(E,g){const C={identifier:g,continueUri:$e()?Oe():"http://localhost"},{signinMethods:S}=yield Qh((0,q.m9)(E),C);return S||[]})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(E,g){const _=(0,q.m9)(E),S={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&ju(_.auth,S,g);const{email:M}=yield js(_.auth,S);M!==E.email&&(yield E.reload())})).apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};_&&ju(C.auth,M,_);const{email:K}=yield Uh(C.auth,M);K!==E.email&&(yield E.reload())})).apply(this,arguments)}function Jh(E,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(E,g){return xt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Xh(){return(Xh=(0,c.Z)(function*(E,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,q.m9)(E),M={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},K=yield pn(C,Jh(C.auth,M));C.displayName=K.displayName||null,C.photoURL=K.photoUrl||null;const ve=C.providerData.find(({providerId:Pe})=>"password"===Pe);ve&&(ve.displayName=C.displayName,ve.photoURL=C.photoURL),yield C._updateTokensIfNecessary(K)})).apply(this,arguments)}function tf(E,g,_){return $u.apply(this,arguments)}function $u(){return($u=(0,c.Z)(function*(E,g,_){const{auth:C}=E,M={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(M.email=g),_&&(M.password=_);const K=yield pn(E,ga(C,M));yield E._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class ko{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class rf extends ko{constructor(g,_,C,S){super(g,_,C),this.username=S}}class A_ extends ko{constructor(g,_){super(g,"facebook.com",_)}}class D_ extends rf{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Gu extends ko{constructor(g,_){super(g,"google.com",_)}}class Rg extends rf{constructor(g,_,C){super(g,"twitter.com",_,C)}}function xg(E){const{user:g,_tokenResponse:_}=E;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(E){var g,_;if(!E)return null;const{providerId:C}=E,S=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},M=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!C&&(null==E?void 0:E.idToken)){const K=null===(_=null===(g=Ge(E.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(K)return new ko(M,"anonymous"!==K&&"custom"!==K?K:null)}if(!C)return null;switch(C){case"facebook.com":return new A_(M,S);case"github.com":return new D_(M,S);case"google.com":return new Gu(M,S);case"twitter.com":return new Rg(M,S,E.screenName||null);case"custom":case"anonymous":return new ko(M,null);default:return new ko(M,C,S)}}(_)}class ps{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new ps("enroll",g)}static _fromMfaPendingCredential(g){return new ps("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return ps._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(C=g.multiFactorSession)||void 0===C?void 0:C.idToken)return ps._fromIdtoken(g.multiFactorSession.idToken)}return null}}class sf{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=Ft(g),S=(_.serverResponse.mfaInfo||[]).map(K=>Uu._fromServerResponse(C,K));be(_.serverResponse.mfaPendingCredential,C,"internal-error");const M=ps._fromMfaPendingCredential(_.serverResponse.mfaPendingCredential);return new sf(M,S,function(){var K=(0,c.Z)(function*(ve){const Pe=yield ve._process(C,M);delete _.serverResponse.mfaInfo,delete _.serverResponse.mfaPendingCredential;const He=Object.assign(Object.assign({},_.serverResponse),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(_.operationType){case"signIn":const rt=yield Oi._fromIdTokenResponse(C,_.operationType,He);return yield C._updateCurrentUser(rt.user),rt;case"reauthenticate":return be(_.user,C,"internal-error"),Oi._forOperation(_.user,_.operationType,He);default:Me(C,"internal-error")}});return function(ve){return K.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,c.Z)(function*(){return _.signInResolver(g)})()}}function S_(E,g){return xt(E,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:E.tenantId},g))}class Ea{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Uu._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new Ea(g)}getSession(){var g=this;return(0,c.Z)(function*(){return ps._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var C=this;return(0,c.Z)(function*(){const S=g,M=yield C.getSession(),K=yield pn(C.user,S._process(C.user.auth,M,_));return yield C.user._updateTokensIfNecessary(K),C.user.reload()})()}unenroll(g){var _=this;return(0,c.Z)(function*(){const C="string"==typeof g?g:g.uid,S=yield _.user.getIdToken(),M=yield pn(_.user,function(E,g){return xt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:E.tenantId},g))}(_.user.auth,{idToken:S,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:K})=>K!==C),yield _.user._updateTokensIfNecessary(M);try{yield _.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const wa=new WeakMap,zu="__sak";class uf{constructor(g,_){this.storage=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(zu,"1"),this.storage.removeItem(zu),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const kc=(()=>{class E extends uf{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,q.z$)();return kh(E)||Ri(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=zi(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),M=this.localCache[C];S!==M&&_(C,M,S)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((ve,Pe,He)=>{this.notifyListeners(ve,He)});const S=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(S);if(_.newValue!==ve)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!C)return}const M=()=>{const ve=this.storage.getItem(S);!C&&this.localCache[S]===ve||this.notifyListeners(S,ve)},K=this.storage.getItem(S);(0,q.w1)()&&10===document.documentMode&&K!==_.newValue&&_.newValue!==_.oldValue?setTimeout(M,10):M()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var S=()=>super._set,M=this;return(0,c.Z)(function*(){yield S().call(M,_,C),M.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,S=this;return(0,c.Z)(function*(){const M=yield C().call(S,_);return S.localCache[_]=JSON.stringify(M),M})()}_remove(_){var C=()=>super._remove,S=this;return(0,c.Z)(function*(){yield C().call(S,_),delete S.localCache[_]})()}}return E.type="LOCAL",E})(),gs=(()=>{class E extends uf{constructor(){super(window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return E.type="SESSION",E})();let Ks=(()=>{class E{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(M=>M.isListeningto(_));if(C)return C;const S=new E(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,c.Z)(function*(){const S=_,{eventId:M,eventType:K,data:ve}=S.data,Pe=C.handlersMap[K];if(!(null==Pe?void 0:Pe.size))return;S.ports[0].postMessage({status:"ack",eventId:M,eventType:K});const He=Array.from(Pe).map(function(){var Qe=(0,c.Z)(function*(vn){return vn(S.origin,ve)});return function(vn){return Qe.apply(this,arguments)}}()),rt=yield function(E){return Promise.all(E.map(function(){var g=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(He);S.ports[0].postMessage({status:"done",eventId:M,eventType:K,response:rt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Fc(E="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return E+_}class j0{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var S=this;return(0,c.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let K,ve;return new Promise((Pe,He)=>{const rt=Fc("",20);M.port1.start();const Qe=setTimeout(()=>{He(new Error("unsupported_event"))},C);ve={messageChannel:M,onMessage(vn){const Wt=vn;if(Wt.data.eventId===rt)switch(Wt.data.status){case"ack":clearTimeout(Qe),K=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Pe(Wt.data.response);break;default:clearTimeout(Qe),clearTimeout(K),He(new Error("invalid_response"))}}},S.handlers.add(ve),M.port1.addEventListener("message",ve.onMessage),S.target.postMessage({eventType:g,eventId:rt,data:_},[M.port2])}).finally(()=>{ve&&S.removeMessageHandler(ve)})})()}}function tn(){return window}function Lc(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}function hf(){return(hf=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const kg="firebaseLocalStorageDb",Yu="firebaseLocalStorage",Vc="fbase_key";class Uc{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Zc(E,g){return E.transaction([Yu],g?"readwrite":"readonly").objectStore(Yu)}function et(){const E=indexedDB.open(kg,1);return new Promise((g,_)=>{E.addEventListener("error",()=>{_(E.error)}),E.addEventListener("upgradeneeded",()=>{const C=E.result;try{C.createObjectStore(Yu,{keyPath:Vc})}catch(S){_(S)}}),E.addEventListener("success",(0,c.Z)(function*(){const C=E.result;C.objectStoreNames.contains(Yu)?g(C):(C.close(),yield function(){const E=indexedDB.deleteDatabase(kg);return new Uc(E).toPromise()}(),g(yield et()))}))})}function ms(E,g,_){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(E,g,_){const C=Zc(E,!0).put({[Vc]:g,value:_});return new Uc(C).toPromise()})).apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(E,g){const _=Zc(E,!1).get(g),C=yield new Uc(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Lo(E,g){const _=Zc(E,!0).delete(g);return new Uc(_).toPromise()}const Ta=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield et()),_.db})()}_withRetries(_){var C=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const M=yield C._openDb();return yield _(M)}catch(M){if(S++>3)throw M;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return Lc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=Ks._getInstance(Lc()?self:null),_.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(S,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(S,M){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(S,M){return["keyChanged"]});return function(S,M){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var C,S;if(_.activeServiceWorker=yield function(){return hf.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new j0(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);!M||(null===(C=M[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=M[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield et();return yield ms(_,zu,"1"),yield Lo(_,zu),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(M=>ms(M,_,C)),S.localCache[_]=C,S.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,c.Z)(function*(){const S=yield C._withRetries(M=>function(E,g){return Ia.apply(this,arguments)}(M,_));return C.localCache[_]=S,S})()}_remove(_){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(S=>Lo(S,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const C=yield _._withRetries(K=>{const ve=Zc(K,!1).getAll();return new Uc(ve).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const S=[],M=new Set;for(const{fbase_key:K,value:ve}of C)M.add(K),JSON.stringify(_.localCache[K])!==JSON.stringify(ve)&&(_.notifyListeners(K,ve),S.push(K));for(const K of Object.keys(_.localCache))_.localCache[K]&&!M.has(K)&&(_.notifyListeners(K,null),S.push(K));return S})()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function Wr(E,g){return xt(E,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:E.tenantId},g))}function jc(){return(jc=(0,c.Z)(function*(E){return(yield xt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Aa(E){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",E),C.onload=g,C.onerror=S=>{const M=Ue("internal-error");M.customData=S,_(M)},C.type="text/javascript",C.charset="UTF-8",function(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(C)})}function Lg(E){return`__${E}${Math.floor(1e6*Math.random())}`}const ci=1e12;class Vg{constructor(g){this.auth=g,this.counter=ci,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new Ju(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||ci;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ci))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,c.Z)(function*(){var C;return null===(C=_._widgets.get(g||ci))||void 0===C||C.execute(),""})()}}class Ju{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;be(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}();const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ys=Lg("rcb"),Da=new Ut(3e4,6e4);class Ki{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tn().grecaptcha}load(g,_=""){return be((E=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(tn().grecaptcha):new Promise((C,S)=>{const M=tn().setTimeout(()=>{S(Ue(g,"network-request-failed"))},Da.get());tn()[ys]=()=>{tn().clearTimeout(M),delete tn()[ys];const ve=tn().grecaptcha;if(!ve)return void S(Ue(g,"internal-error"));const Pe=ve.render;ve.render=(He,rt)=>{const Qe=Pe(He,rt);return this.counter++,Qe},this.hostLanguage=_,C(ve)},Aa(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:ys,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),S(Ue(g,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!tn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vo{load(g){return(0,c.Z)(function*(){return new Vg(g)})()}clearedOneInstance(){}}const L_="recaptcha",yA={theme:"light",type:"image"};class Ug{constructor(g,_=Object.assign({},yA),C){this.parameters=_,this.type=L_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ft(C),this.isInvisible="invisible"===this.parameters.size,be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;be(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vo:new Ki,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(M=>{const K=ve=>{!ve||(g.tokenChangeListeners.delete(K),M(ve))};g.tokenChangeListeners.add(K),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=tn()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){be($e()&&!Lc(),g.auth,"internal-error"),yield function(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function(E){return jc.apply(this,arguments)}(g.auth);be(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ff{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=_a._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Sa(){return(Sa=(0,c.Z)(function*(E,g,_){const C=Ft(E),S=yield pf(C,g,(0,q.m9)(_));return new ff(S,M=>Mc(C,M))})).apply(this,arguments)}function jg(){return(jg=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E);yield Bs(!1,C,"phone");const S=yield pf(C.auth,g,(0,q.m9)(_));return new ff(S,M=>Ig(C,M))})).apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E),S=yield pf(C.auth,g,(0,q.m9)(_));return new ff(S,M=>Lu(C,M))})).apply(this,arguments)}function pf(E,g,_){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,c.Z)(function*(E,g,_){var C;const S=yield _.verify();try{let M;if(be("string"==typeof S,E,"argument-error"),be(_.type===L_,E,"argument-error"),M="string"==typeof g?{phoneNumber:g}:g,"session"in M){const K=M.session;if("phoneNumber"in M)return be("enroll"===K.type,E,"internal-error"),(yield S_(E,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{be("signin"===K.type,E,"internal-error");const ve=(null===(C=M.multiFactorHint)||void 0===C?void 0:C.uid)||M.multiFactorUid;return be(ve,E,"missing-multi-factor-info"),(yield Wr(E,{mfaPendingCredential:K.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield xi(E,{phoneNumber:M.phoneNumber,recaptchaToken:S});return K}}finally{_._reset()}})).apply(this,arguments)}function qg(){return(qg=(0,c.Z)(function*(E,g){yield Rc((0,q.m9)(E),g)})).apply(this,arguments)}let qc=(()=>{class E{constructor(_){this.providerId=E.PROVIDER_ID,this.auth=Ft(_)}verifyPhoneNumber(_,C){return pf(this.auth,_,(0,q.m9)(C))}static credential(_,C){return _a._fromVerification(_,C)}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:S}=_;return C&&S?_a._fromTokenResponse(C,S):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function xn(E,g){return g?fe(g):(be(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class di extends fr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Lt(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Lt(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Lt(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Hg(E){return Cg(E.auth,new di(E),E.bypassAuthState)}function kn(E){const{auth:g,user:_}=E;return be(_,g,"internal-error"),xc(_,new di(E),E.bypassAuthState)}function Hc(E){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(E){const{auth:g,user:_}=E;return be(_,g,"internal-error"),Rc(_,new di(E),E.bypassAuthState)})).apply(this,arguments)}class V_{constructor(g,_,C,S,M=!1){this.auth=g,this.resolver=C,this.user=S,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,c.Z)(function*(C,S){g.pendingPromise={resolve:C,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(M){g.reject(M)}});return function(C,S){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:M,tenantId:K,error:ve,type:Pe}=g;if(ve)return void _.reject(ve);const He={auth:_.auth,requestUri:C,sessionId:S,tenantId:K||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(He))}catch(rt){_.reject(rt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Hg;case"linkViaPopup":case"linkViaRedirect":return Hc;case"reauthViaPopup":case"reauthViaRedirect":return kn;default:Me(this.auth,"internal-error")}}resolve(g){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U_=new Ut(2e3,1e4);function Kr(){return(Kr=(0,c.Z)(function*(E,g,_){const C=Ft(E);ct(E,g,Ro);const S=xn(C,_);return new bs(C,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E);ct(C.auth,g,Ro);const S=xn(C.auth,_);return new bs(C.auth,"reauthViaPopup",g,S,C).executeNotNull()})).apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E);ct(C.auth,g,Ro);const S=xn(C.auth,_);return new bs(C.auth,"linkViaPopup",g,S,C).executeNotNull()})).apply(this,arguments)}let bs=(()=>{class E extends V_{constructor(_,C,S,M,K){super(_,C,M,K),this.provider=S,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const C=yield _.execute();return be(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,c.Z)(function*(){he(1===_.filter.length,"Popup operations only handle one event");const C=Fc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Ue(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,S;this.pollId=(null===(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,U_.get())};_()}}return E.currentPopupAction=null,E})();const $g=new Map;class Z_ extends V_{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,c.Z)(function*(){let C=$g.get(_.auth._key());if(!C){try{const M=(yield function(E,g){return gr.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(M)}catch(S){C=()=>Promise.reject(S)}$g.set(_.auth._key(),C)}return C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const S=yield C.auth._redirectUserForId(g.eventId);if(S)return C.user=S,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function gr(){return(gr=(0,c.Z)(function*(E,g){const _=gf(g),C="true"===(yield Qs(E)._get(_));return yield Qs(E)._remove(_),C})).apply(this,arguments)}function Xu(E,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(E,g){return Qs(E)._set(gf(g),"true")})).apply(this,arguments)}function Qs(E){return fe(E._redirectPersistence)}function gf(E){return qt("pendingRedirect",E.config.apiKey,E.name)}function mf(){return(mf=(0,c.Z)(function*(E,g,_){const C=Ft(E);ct(E,g,Ro);const S=xn(C,_);return yield Xu(S,C),S._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E);ct(C.auth,g,Ro);const S=xn(C.auth,_);yield Xu(S,C.auth);const M=yield vt(C);return S._openRedirect(C.auth,g,"reauthViaRedirect",M)})).apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(E,g,_){const C=(0,q.m9)(E);ct(C.auth,g,Ro);const S=xn(C.auth,_);yield Bs(!1,C,g.providerId),yield Xu(S,C.auth);const M=yield vt(C);return S._openRedirect(C.auth,g,"linkViaRedirect",M)})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(E,g){return yield Ft(E)._initializationPromise,zc(E,g,!1)})).apply(this,arguments)}function zc(E,g){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,c.Z)(function*(E,g,_=!1){const C=Ft(E),S=xn(C,g),K=yield new Z_(C,S,_).execute();return K&&!_&&(delete K.user._redirectEventId,yield C._persistUserIfCurrent(K.user),yield C._setRedirectUser(null,g)),K})).apply(this,arguments)}function vt(E){return rl.apply(this,arguments)}function rl(){return(rl=(0,c.Z)(function*(E){const g=Fc(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class sl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jo(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!jo(g)){const S=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Ue(this.auth,S))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xs(g))}saveEventToCache(g){this.cachedEventUids.add(Xs(g)),this.lastProcessedEventTime=Date.now()}}function Xs(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function jo({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===(null==g?void 0:g.code)}function In(E){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(E,g={}){return xt(E,"GET","/v1/projects",g)})).apply(this,arguments)}const G_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eo=/^https?/;function Wg(){return(Wg=(0,c.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield In(E);for(const _ of g)try{if(jn(_))return}catch(C){}Me(E,"unauthorized-domain")})).apply(this,arguments)}function jn(E){const g=Oe(),{protocol:_,hostname:C}=new URL(g);if(E.startsWith("chrome-extension://")){const K=new URL(E);return""===K.hostname&&""===C?"chrome-extension:"===_&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&K.hostname===C}if(!eo.test(_))return!1;if(G_.test(E))return C===E;const S=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const ki=new Ut(3e4,6e4);function z_(){const E=tn().___jsl;if(null==E?void 0:E.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let _=0;_<E.CP.length;_++)E.CP[_]=null}let Jr=null;function ol(E){return Jr=Jr||function(E){return new Promise((g,_)=>{var C,S,M;function K(){z_(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{z_(),_(Ue(E,"network-request-failed"))},timeout:ki.get()})}if(null===(S=null===(C=tn().gapi)||void 0===C?void 0:C.iframes)||void 0===S?void 0:S.Iframe)g(gapi.iframes.getContext());else{if(!(null===(M=tn().gapi)||void 0===M?void 0:M.load)){const ve=Lg("iframefcb");return tn()[ve]=()=>{gapi.load?K():_(Ue(E,"network-request-failed"))},Aa(`https://apis.google.com/js/api.js?onload=${ve}`)}K()}}).catch(g=>{throw Jr=null,g})}(E),Jr}const to=new Ut(5e3,15e3),Kc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},al=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ul(E){const g=E.config;be(g.authDomain,E,"auth-domain-config-required");const _=g.emulator?hn(g,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:E.name,v:J.SDK_VERSION},S=al.get(E.config.apiHost);S&&(C.eid=S);const M=E._getFrameworks();return M.length&&(C.fw=M.join(",")),`${_}?${(0,q.xO)(C).slice(1)}`}function wt(){return(wt=(0,c.Z)(function*(E){const g=yield ol(E),_=tn().gapi;return be(_,E,"internal-error"),g.open({where:document.body,url:ul(E),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kc,dontclear:!0},C=>new Promise(function(){var S=(0,c.Z)(function*(M,K){yield C.restyle({setHideOnLeave:!1});const ve=Ue(E,"network-request-failed"),Pe=tn().setTimeout(()=>{K(ve)},to.get());function He(){tn().clearTimeout(Pe),M(C)}C.ping(He).then(He,()=>{K(ve)})});return function(M,K){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const Yi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _f{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Es(E,g,_,C,S,M){be(E.config.authDomain,E,"auth-domain-config-required"),be(E.config.apiKey,E,"invalid-api-key");const K={apiKey:E.config.apiKey,appName:E.name,authType:_,redirectUrl:C,v:J.SDK_VERSION,eventId:S};if(g instanceof Ro){g.setDefaultLanguage(E.languageCode),K.providerId=g.providerId||"",(0,q.xb)(g.getCustomParameters())||(K.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Pe,He]of Object.entries(M||{}))K[Pe]=He}if(g instanceof xu){const Pe=g.getScopes().filter(He=>""!==He);Pe.length>0&&(K.scopes=Pe.join(","))}E.tenantId&&(K.tid=E.tenantId);const ve=K;for(const Pe of Object.keys(ve))void 0===ve[Pe]&&delete ve[Pe];return`${function({config:E}){return E.emulator?hn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,q.xO)(ve).slice(1)}`}const Qi="webStorageSupport";class Ma extends class{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return ce("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ma(g)}_finalizeEnroll(g,_,C){return function(E,g){return xt(E,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:E.tenantId},g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function(E,g){return xt(E,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:E.tenantId},g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ef{constructor(){}static assertion(g){return Ma._fromCredential(g)}}var E;class Xg{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{var S;g((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $o(){return window}function Xr(){return(Xr=(0,c.Z)(function*(E,g,_){var C;const{BuildInfo:S}=$o();he(g.sessionId,"AuthEvent did not contain a session ID");const M=yield rm(g.sessionId),K={};return Ri()?K.ibi=S.packageName:fa()?K.apn=S.packageName:Me(E,"operation-not-supported-in-this-environment"),S.displayName&&(K.appDisplayName=S.displayName),K.sessionId=M,Es(E,_,g.type,void 0,null!==(C=g.eventId)&&void 0!==C?C:void 0,K)})).apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(E){const{BuildInfo:g}=$o(),_={};Ri()?_.iosBundleId=g.packageName:fa()?_.androidPackageName=g.packageName:Me(E,"operation-not-supported-in-this-environment"),yield In(E,_)})).apply(this,arguments)}function Cf(){return(Cf=(0,c.Z)(function*(E,g,_){const{cordova:C}=$o();let S=()=>{};try{yield new Promise((M,K)=>{let ve=null;function Pe(){var Qe;M();const vn=null===(Qe=C.plugins.browsertab)||void 0===Qe?void 0:Qe.close;"function"==typeof vn&&vn(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function He(){ve||(ve=window.setTimeout(()=>{K(Ue(E,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===(null==document?void 0:document.visibilityState)&&He()}g.addPassiveListener(Pe),document.addEventListener("resume",He,!1),fa()&&document.addEventListener("visibilitychange",rt,!1),S=()=>{g.removePassiveListener(Pe),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",rt,!1),ve&&window.clearTimeout(ve)}})}finally{S()}})).apply(this,arguments)}function rm(E){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,c.Z)(function*(E){const g=ed(E),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ed(E){if(he(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const g=new ArrayBuffer(E.length),_=new Uint8Array(g);for(let C=0;C<E.length;C++)_[C]=E.charCodeAt(C);return _}E="Browser",(0,J._registerComponent)(new ue.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),{apiKey:S,authDomain:M}=C.options;return(K=>{be(S&&!S.includes(":"),"invalid-api-key",{appName:K.name}),be(!(null==M?void 0:M.includes(":")),"argument-error",{appName:K.name});const ve={apiKey:S,authDomain:M,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hr(E)},Pe=new E_(K,ve);return function(E,g){const _=(null==g?void 0:g.persistence)||[],C=(Array.isArray(_)?_:[_]).map(fe);(null==g?void 0:g.errorMap)&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(C,null==g?void 0:g.popupRedirectResolver)}(Pe,_),Pe})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new ue.wA("auth-internal",g=>{const _=Ft(g.getProvider("auth").getImmediate());return new Xg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)("@firebase/auth","0.17.2",void 0);class If extends sl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function td(E){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(E){const g=yield zo()._get(nd(E));return g&&(yield zo()._remove(nd(E))),g})).apply(this,arguments)}function Fi(){const E=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*g.length);E.push(g.charAt(C))}return E.join("")}function zo(){return fe(kc)}function nd(E){return qt("authEvent",E.config.apiKey,E.name)}function Wo(E){if(!(null==E?void 0:E.includes("?")))return{};const[g,..._]=E.split("?");return(0,q.zd)(_.join("?"))}function id(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ue("no-auth-event")}}function gl(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function cm(E=(0,q.z$)()){return!("file:"!==gl()&&"ionic:"!==gl()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function od(){try{const E=self.localStorage,g=Fc();if(E)return E.setItem(g,"1"),E.removeItem(g),!function(E=(0,q.z$)()){return(0,q.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,q.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,q.hl)()}catch(E){return Df()&&(0,q.hl)()}return!1}function Df(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yt(){return("http:"===gl()||"https:"===gl()||(0,q.ru)()||cm())&&!((0,q.b$)()||(0,q.UG)())&&od()&&!Df()}function hm(){return cm()&&"undefined"!=typeof document}function fi(){return(fi=(0,c.Z)(function*(){return!!hm()&&new Promise(E=>{const g=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),E(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},Li=be,fm="persistence";function Nf(E){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,c.Z)(function*(E){yield E._initializationPromise;const g=yl(),_=qt(fm,E.config.apiKey,E.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(_,E._getPersistence())})).apply(this,arguments)}function yl(){return"undefined"!=typeof window?window:null}const Pa=be;class un{constructor(){this.browserResolver=fe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gs,this._completeRedirectFn=zc}_openPopup(g,_,C,S){var M=this;return(0,c.Z)(function*(){var K;he(null===(K=M.eventManagers[g._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ve=Es(g,_,C,Oe(),S);return function(E,g,_,C=500,S=600){const M=Math.max((window.screen.availHeight-S)/2,0).toString(),K=Math.max((window.screen.availWidth-C)/2,0).toString();let ve="";const Pe=Object.assign(Object.assign({},Yi),{width:C.toString(),height:S.toString(),top:M,left:K}),He=(0,q.z$)().toLowerCase();_&&(ve=Fh(He)?"_blank":_),ha(He)&&(g=g||"http://localhost",Pe.scrollbars="yes");const rt=Object.entries(Pe).reduce((vn,[Wt,bl])=>`${vn}${Wt}=${bl},`,"");if(function(E=(0,q.z$)()){var g;return Ri(E)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(He)&&"_self"!==ve)return function(E,g){const _=document.createElement("a");_.href=E,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",ve),new _f(null);const Qe=window.open(g||"",ve,rt);be(Qe,E,"popup-blocked");try{Qe.focus()}catch(vn){}return new _f(Qe)}(g,ve,Fc())})()}_openRedirect(g,_,C,S){var M=this;return(0,c.Z)(function*(){return yield M._originValidation(g),E=Es(g,_,C,Oe(),S),tn().location.href=E,new Promise(()=>{});var E})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:S,promise:M}=this.eventManagers[_];return S?Promise.resolve(S):(he(M,"If manager is not set, promise should be"),M)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C}initAndGetManager(g){var _=this;return(0,c.Z)(function*(){const C=yield function(E){return wt.apply(this,arguments)}(g),S=new sl(g);return C.register("authEvent",M=>(be(null==M?void 0:M.authEvent,g,"invalid-auth-event"),{status:S.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:S},_.iframes[g._key()]=C,S})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Qi,{type:Qi},S=>{var M;const K=null===(M=null==S?void 0:S[0])||void 0===M?void 0:M[Qi];void 0!==K&&_(!!K),Me(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(E){return Wg.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return zi()||kh()||Ri()}}),this.cordovaResolver=fe(class{constructor(){this._redirectPersistence=gs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zc}_initialize(g){var _=this;return(0,c.Z)(function*(){const C=g._key();let S=_.eventManagers.get(C);return S||(S=new If(g),_.eventManagers.set(C,S),_.attachCallbackListeners(g,S)),S})()}_openPopup(g){Me(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,C,S){var M=this;return(0,c.Z)(function*(){!function(E){var g,_,C,S,M,K,ve,Pe,He,rt;const Qe=$o();be("function"==typeof(null===(g=null==Qe?void 0:Qe.universalLinks)||void 0===g?void 0:g.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),be(void 0!==(null===(_=null==Qe?void 0:Qe.BuildInfo)||void 0===_?void 0:_.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),be("function"==typeof(null===(M=null===(S=null===(C=null==Qe?void 0:Qe.cordova)||void 0===C?void 0:C.plugins)||void 0===S?void 0:S.browsertab)||void 0===M?void 0:M.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(Pe=null===(ve=null===(K=null==Qe?void 0:Qe.cordova)||void 0===K?void 0:K.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===Pe?void 0:Pe.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(rt=null===(He=null==Qe?void 0:Qe.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===rt?void 0:rt.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const K=yield M._initialize(g);yield K.initialized(),K.resetRedirect(),$g.clear(),yield M._originValidation(g);const ve=function(E,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:Fi(),postBody:null,tenantId:E.tenantId,error:Ue(E,"no-auth-event")}}(g,C,S);yield function(E,g){return zo()._set(nd(E),g)}(g,ve);const Pe=yield function(E,g,_){return Xr.apply(this,arguments)}(g,ve,_),He=yield function(E){const{cordova:g}=$o();return new Promise(_=>{g.plugins.browsertab.isAvailable(C=>{let S=null;C?g.plugins.browsertab.openUrl(E):S=g.InAppBrowser.open(E,function(E=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),_(S)})})}(Pe);return function(E,g,_){return Cf.apply(this,arguments)}(g,K,He)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(E){return no.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:C,handleOpenURL:S,BuildInfo:M}=$o(),K=setTimeout((0,c.Z)(function*(){yield td(g),_.onEvent(id())}),500),ve=function(){var rt=(0,c.Z)(function*(Qe){clearTimeout(K);const vn=yield td(g);let Wt=null;vn&&(null==Qe?void 0:Qe.url)&&(Wt=function(E,g){var _,C;const S=function(E){const g=Wo(E),_=g.link?decodeURIComponent(g.link):void 0,C=Wo(_).link,S=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Wo(S).link||S||C||_||E}(g);if(S.includes("/__/auth/callback")){const M=Wo(S),K=M.firebaseError?function(E){try{return JSON.parse(E)}catch(g){return null}}(decodeURIComponent(M.firebaseError)):null,ve=null===(C=null===(_=null==K?void 0:K.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],Pe=ve?Ue(ve):null;return Pe?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:S,postBody:null}}return null}(vn,Qe.url)),_.onEvent(Wt||id())});return function(vn){return rt.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,ve);const Pe=S,He=`${M.packageName.toLowerCase()}://`;$o().handleOpenURL=function(){var rt=(0,c.Z)(function*(Qe){if(Qe.toLowerCase().startsWith(He)&&ve({url:Qe}),"function"==typeof Pe)try{Pe(Qe)}catch(vn){console.error(vn)}});return function(Qe){return rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=gs,this._completeRedirectFn=zc}_initialize(g){var _=this;return(0,c.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,C,S){var M=this;return(0,c.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(g,_,C,S)})()}_openRedirect(g,_,C,S){var M=this;return(0,c.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(g,_,C,S)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return hm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pa(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const _=yield function(){return fi.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function ud(E){return E.unwrap()}function ld(E){return Ko(E)}function $t(E,g){var _;const C=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new J_(E,function(E,g){var _;const C=(0,q.m9)(E),S=g;return be(g.operationType,C,"argument-error"),be(null===(_=S.serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),sf._fromError(C,S)}(E,g));else if(C){const S=Ko(g),M=g;S&&(M.credential=S,M.tenantId=C.tenantId||void 0,M.email=C.email||void 0,M.phoneNumber=C.phoneNumber||void 0)}}function Ko(E){const{_tokenResponse:g}=E instanceof q.ZR?E.customData:E;if(!g)return null;if(!(E instanceof q.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return qc.credentialFromResult(E);const _=g.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=Hh;break;case"facebook.com":C=qh;break;case"github.com":C=$h;break;case"twitter.com":C=Gh;break;default:const{oauthIdToken:S,oauthAccessToken:M,oauthTokenSecret:K,pendingToken:ve,nonce:Pe}=g;return M||K||S||ve?ve?_.startsWith("saml.")?va._create(_,ve):Gr._fromParams({providerId:_,signInMethod:_,pendingToken:ve,idToken:S,accessToken:M}):new xo(_).credential({idToken:S,accessToken:M,rawNonce:Pe}):null}return E instanceof q.ZR?C.credentialFromError(E):C.credentialFromResult(E)}function zn(E,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(E,g){let _;try{_=yield g}catch(M){throw M instanceof q.ZR&&$t(E,M),M}const{operationType:C,user:S}=_;return{operationType:C,credential:ld(_),additionalUserInfo:xg(_),user:Ji.getOrCreate(S)}})).apply(this,arguments)}function Fa(E,g){return cd.apply(this,arguments)}function cd(){return(cd=(0,c.Z)(function*(E,g){const _=yield g;return{verificationId:_.verificationId,confirm:C=>zn(E,_.confirm(C))}})).apply(this,arguments)}class J_{constructor(g,_){this.resolver=_,this.auth=function(E){return E.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return zn(ud(this.auth),this.resolver.resolveSignIn(g))}}class Ji{constructor(g){this._delegate=g,this.multiFactor=function(E){const g=(0,q.m9)(E);return wa.has(g)||wa.set(g,Ea._fromUser(g)),wa.get(g)}(g)}static getOrCreate(g){return Ji.USER_MAP.has(g)||Ji.USER_MAP.set(g,new Ji(g)),Ji.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,c.Z)(function*(){return zn(_.auth,Ig(_._delegate,g))})()}linkWithPhoneNumber(g,_){var C=this;return(0,c.Z)(function*(){return Fa(C.auth,function(E,g,_){return jg.apply(this,arguments)}(C._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,c.Z)(function*(){return zn(_.auth,function(E,g,_){return Gc.apply(this,arguments)}(_._delegate,g,un))})()}linkWithRedirect(g){var _=this;return(0,c.Z)(function*(){return yield Nf(Ft(_.auth)),function(E,g,_){return function(E,g,_){return Zo.apply(this,arguments)}(E,g,_)}(_._delegate,g,un)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,c.Z)(function*(){return zn(_.auth,Lu(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Fa(this.auth,function(E,g,_){return Pi.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return zn(this.auth,function(E,g,_){return _s.apply(this,arguments)}(this._delegate,g,un))}reauthenticateWithRedirect(g){var _=this;return(0,c.Z)(function*(){return yield Nf(Ft(_.auth)),function(E,g,_){return function(E,g,_){return tl.apply(this,arguments)}(E,g,_)}(_._delegate,g,un)})()}sendEmailVerification(g){return function(E,g){return Gs.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,c.Z)(function*(){return yield function(E,g){return ku.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function(E,g){return tf((0,q.m9)(E),g,null)}(this._delegate,g)}updatePassword(g){return function(E,g){return tf((0,q.m9)(E),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(E,g){return qg.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(E,g){return Xh.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function(E,g,_){return li.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ji.USER_MAP=new WeakMap;const _l=be;let La=(()=>{class E{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=_.options;_l(S,"invalid-api-key",{appName:_.name});let M=[Nn];if("undefined"!=typeof window){M=function(E,g){const _=yl();if(!(null==_?void 0:_.sessionStorage))return[];const C=qt(fm,E,g);switch(_.sessionStorage.getItem(C)){case Mr.NONE:return[Nn];case Mr.LOCAL:return[Ta,gs];case Mr.SESSION:return[gs];default:return[]}}(S,_.name);for(const ve of[Ta,kc,gs])M.includes(ve)||M.push(ve)}_l(S,"invalid-api-key",{appName:_.name});const K="undefined"!=typeof window?un:void 0;this._delegate=C.initialize({options:{persistence:M,popupRedirectResolver:K}}),this._delegate._updateErrorMap(Q),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ji.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function(E,g,_){const C=Ft(E);be(C._canInitEmulator,C,"emulator-config-failed"),be(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const S=!!(null==_?void 0:_.disableWarnings),M=Kt(g),{host:K,port:ve}=function(E){const g=Kt(E),_=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const M=S[1];return{host:M,port:Us(C.substr(M.length+1))}}{const[M,K]=C.split(":");return{host:M,port:Us(K)}}}(g);C.config.emulator={url:`${M}//${K}${null===ve?"":`:${ve}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:K,port:ve,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:S})}),function(E){function g(){const _=document.createElement("p"),C=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!E&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}(S)}(this._delegate,_,C)}applyActionCode(_){return function(E,g){return Mo.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Bu(this._delegate,_)}confirmPasswordReset(_,C){return function(E,g,_){return ot.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var S=this;return(0,c.Z)(function*(){return zn(S._delegate,function(E,g,_){return Ce.apply(this,arguments)}(S._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(E,g){return Sg.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(E,g){const _=Sc.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,c.Z)(function*(){_l(Yt(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function(E,g){return Js.apply(this,arguments)}(_._delegate,un);return C?zn(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(E,g){Ft(E)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,C,S){const{next:M,error:K,complete:ve}=xf(_,C,S);return this._delegate.onAuthStateChanged(M,K,ve)}onIdTokenChanged(_,C,S){const{next:M,error:K,complete:ve}=xf(_,C,S);return this._delegate.onIdTokenChanged(M,K,ve)}sendSignInLinkToEmail(_,C){return function(E,g,_){return yn.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function(E,g,_){return Pc.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,c.Z)(function*(){let S;switch(function(E,g){Li(Object.values(Mr).includes(g),E,"invalid-persistence-type"),(0,q.b$)()?Li(g!==Mr.SESSION,E,"unsupported-persistence-type"):(0,q.UG)()?Li(g===Mr.NONE,E,"unsupported-persistence-type"):Df()?Li(g===Mr.NONE||g===Mr.LOCAL&&(0,q.hl)(),E,"unsupported-persistence-type"):Li(g===Mr.NONE||od(),E,"unsupported-persistence-type")}(C._delegate,_),_){case Mr.SESSION:S=gs;break;case Mr.LOCAL:S=(yield fe(Ta)._isAvailable())?Ta:kc;break;case Mr.NONE:S=Nn;break;default:return Me("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return zn(this._delegate,function(E){return Mu.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return zn(this._delegate,Mc(this._delegate,_))}signInWithCustomToken(_){return zn(this._delegate,function(E,g){return pr.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return zn(this._delegate,function(E,g,_){return Mc((0,q.m9)(E),Eg.credential(g,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return zn(this._delegate,function(E,g,_){return ui.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return Fa(this._delegate,function(E,g,_){return Sa.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,c.Z)(function*(){return _l(Yt(),C._delegate,"operation-not-supported-in-this-environment"),zn(C._delegate,function(E,g,_){return Kr.apply(this,arguments)}(C._delegate,_,un))})()}signInWithRedirect(_){var C=this;return(0,c.Z)(function*(){return _l(Yt(),C._delegate,"operation-not-supported-in-this-environment"),yield Nf(C._delegate),function(E,g,_){return function(E,g,_){return mf.apply(this,arguments)}(E,g,_)}(C._delegate,_,un)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(E,g){return Po.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Mr,E})();function xf(E,g,_){let C=E;"function"!=typeof E&&({next:C,error:g,complete:_}=E);const S=C;return{next:K=>S(K&&Ji.getOrCreate(K)),error:g,complete:_}}class dd{constructor(){this.providerId="phone",this._delegate=new qc(ud(ne.Z.auth()))}static credential(g,_){return qc.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}dd.PHONE_SIGN_IN_METHOD=qc.PHONE_SIGN_IN_METHOD,dd.PROVIDER_ID=qc.PROVIDER_ID;const vl=be;class Of{constructor(g,_,C=ne.Z.app()){var S;vl(null===(S=C.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Ug(g,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new ue.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),C=g.getProvider("auth");return new La(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Eg,FacebookAuthProvider:qh,GithubAuthProvider:$h,GoogleAuthProvider:Hh,OAuthProvider:xo,PhoneAuthProvider:dd,PhoneMultiFactorGenerator:Ef,RecaptchaVerifier:Of,TwitterAuthProvider:Gh,Auth:La,AuthCredential:fr,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.1.2")}(ne.Z)},7574:(Ve,te,P)=>{"use strict";P.d(te,{y:()=>V});var c=P(7393),q=P(9181),J=P(6490),X=P(6554),ue=P(4487);var k=P(2494);let V=(()=>{class O{constructor(Q){this._isScalar=!1,Q&&(this._subscribe=Q)}lift(Q){const ee=new O;return ee.source=this,ee.operator=Q,ee}subscribe(Q,ee,re){const{operator:Se}=this,Te=function(O,Z,Q){if(O){if(O instanceof c.L)return O;if(O[q.b])return O[q.b]()}return O||Z||Q?new c.L(O,Z,Q):new c.L(J.c)}(Q,ee,re);if(Te.add(Se?Se.call(Te,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Te.syncErrorThrowable?this._subscribe(Te):this._trySubscribe(Te)),k.v.useDeprecatedSynchronousErrorHandling&&Te.syncErrorThrowable&&(Te.syncErrorThrowable=!1,Te.syncErrorThrown))throw Te.syncErrorValue;return Te}_trySubscribe(Q){try{return this._subscribe(Q)}catch(ee){k.v.useDeprecatedSynchronousErrorHandling&&(Q.syncErrorThrown=!0,Q.syncErrorValue=ee),function(O){for(;O;){const{closed:Z,destination:Q,isStopped:ee}=O;if(Z||ee)return!1;O=Q&&Q instanceof c.L?Q:null}return!0}(Q)?Q.error(ee):console.warn(ee)}}forEach(Q,ee){return new(ee=L(ee))((re,Se)=>{let Te;Te=this.subscribe(Re=>{try{Q(Re)}catch(Me){Se(Me),Te&&Te.unsubscribe()}},Se,re)})}_subscribe(Q){const{source:ee}=this;return ee&&ee.subscribe(Q)}[X.L](){return this}pipe(...Q){return 0===Q.length?this:function(O){return 0===O.length?ue.y:1===O.length?O[0]:function(Q){return O.reduce((ee,re)=>re(ee),Q)}}(Q)(this)}toPromise(Q){return new(Q=L(Q))((ee,re)=>{let Se;this.subscribe(Te=>Se=Te,Te=>re(Te),()=>ee(Se))})}}return O.create=Z=>new O(Z),O})();function L(O){if(O||(O=k.v.Promise||Promise),!O)throw new Error("no Promise impl found");return O}},6490:(Ve,te,P)=>{"use strict";P.d(te,{c:()=>q});var c=P(2494),ne=P(4449);const q={closed:!0,next(J){},error(J){if(c.v.useDeprecatedSynchronousErrorHandling)throw J;(0,ne.z)(J)},complete(){}}},9765:(Ve,te,P)=>{"use strict";P.d(te,{Yc:()=>ue,xQ:()=>W});var c=P(7574),ne=P(7393),q=P(5319),J=P(7971),se=P(8858),X=P(9181);class ue extends ne.L{constructor(V){super(V),this.destination=V}}let W=(()=>{class k extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[X.b](){return new ue(this)}lift(L){const O=new j(this,this);return O.operator=L,O}next(L){if(this.closed)throw new J.N;if(!this.isStopped){const{observers:O}=this,Z=O.length,Q=O.slice();for(let ee=0;ee<Z;ee++)Q[ee].next(L)}}error(L){if(this.closed)throw new J.N;this.hasError=!0,this.thrownError=L,this.isStopped=!0;const{observers:O}=this,Z=O.length,Q=O.slice();for(let ee=0;ee<Z;ee++)Q[ee].error(L);this.observers.length=0}complete(){if(this.closed)throw new J.N;this.isStopped=!0;const{observers:L}=this,O=L.length,Z=L.slice();for(let Q=0;Q<O;Q++)Z[Q].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(L){if(this.closed)throw new J.N;return super._trySubscribe(L)}_subscribe(L){if(this.closed)throw new J.N;return this.hasError?(L.error(this.thrownError),q.w.EMPTY):this.isStopped?(L.complete(),q.w.EMPTY):(this.observers.push(L),new se.W(this,L))}asObservable(){const L=new c.y;return L.source=this,L}}return k.create=(V,L)=>new j(V,L),k})();class j extends W{constructor(V,L){super(),this.destination=V,this.source=L}next(V){const{destination:L}=this;L&&L.next&&L.next(V)}error(V){const{destination:L}=this;L&&L.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:L}=this;return L?this.source.subscribe(V):q.w.EMPTY}}},8858:(Ve,te,P)=>{"use strict";P.d(te,{W:()=>ne});var c=P(5319);class ne extends c.w{constructor(J,se){super(),this.subject=J,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const J=this.subject,se=J.observers;if(this.subject=null,!se||0===se.length||J.isStopped||J.closed)return;const X=se.indexOf(this.subscriber);-1!==X&&se.splice(X,1)}}},7393:(Ve,te,P)=>{"use strict";P.d(te,{L:()=>ue});var c=P(9105),ne=P(6490),q=P(5319),J=P(9181),se=P(2494),X=P(4449);class ue extends q.w{constructor(k,V,L){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!k){this.destination=ne.c;break}if("object"==typeof k){k instanceof ue?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,k,V,L)}}[J.b](){return this}static create(k,V,L){const O=new ue(k,V,L);return O.syncErrorThrowable=!1,O}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class W extends ue{constructor(k,V,L,O){super(),this._parentSubscriber=k;let Z,Q=this;(0,c.m)(V)?Z=V:V&&(Z=V.next,L=V.error,O=V.complete,V!==ne.c&&(Q=Object.create(V),(0,c.m)(Q.unsubscribe)&&this.add(Q.unsubscribe.bind(Q)),Q.unsubscribe=this.unsubscribe.bind(this))),this._context=Q,this._next=Z,this._error=L,this._complete=O}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;se.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:L}=se.v;if(this._error)L&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(V.syncErrorThrowable)L?(V.syncErrorValue=k,V.syncErrorThrown=!0):(0,X.z)(k),this.unsubscribe();else{if(this.unsubscribe(),L)throw k;(0,X.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const V=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,V){try{k.call(this._context,V)}catch(L){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw L;(0,X.z)(L)}}__tryOrSetError(k,V,L){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,L)}catch(O){return se.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=O,k.syncErrorThrown=!0,!0):((0,X.z)(O),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Ve,te,P)=>{"use strict";P.d(te,{w:()=>X});var c=P(9796),ne=P(1555),q=P(9105);const se=(()=>{function W(j){return Error.call(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((k,V)=>`${V+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j,this}return W.prototype=Object.create(Error.prototype),W})();class X{constructor(j){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,j&&(this._ctorUnsubscribe=!0,this._unsubscribe=j)}unsubscribe(){let j;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:V,_unsubscribe:L,_subscriptions:O}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof X)k.remove(this);else if(null!==k)for(let Z=0;Z<k.length;++Z)k[Z].remove(this);if((0,q.m)(L)){V&&(this._unsubscribe=void 0);try{L.call(this)}catch(Z){j=Z instanceof se?ue(Z.errors):[Z]}}if((0,c.k)(O)){let Z=-1,Q=O.length;for(;++Z<Q;){const ee=O[Z];if((0,ne.K)(ee))try{ee.unsubscribe()}catch(re){j=j||[],re instanceof se?j=j.concat(ue(re.errors)):j.push(re)}}}if(j)throw new se(j)}add(j){let k=j;if(!j)return X.EMPTY;switch(typeof j){case"function":k=new X(j);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof X)){const O=k;k=new X,k._subscriptions=[O]}break;default:throw new Error("unrecognized teardown "+j+" added to Subscription.")}let{_parentOrParents:V}=k;if(null===V)k._parentOrParents=this;else if(V instanceof X){if(V===this)return k;k._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return k;V.push(this)}const L=this._subscriptions;return null===L?this._subscriptions=[k]:L.push(k),k}remove(j){const k=this._subscriptions;if(k){const V=k.indexOf(j);-1!==V&&k.splice(V,1)}}}var W;function ue(W){return W.reduce((j,k)=>j.concat(k instanceof se?k.errors:k),[])}X.EMPTY=((W=new X).closed=!0,W)},2494:(Ve,te,P)=>{"use strict";P.d(te,{v:()=>ne});let c=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(q){if(q){const J=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+J.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=q},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(Ve,te,P)=>{"use strict";P.d(te,{IY:()=>J,Ds:()=>X,ft:()=>W});var c=P(7393),ne=P(7574),q=P(7444);class J extends c.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends c.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function W(j,k){if(k.closed)return;if(j instanceof ne.y)return j.subscribe(k);let V;try{V=(0,q.s)(j)(k)}catch(L){k.error(L)}return V}},2441:(Ve,te,P)=>{"use strict";P.d(te,{c:()=>se,N:()=>X});var c=P(9765),ne=P(7574),q=P(5319),J=P(1307);class se extends ne.y{constructor(V,L){super(),this.source=V,this.subjectFactory=L,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new q.w,V.add(this.source.subscribe(new ue(this.getSubject(),this))),V.closed&&(this._connection=null,V=q.w.EMPTY)),V}refCount(){return(0,J.x)()(this)}}const X=(()=>{const k=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class ue extends c.Yc{constructor(V,L){super(V),this.connectable=L}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const L=V._connection;V._refCount=0,V._subject=null,V._connection=null,L&&L.unsubscribe()}}}},9193:(Ve,te,P)=>{"use strict";P.d(te,{E:()=>ne,c:()=>q});var c=P(7574);const ne=new c.y(se=>se.complete());function q(se){return se?function(se){return new c.y(X=>se.schedule(()=>X.complete()))}(se):ne}},4402:(Ve,te,P)=>{"use strict";P.d(te,{D:()=>Q});var c=P(7574),ne=P(7444),q=P(5319),J=P(6554),ue=P(4087),W=P(377),V=P(4072),L=P(9489);function Q(ee,re){return re?function(ee,re){if(null!=ee){if(function(ee){return ee&&"function"==typeof ee[J.L]}(ee))return function(ee,re){return new c.y(Se=>{const Te=new q.w;return Te.add(re.schedule(()=>{const Re=ee[J.L]();Te.add(Re.subscribe({next(Me){Te.add(re.schedule(()=>Se.next(Me)))},error(Me){Te.add(re.schedule(()=>Se.error(Me)))},complete(){Te.add(re.schedule(()=>Se.complete()))}}))})),Te})}(ee,re);if((0,V.t)(ee))return function(ee,re){return new c.y(Se=>{const Te=new q.w;return Te.add(re.schedule(()=>ee.then(Re=>{Te.add(re.schedule(()=>{Se.next(Re),Te.add(re.schedule(()=>Se.complete()))}))},Re=>{Te.add(re.schedule(()=>Se.error(Re)))}))),Te})}(ee,re);if((0,L.z)(ee))return(0,ue.r)(ee,re);if(function(ee){return ee&&"function"==typeof ee[W.hZ]}(ee)||"string"==typeof ee)return function(ee,re){if(!ee)throw new Error("Iterable cannot be null");return new c.y(Se=>{const Te=new q.w;let Re;return Te.add(()=>{Re&&"function"==typeof Re.return&&Re.return()}),Te.add(re.schedule(()=>{Re=ee[W.hZ](),Te.add(re.schedule(function(){if(Se.closed)return;let Me,Ue;try{const Le=Re.next();Me=Le.value,Ue=Le.done}catch(Le){return void Se.error(Le)}Ue?Se.complete():(Se.next(Me),this.schedule())}))})),Te})}(ee,re)}throw new TypeError((null!==ee&&typeof ee||ee)+" is not observable")}(ee,re):ee instanceof c.y?ee:new c.y((0,ne.s)(ee))}},6693:(Ve,te,P)=>{"use strict";P.d(te,{n:()=>J});var c=P(7574),ne=P(5015),q=P(4087);function J(se,X){return X?(0,q.r)(se,X):new c.y((0,ne.V)(se))}},6682:(Ve,te,P)=>{"use strict";P.d(te,{T:()=>se});var c=P(7574),ne=P(4869),q=P(3282),J=P(6693);function se(...X){let ue=Number.POSITIVE_INFINITY,W=null,j=X[X.length-1];return(0,ne.K)(j)?(W=X.pop(),X.length>1&&"number"==typeof X[X.length-1]&&(ue=X.pop())):"number"==typeof j&&(ue=X.pop()),null===W&&1===X.length&&X[0]instanceof c.y?X[0]:(0,q.J)(ue)((0,J.n)(X,W))}},5917:(Ve,te,P)=>{"use strict";P.d(te,{of:()=>J});var c=P(4869),ne=P(6693),q=P(4087);function J(...se){let X=se[se.length-1];return(0,c.K)(X)?(se.pop(),(0,q.r)(se,X)):(0,ne.n)(se)}},8002:(Ve,te,P)=>{"use strict";P.d(te,{U:()=>ne});var c=P(7393);function ne(se,X){return function(W){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new q(se,X))}}class q{constructor(X,ue){this.project=X,this.thisArg=ue}call(X,ue){return ue.subscribe(new J(X,this.project,this.thisArg))}}class J extends c.L{constructor(X,ue,W){super(X),this.project=ue,this.count=0,this.thisArg=W||this}_next(X){let ue;try{ue=this.project.call(this.thisArg,X,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(ue)}}},3282:(Ve,te,P)=>{"use strict";P.d(te,{J:()=>q});var c=P(9773),ne=P(4487);function q(J=Number.POSITIVE_INFINITY){return(0,c.zg)(ne.y,J)}},9773:(Ve,te,P)=>{"use strict";P.d(te,{zg:()=>J});var c=P(8002),ne=P(4402),q=P(5345);function J(W,j,k=Number.POSITIVE_INFINITY){return"function"==typeof j?V=>V.pipe(J((L,O)=>(0,ne.D)(W(L,O)).pipe((0,c.U)((Z,Q)=>j(L,Z,O,Q))),k)):("number"==typeof j&&(k=j),V=>V.lift(new se(W,k)))}class se{constructor(j,k=Number.POSITIVE_INFINITY){this.project=j,this.concurrent=k}call(j,k){return k.subscribe(new X(j,this.project,this.concurrent))}}class X extends q.Ds{constructor(j,k,V=Number.POSITIVE_INFINITY){super(j),this.project=k,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(j){this.active<this.concurrent?this._tryNext(j):this.buffer.push(j)}_tryNext(j){let k;const V=this.index++;try{k=this.project(j,V)}catch(L){return void this.destination.error(L)}this.active++,this._innerSub(k)}_innerSub(j){const k=new q.IY(this),V=this.destination;V.add(k);const L=(0,q.ft)(j,k);L!==k&&V.add(L)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(j){this.destination.next(j)}notifyComplete(){const j=this.buffer;this.active--,j.length>0?this._next(j.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ve,te,P)=>{"use strict";P.d(te,{ht:()=>V,QV:()=>j});var c=P(7393),ne=P(9193),q=P(5917),J=P(7574);class W{constructor(Z,Q,ee){this.kind=Z,this.value=Q,this.error=ee,this.hasValue="N"===Z}observe(Z){switch(this.kind){case"N":return Z.next&&Z.next(this.value);case"E":return Z.error&&Z.error(this.error);case"C":return Z.complete&&Z.complete()}}do(Z,Q,ee){switch(this.kind){case"N":return Z&&Z(this.value);case"E":return Q&&Q(this.error);case"C":return ee&&ee()}}accept(Z,Q,ee){return Z&&"function"==typeof Z.next?this.observe(Z):this.do(Z,Q,ee)}toObservable(){switch(this.kind){case"N":return(0,q.of)(this.value);case"E":return O=this.error,new J.y(Q=>Q.error(O));case"C":return(0,ne.c)()}var O;throw new Error("unexpected notification kind value")}static createNext(Z){return void 0!==Z?new W("N",Z):W.undefinedValueNotification}static createError(Z){return new W("E",void 0,Z)}static createComplete(){return W.completeNotification}}function j(O,Z=0){return function(ee){return ee.lift(new k(O,Z))}}W.completeNotification=new W("C"),W.undefinedValueNotification=new W("N",void 0);class k{constructor(Z,Q=0){this.scheduler=Z,this.delay=Q}call(Z,Q){return Q.subscribe(new V(Z,this.scheduler,this.delay))}}class V extends c.L{constructor(Z,Q,ee=0){super(Z),this.scheduler=Q,this.delay=ee}static dispatch(Z){const{notification:Q,destination:ee}=Z;Q.observe(ee),this.unsubscribe()}scheduleMessage(Z){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new L(Z,this.destination)))}_next(Z){this.scheduleMessage(W.createNext(Z))}_error(Z){this.scheduleMessage(W.createError(Z)),this.unsubscribe()}_complete(){this.scheduleMessage(W.createComplete()),this.unsubscribe()}}class L{constructor(Z,Q){this.notification=Z,this.destination=Q}}},1307:(Ve,te,P)=>{"use strict";P.d(te,{x:()=>ne});var c=P(7393);function ne(){return function(X){return X.lift(new q(X))}}class q{constructor(X){this.connectable=X}call(X,ue){const{connectable:W}=this;W._refCount++;const j=new J(X,W),k=ue.subscribe(j);return j.closed||(j.connection=W.connect()),k}}class J extends c.L{constructor(X,ue){super(X),this.connectable=ue}_unsubscribe(){const{connectable:X}=this;if(!X)return void(this.connection=null);this.connectable=null;const ue=X._refCount;if(ue<=0)return void(this.connection=null);if(X._refCount=ue-1,ue>1)return void(this.connection=null);const{connection:W}=this,j=X._connection;this.connection=null,j&&(!W||j===W)&&j.unsubscribe()}}},3101:(Ve,te,P)=>{"use strict";P.d(te,{R:()=>re});var c=P(7574);let ne=1;const q=Promise.resolve(),J={};function se(Te){return Te in J&&(delete J[Te],!0)}const X={setImmediate(Te){const Re=ne++;return J[Re]=!0,q.then(()=>se(Re)&&Te()),Re},clearImmediate(Te){se(Te)}};var W=P(6465),k=P(6102);const O=new class extends k.v{flush(Re){this.active=!0,this.scheduled=void 0;const{actions:Me}=this;let Ue,Le=-1,ct=Me.length;Re=Re||Me.shift();do{if(Ue=Re.execute(Re.state,Re.delay))break}while(++Le<ct&&(Re=Me.shift()));if(this.active=!1,Ue){for(;++Le<ct&&(Re=Me.shift());)Re.unsubscribe();throw Ue}}}(class extends W.o{constructor(Re,Me){super(Re,Me),this.scheduler=Re,this.work=Me}requestAsyncId(Re,Me,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(Re,Me,Ue):(Re.actions.push(this),Re.scheduled||(Re.scheduled=X.setImmediate(Re.flush.bind(Re,null))))}recycleAsyncId(Re,Me,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(Re,Me,Ue);0===Re.actions.length&&(X.clearImmediate(Me),Re.scheduled=void 0)}});var Z=P(9796);class ee extends c.y{constructor(Re,Me=0,Ue=O){var Te;super(),this.source=Re,this.delayTime=Me,this.scheduler=Ue,(!(!(0,Z.k)(Te=Me)&&Te-parseFloat(Te)+1>=0)||Me<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=O)}static create(Re,Me=0,Ue=O){return new ee(Re,Me,Ue)}static dispatch(Re){const{source:Me,subscriber:Ue}=Re;return this.add(Me.subscribe(Ue))}_subscribe(Re){return this.scheduler.schedule(ee.dispatch,this.delayTime,{source:this.source,subscriber:Re})}}function re(Te,Re=0){return function(Ue){return Ue.lift(new Se(Te,Re))}}class Se{constructor(Re,Me){this.scheduler=Re,this.delay=Me}call(Re,Me){return new ee(Me,this.delay,this.scheduler).subscribe(Re)}}},3342:(Ve,te,P)=>{"use strict";P.d(te,{b:()=>J});var c=P(7393);function ne(){}var q=P(9105);function J(ue,W,j){return function(V){return V.lift(new se(ue,W,j))}}class se{constructor(W,j,k){this.nextOrObserver=W,this.error=j,this.complete=k}call(W,j){return j.subscribe(new X(W,this.nextOrObserver,this.error,this.complete))}}class X extends c.L{constructor(W,j,k,V){super(W),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=k||ne,this._tapComplete=V||ne,(0,q.m)(j)?(this._context=this,this._tapNext=j):j&&(this._context=j,this._tapNext=j.next||ne,this._tapError=j.error||ne,this._tapComplete=j.complete||ne)}_next(W){try{this._tapNext.call(this._context,W)}catch(j){return void this.destination.error(j)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(j){return void this.destination.error(j)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4087:(Ve,te,P)=>{"use strict";P.d(te,{r:()=>q});var c=P(7574),ne=P(5319);function q(J,se){return new c.y(X=>{const ue=new ne.w;let W=0;return ue.add(se.schedule(function(){W!==J.length?(X.next(J[W++]),X.closed||ue.add(this.schedule())):X.complete()})),ue})}},6465:(Ve,te,P)=>{"use strict";P.d(te,{o:()=>q});var c=P(5319);class ne extends c.w{constructor(se,X){super()}schedule(se,X=0){return this}}class q extends ne{constructor(se,X){super(se,X),this.scheduler=se,this.work=X,this.pending=!1}schedule(se,X=0){if(this.closed)return this;this.state=se;const ue=this.id,W=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(W,ue,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(W,this.id,X),this}requestAsyncId(se,X,ue=0){return setInterval(se.flush.bind(se,this),ue)}recycleAsyncId(se,X,ue=0){if(null!==ue&&this.delay===ue&&!1===this.pending)return X;clearInterval(X)}execute(se,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(se,X);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,X){let W,ue=!1;try{this.work(se)}catch(j){ue=!0,W=!!j&&j||new Error(j)}if(ue)return this.unsubscribe(),W}_unsubscribe(){const se=this.id,X=this.scheduler,ue=X.actions,W=ue.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&ue.splice(W,1),null!=se&&(this.id=this.recycleAsyncId(X,se,null)),this.delay=null}}},6102:(Ve,te,P)=>{"use strict";P.d(te,{v:()=>ne});let c=(()=>{class q{constructor(se,X=q.now){this.SchedulerAction=se,this.now=X}schedule(se,X=0,ue){return new this.SchedulerAction(this,se).schedule(ue,X)}}return q.now=()=>Date.now(),q})();class ne extends c{constructor(J,se=c.now){super(J,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(J,se=0,X){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(J,se,X):super.schedule(J,se,X)}flush(J){const{actions:se}=this;if(this.active)return void se.push(J);let X;this.active=!0;do{if(X=J.execute(J.state,J.delay))break}while(J=se.shift());if(this.active=!1,X){for(;J=se.shift();)J.unsubscribe();throw X}}}},3637:(Ve,te,P)=>{"use strict";P.d(te,{z:()=>q});var c=P(6465);const q=new(P(6102).v)(c.o)},7771:(Ve,te,P)=>{"use strict";P.d(te,{c:()=>X,N:()=>se});var c=P(6465),q=P(6102);const se=new class extends q.v{}(class extends c.o{constructor(W,j){super(W,j),this.scheduler=W,this.work=j}schedule(W,j=0){return j>0?super.schedule(W,j):(this.delay=j,this.state=W,this.scheduler.flush(this),this)}execute(W,j){return j>0||this.closed?super.execute(W,j):this._execute(W,j)}requestAsyncId(W,j,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(W,j,k):W.flush(this)}}),X=se},377:(Ve,te,P)=>{"use strict";P.d(te,{hZ:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ve,te,P)=>{"use strict";P.d(te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ve,te,P)=>{"use strict";P.d(te,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ve,te,P)=>{"use strict";P.d(te,{N:()=>ne});const ne=(()=>{function q(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return q.prototype=Object.create(Error.prototype),q})()},4449:(Ve,te,P)=>{"use strict";function c(ne){setTimeout(()=>{throw ne},0)}P.d(te,{z:()=>c})},4487:(Ve,te,P)=>{"use strict";function c(ne){return ne}P.d(te,{y:()=>c})},9796:(Ve,te,P)=>{"use strict";P.d(te,{k:()=>c});const c=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9489:(Ve,te,P)=>{"use strict";P.d(te,{z:()=>c});const c=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9105:(Ve,te,P)=>{"use strict";function c(ne){return"function"==typeof ne}P.d(te,{m:()=>c})},1555:(Ve,te,P)=>{"use strict";function c(ne){return null!==ne&&"object"==typeof ne}P.d(te,{K:()=>c})},4072:(Ve,te,P)=>{"use strict";function c(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}P.d(te,{t:()=>c})},4869:(Ve,te,P)=>{"use strict";function c(ne){return ne&&"function"==typeof ne.schedule}P.d(te,{K:()=>c})},7444:(Ve,te,P)=>{"use strict";P.d(te,{s:()=>V});var c=P(5015),ne=P(4449),J=P(377),X=P(6554),W=P(9489),j=P(4072),k=P(1555);const V=L=>{if(L&&"function"==typeof L[X.L])return(L=>O=>{const Z=L[X.L]();if("function"!=typeof Z.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Z.subscribe(O)})(L);if((0,W.z)(L))return(0,c.V)(L);if((0,j.t)(L))return(L=>O=>(L.then(Z=>{O.closed||(O.next(Z),O.complete())},Z=>O.error(Z)).then(null,ne.z),O))(L);if(L&&"function"==typeof L[J.hZ])return(L=>O=>{const Z=L[J.hZ]();for(;;){let Q;try{Q=Z.next()}catch(ee){return O.error(ee),O}if(Q.done){O.complete();break}if(O.next(Q.value),O.closed)break}return"function"==typeof Z.return&&O.add(()=>{Z.return&&Z.return()}),O})(L);{const Z=`You provided ${(0,k.K)(L)?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Z)}}},5015:(Ve,te,P)=>{"use strict";P.d(te,{V:()=>c});const c=ne=>q=>{for(let J=0,se=ne.length;J<se&&!q.closed;J++)q.next(ne[J]);q.complete()}},3576:(Ve,te,P)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var c=P(5730),ne=P(7104),q=P(6232),J=P(3915),se=P(8273),X=function(){function W(j){this._isScalar=!1,j&&(this._subscribe=j)}return W.prototype.lift=function(j){var k=new W;return k.source=this,k.operator=j,k},W.prototype.subscribe=function(j,k,V){var L=this.operator,O=ne.toSubscriber(j,k,V);if(O.add(L?L.call(O,this.source):this.source||se.config.useDeprecatedSynchronousErrorHandling&&!O.syncErrorThrowable?this._subscribe(O):this._trySubscribe(O)),se.config.useDeprecatedSynchronousErrorHandling&&O.syncErrorThrowable&&(O.syncErrorThrowable=!1,O.syncErrorThrown))throw O.syncErrorValue;return O},W.prototype._trySubscribe=function(j){try{return this._subscribe(j)}catch(k){se.config.useDeprecatedSynchronousErrorHandling&&(j.syncErrorThrown=!0,j.syncErrorValue=k),c.canReportError(j)?j.error(k):console.warn(k)}},W.prototype.forEach=function(j,k){var V=this;return new(k=ue(k))(function(L,O){var Z;Z=V.subscribe(function(Q){try{j(Q)}catch(ee){O(ee),Z&&Z.unsubscribe()}},O,L)})},W.prototype._subscribe=function(j){var k=this.source;return k&&k.subscribe(j)},W.prototype[q.observable]=function(){return this},W.prototype.pipe=function(){for(var j=[],k=0;k<arguments.length;k++)j[k]=arguments[k];return 0===j.length?this:J.pipeFromArray(j)(this)},W.prototype.toPromise=function(j){var k=this;return new(j=ue(j))(function(V,L){var O;k.subscribe(function(Z){return O=Z},function(Z){return L(Z)},function(){return V(O)})})},W.create=function(j){return new W(j)},W}();function ue(W){if(W||(W=se.config.Promise||Promise),!W)throw new Error("no Promise impl found");return W}te.Observable=X},6011:(Ve,te,P)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var c=P(8273),ne=P(2434);te.empty={closed:!0,next:function(q){},error:function(q){if(c.config.useDeprecatedSynchronousErrorHandling)throw q;ne.hostReportError(q)},complete:function(){}}},3409:function(Ve,te,P){"use strict";var V,c=this&&this.__extends||(V=function(L,O){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,Q){Z.__proto__=Q}||function(Z,Q){for(var ee in Q)Q.hasOwnProperty(ee)&&(Z[ee]=Q[ee])})(L,O)},function(L,O){function Z(){this.constructor=L}V(L,O),L.prototype=null===O?Object.create(O):(Z.prototype=O.prototype,new Z)});Object.defineProperty(te,"__esModule",{value:!0});var ne=P(3576),q=P(7241),J=P(3984),se=P(5639),X=P(5298),ue=P(1476),W=function(V){function L(O){var Z=V.call(this,O)||this;return Z.destination=O,Z}return c(L,V),L}(q.Subscriber);te.SubjectSubscriber=W;var j=function(V){function L(){var O=V.call(this)||this;return O.observers=[],O.closed=!1,O.isStopped=!1,O.hasError=!1,O.thrownError=null,O}return c(L,V),L.prototype[ue.rxSubscriber]=function(){return new W(this)},L.prototype.lift=function(O){var Z=new k(this,this);return Z.operator=O,Z},L.prototype.next=function(O){if(this.closed)throw new se.ObjectUnsubscribedError;if(!this.isStopped)for(var Z=this.observers,Q=Z.length,ee=Z.slice(),re=0;re<Q;re++)ee[re].next(O)},L.prototype.error=function(O){if(this.closed)throw new se.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=O,this.isStopped=!0;for(var Z=this.observers,Q=Z.length,ee=Z.slice(),re=0;re<Q;re++)ee[re].error(O);this.observers.length=0},L.prototype.complete=function(){if(this.closed)throw new se.ObjectUnsubscribedError;this.isStopped=!0;for(var O=this.observers,Z=O.length,Q=O.slice(),ee=0;ee<Z;ee++)Q[ee].complete();this.observers.length=0},L.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},L.prototype._trySubscribe=function(O){if(this.closed)throw new se.ObjectUnsubscribedError;return V.prototype._trySubscribe.call(this,O)},L.prototype._subscribe=function(O){if(this.closed)throw new se.ObjectUnsubscribedError;return this.hasError?(O.error(this.thrownError),J.Subscription.EMPTY):this.isStopped?(O.complete(),J.Subscription.EMPTY):(this.observers.push(O),new X.SubjectSubscription(this,O))},L.prototype.asObservable=function(){var O=new ne.Observable;return O.source=this,O},L.create=function(O,Z){return new k(O,Z)},L}(ne.Observable);te.Subject=j;var k=function(V){function L(O,Z){var Q=V.call(this)||this;return Q.destination=O,Q.source=Z,Q}return c(L,V),L.prototype.next=function(O){var Z=this.destination;Z&&Z.next&&Z.next(O)},L.prototype.error=function(O){var Z=this.destination;Z&&Z.error&&this.destination.error(O)},L.prototype.complete=function(){var O=this.destination;O&&O.complete&&this.destination.complete()},L.prototype._subscribe=function(O){return this.source?this.source.subscribe(O):J.Subscription.EMPTY},L}(j);te.AnonymousSubject=k},5298:function(Ve,te,P){"use strict";var J,c=this&&this.__extends||(J=function(se,X){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,W){ue.__proto__=W}||function(ue,W){for(var j in W)W.hasOwnProperty(j)&&(ue[j]=W[j])})(se,X)},function(se,X){function ue(){this.constructor=se}J(se,X),se.prototype=null===X?Object.create(X):(ue.prototype=X.prototype,new ue)});Object.defineProperty(te,"__esModule",{value:!0});var q=function(J){function se(X,ue){var W=J.call(this)||this;return W.subject=X,W.subscriber=ue,W.closed=!1,W}return c(se,J),se.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var X=this.subject,ue=X.observers;if(this.subject=null,ue&&0!==ue.length&&!X.isStopped&&!X.closed){var W=ue.indexOf(this.subscriber);-1!==W&&ue.splice(W,1)}}},se}(P(3984).Subscription);te.SubjectSubscription=q},7241:function(Ve,te,P){"use strict";var k,c=this&&this.__extends||(k=function(V,L){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,Z){O.__proto__=Z}||function(O,Z){for(var Q in Z)Z.hasOwnProperty(Q)&&(O[Q]=Z[Q])})(V,L)},function(V,L){function O(){this.constructor=V}k(V,L),V.prototype=null===L?Object.create(L):(O.prototype=L.prototype,new O)});Object.defineProperty(te,"__esModule",{value:!0});var ne=P(7382),q=P(6011),J=P(3984),se=P(1476),X=P(8273),ue=P(2434),W=function(k){function V(L,O,Z){var Q=k.call(this)||this;switch(Q.syncErrorValue=null,Q.syncErrorThrown=!1,Q.syncErrorThrowable=!1,Q.isStopped=!1,arguments.length){case 0:Q.destination=q.empty;break;case 1:if(!L){Q.destination=q.empty;break}if("object"==typeof L){L instanceof V?(Q.syncErrorThrowable=L.syncErrorThrowable,Q.destination=L,L.add(Q)):(Q.syncErrorThrowable=!0,Q.destination=new j(Q,L));break}default:Q.syncErrorThrowable=!0,Q.destination=new j(Q,L,O,Z)}return Q}return c(V,k),V.prototype[se.rxSubscriber]=function(){return this},V.create=function(L,O,Z){var Q=new V(L,O,Z);return Q.syncErrorThrowable=!1,Q},V.prototype.next=function(L){this.isStopped||this._next(L)},V.prototype.error=function(L){this.isStopped||(this.isStopped=!0,this._error(L))},V.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},V.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,k.prototype.unsubscribe.call(this))},V.prototype._next=function(L){this.destination.next(L)},V.prototype._error=function(L){this.destination.error(L),this.unsubscribe()},V.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},V.prototype._unsubscribeAndRecycle=function(){var L=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this},V}(J.Subscription);te.Subscriber=W;var j=function(k){function V(L,O,Z,Q){var ee=k.call(this)||this;ee._parentSubscriber=L;var re,Se=ee;return ne.isFunction(O)?re=O:O&&(re=O.next,Z=O.error,Q=O.complete,O!==q.empty&&(Se=Object.create(O),ne.isFunction(Se.unsubscribe)&&ee.add(Se.unsubscribe.bind(Se)),Se.unsubscribe=ee.unsubscribe.bind(ee))),ee._context=Se,ee._next=re,ee._error=Z,ee._complete=Q,ee}return c(V,k),V.prototype.next=function(L){if(!this.isStopped&&this._next){var O=this._parentSubscriber;X.config.useDeprecatedSynchronousErrorHandling&&O.syncErrorThrowable?this.__tryOrSetError(O,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}},V.prototype.error=function(L){if(!this.isStopped){var O=this._parentSubscriber,Z=X.config.useDeprecatedSynchronousErrorHandling;if(this._error)Z&&O.syncErrorThrowable?(this.__tryOrSetError(O,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(O.syncErrorThrowable)Z?(O.syncErrorValue=L,O.syncErrorThrown=!0):ue.hostReportError(L),this.unsubscribe();else{if(this.unsubscribe(),Z)throw L;ue.hostReportError(L)}}},V.prototype.complete=function(){var L=this;if(!this.isStopped){var O=this._parentSubscriber;if(this._complete){var Z=function(){return L._complete.call(L._context)};X.config.useDeprecatedSynchronousErrorHandling&&O.syncErrorThrowable?(this.__tryOrSetError(O,Z),this.unsubscribe()):(this.__tryOrUnsub(Z),this.unsubscribe())}else this.unsubscribe()}},V.prototype.__tryOrUnsub=function(L,O){try{L.call(this._context,O)}catch(Z){if(this.unsubscribe(),X.config.useDeprecatedSynchronousErrorHandling)throw Z;ue.hostReportError(Z)}},V.prototype.__tryOrSetError=function(L,O,Z){if(!X.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{O.call(this._context,Z)}catch(Q){return X.config.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=Q,L.syncErrorThrown=!0,!0):(ue.hostReportError(Q),!0)}return!1},V.prototype._unsubscribe=function(){var L=this._parentSubscriber;this._context=null,this._parentSubscriber=null,L.unsubscribe()},V}(W);te.SafeSubscriber=j},3984:(Ve,te,P)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var c=P(993),ne=P(4720),q=P(7382),J=P(8574),se=function(){function ue(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}return ue.prototype.unsubscribe=function(){var W;if(!this.closed){var j=this,k=j._parentOrParents,V=j._ctorUnsubscribe,L=j._unsubscribe,O=j._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ue)k.remove(this);else if(null!==k)for(var Z=0;Z<k.length;++Z)k[Z].remove(this);if(q.isFunction(L)){V&&(this._unsubscribe=void 0);try{L.call(this)}catch(Se){W=Se instanceof J.UnsubscriptionError?X(Se.errors):[Se]}}if(c.isArray(O)){Z=-1;for(var ee=O.length;++Z<ee;){var re=O[Z];if(ne.isObject(re))try{re.unsubscribe()}catch(Te){W=W||[],Te instanceof J.UnsubscriptionError?W=W.concat(X(Te.errors)):W.push(Te)}}}if(W)throw new J.UnsubscriptionError(W)}},ue.prototype.add=function(W){var j=W;if(!W)return ue.EMPTY;switch(typeof W){case"function":j=new ue(W);case"object":if(j===this||j.closed||"function"!=typeof j.unsubscribe)return j;if(this.closed)return j.unsubscribe(),j;if(!(j instanceof ue)){var k=j;(j=new ue)._subscriptions=[k]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}var V=j._parentOrParents;if(null===V)j._parentOrParents=this;else if(V instanceof ue){if(V===this)return j;j._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return j;V.push(this)}var L=this._subscriptions;return null===L?this._subscriptions=[j]:L.push(j),j},ue.prototype.remove=function(W){var j=this._subscriptions;if(j){var k=j.indexOf(W);-1!==k&&j.splice(k,1)}},ue.EMPTY=((W=new ue).closed=!0,W),ue;var W}();function X(ue){return ue.reduce(function(W,j){return W.concat(j instanceof J.UnsubscriptionError?j.errors:j)},[])}te.Subscription=se},8273:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var P=!1;te.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(c){if(c){var ne=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ne.stack)}else P&&console.log("RxJS: Back to a better error behavior. Thank you. <3");P=c},get useDeprecatedSynchronousErrorHandling(){return P}}},6232:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},1476:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),te.$$rxSubscriber=te.rxSubscriber},5639:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var P=function(){function c(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return c.prototype=Object.create(Error.prototype),c}();te.ObjectUnsubscribedError=P},8574:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var P=function(){function c(ne){return Error.call(this),this.message=ne?ne.length+" errors occurred during unsubscription:\n"+ne.map(function(q,J){return J+1+") "+q.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=ne,this}return c.prototype=Object.create(Error.prototype),c}();te.UnsubscriptionError=P},5730:(Ve,te,P)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var c=P(7241);te.canReportError=function(q){for(;q;){var X=q.destination;if(q.closed||q.isStopped)return!1;q=X&&X instanceof c.Subscriber?X:null}return!0}},2434:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.hostReportError=function(c){setTimeout(function(){throw c},0)}},2516:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.identity=function(c){return c}},993:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.isArray=Array.isArray||function(P){return P&&"number"==typeof P.length}},7382:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.isFunction=function(c){return"function"==typeof c}},4720:(Ve,te)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.isObject=function(c){return null!==c&&"object"==typeof c}},3915:(Ve,te,P)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var c=P(2516);function q(J){return 0===J.length?c.identity:1===J.length?J[0]:function(X){return J.reduce(function(ue,W){return W(ue)},X)}}te.pipe=function(){for(var J=[],se=0;se<arguments.length;se++)J[se]=arguments[se];return q(J)},te.pipeFromArray=q},7104:(Ve,te,P)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var c=P(7241),ne=P(1476),q=P(6011);te.toSubscriber=function(se,X,ue){if(se){if(se instanceof c.Subscriber)return se;if(se[ne.rxSubscriber])return se[ne.rxSubscriber]()}return se||X||ue?new c.Subscriber(se,X,ue):new c.Subscriber(q.empty)}},4369:(Ve,te,P)=>{"use strict";var c=P(3018);let ne=null;function q(){return ne}const ue=new c.OlP("DocumentToken");let W=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,c.Yz7)({factory:j,token:i,providedIn:"platform"}),i})();function j(){return(0,c.LFG)(V)}const k=new c.OlP("Location Initialized");let V=(()=>{class i extends W{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(r){const a=q().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=q().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,l){L()?this._history.pushState(r,a,l):this.location.hash=l}replaceState(r,a,l){L()?this._history.replaceState(r,a,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(ue))},i.\u0275prov=(0,c.Yz7)({factory:O,token:i,providedIn:"platform"}),i})();function L(){return!!window.history.pushState}function O(){return new V((0,c.LFG)(ue))}function Z(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function Q(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function ee(i){return i&&"?"!==i[0]?"?"+i:i}let re=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,c.Yz7)({factory:Se,token:i,providedIn:"root"}),i})();function Se(i){const n=(0,c.LFG)(ue).location;return new Re((0,c.LFG)(W),n&&n.origin||"")}const Te=new c.OlP("appBaseHref");let Re=(()=>{class i extends re{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Z(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+ee(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${a}${l}`:a}pushState(r,a,l,f){const m=this.prepareExternalUrl(l+ee(f));this._platformLocation.pushState(r,a,m)}replaceState(r,a,l,f){const m=this.prepareExternalUrl(l+ee(f));this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(W),c.LFG(Te,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),Me=(()=>{class i extends re{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=Z(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,l,f){let m=this.prepareExternalUrl(l+ee(f));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,a,m)}replaceState(r,a,l,f){let m=this.prepareExternalUrl(l+ee(f));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(W),c.LFG(Te,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),Ue=(()=>{class i{constructor(r,a){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=Q(zt(l)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+ee(a))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,zt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",l=null){this._platformStrategy.pushState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ee(a)),l)}replaceState(r,a="",l=null){this._platformStrategy.replaceState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ee(a)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformStrategy).historyGo)||void 0===l||l.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(l=>l(r,a))}subscribe(r,a,l){return this._subject.subscribe({next:r,error:a,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(re),c.LFG(W))},i.normalizeQueryParams=ee,i.joinWithSlash=Z,i.stripTrailingSlash=Q,i.\u0275prov=(0,c.Yz7)({factory:Le,token:i,providedIn:"root"}),i})();function Le(){return new Ue((0,c.LFG)(re),(0,c.LFG)(W))}function zt(i){return i.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))();const Dr=c.kL8;class fr{}let So=(()=>{class i extends fr{constructor(r){super(),this.locale=r}getPluralCategory(r,a){switch(Dr(a||this.locale)(r)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(c.soG))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();function ft(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const a=r.indexOf("="),[l,f]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(l.trim()===n)return decodeURIComponent(f)}return null}class Lh{constructor(n,r,a,l){this.$implicit=n,this.ngForOf=r,this.index=a,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qr=(()=>{class i{constructor(r,a,l){this._viewContainer=r,this._template=a,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=[];r.forEachOperation((l,f,m)=>{if(null==l.previousIndex){const w=this._viewContainer.createEmbeddedView(this._template,new Lh(null,this._ngForOf,-1,-1),null===m?void 0:m),T=new Un(l,w);a.push(T)}else if(null==m)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const w=this._viewContainer.get(f);this._viewContainer.move(w,m);const T=new Un(l,w);a.push(T)}});for(let l=0;l<a.length;l++)this._perViewChange(a[l].view,a[l].record);for(let l=0,f=this._viewContainer.length;l<f;l++){const m=this._viewContainer.get(l);m.context.index=l,m.context.count=f,m.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,a){r.context.$implicit=a.item}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Un{constructor(n,r){this.record=n,this.view=r}}let js=(()=>{class i{constructor(r,a){this._viewContainer=r,this._context=new Hr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Ht("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Ht("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(c.s_b),c.Y36(c.Rgc))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Hr{constructor(){this.$implicit=null,this.ngIf=null}}function Ht(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,c.AaK)(n)}'.`)}let F0=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[{provide:fr,useClass:So}]}),i})();function Ou(i){return"server"===i}let Mu=(()=>{class i{}return i.\u0275prov=(0,c.Yz7)({token:i,providedIn:"root",factory:()=>new Nc((0,c.LFG)(ue),window)}),i})();class Nc{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const a=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=a.currentNode;for(;l;){const f=l.shadowRoot;if(f){const m=f.getElementById(n)||f.querySelector(`[name="${n}"]`);if(m)return m}l=a.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),a=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(a-f[0],l-f[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Pu(this.window.history)||Pu(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Pu(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class ku{}class Oo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Oo,ne||(ne=i)}onAndCancel(n,r,a){return n.addEventListener(r,a,!1),()=>{n.removeEventListener(r,a,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(Bs=Bs||document.querySelector("base"),Bs?Bs.getAttribute("href"):null);return null==r?null:function(i){xc=xc||document.createElement("a"),xc.setAttribute("href",i);const n=xc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){Bs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ft(document.cookie,n)}}let xc,Bs=null;const Cg=new c.OlP("TRANSITION_ID"),Mc=[{provide:c.ip1,useFactory:function(i,n,r){return()=>{r.get(c.CZH).donePromise.then(()=>{const a=q(),l=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<l.length;f++)a.remove(l[f])})}},deps:[Cg,ue,c.zs3],multi:!0}];class Xt{static init(){(0,c.VLi)(new Xt)}addToWindow(n){c.dqk.getAngularTestability=(a,l=!0)=>{const f=n.findTestabilityInTree(a,l);if(null==f)throw new Error("Could not find testability for element.");return f},c.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(a=>{const l=c.dqk.getAllAngularTestabilities();let f=l.length,m=!1;const w=function(T){m=m||T,f--,0==f&&a(m)};l.forEach(function(T){T.whenStable(w)})})}findTestabilityInTree(n,r,a){if(null==r)return null;const l=n.getTestability(r);return null!=l?l:a?q().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let Ig=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const Mo=new c.OlP("EventManagerPlugins");let Bu=(()=>{class i{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,l){return this._findPluginFor(a).addEventListener(r,a,l)}addGlobalEventListener(r,a,l){return this._findPluginFor(a).addGlobalEventListener(r,a,l)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const l=this._plugins;for(let f=0;f<l.length;f++){const m=l[f];if(m.supports(r))return this._eventNameToPlugin.set(r,m),m}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(Mo),c.LFG(c.R0b))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();class qu{constructor(n){this._doc=n}addGlobalEventListener(n,r,a){const l=q().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,a)}}let Kh=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),a.add(l))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),Po=(()=>{class i extends Kh{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,l){r.forEach(f=>{const m=this._doc.createElement("style");m.textContent=f,l.push(a.appendChild(m))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(Ag),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,l)=>{this._addStylesToHost(r,l,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Ag))}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(ue))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();function Ag(i){q().remove(i)}const Ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=/%COMP%/g;function $s(i,n,r){for(let a=0;a<n.length;a++){let l=n[a];Array.isArray(l)?$s(i,l,r):(l=l.replace(At,i),r.push(l))}return r}function T_(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let ba=(()=>{class i{constructor(r,a,l){this.eventManager=r,this.sharedStylesHost=a,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Gs(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case c.ifc.Emulated:{let l=this.rendererByCompId.get(a.id);return l||(l=new zs(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,l)),l.applyToHost(r),l}case 1:case c.ifc.ShadowDom:return new fs(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const l=$s(a.id,a.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(Bu),c.LFG(Po),c.LFG(c.AFp))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();class Gs{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Ce[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,a){n&&n.insertBefore(r,a)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error(`The selector "${n}" did not match any elements`);return r||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,a,l){if(l){r=l+":"+r;const f=Ce[l];f?n.setAttributeNS(f,r,a):n.setAttribute(r,a)}else n.setAttribute(r,a)}removeAttribute(n,r,a){if(a){const l=Ce[a];l?n.removeAttributeNS(l,r):n.removeAttribute(`${a}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,a,l){l&(c.JOm.DashCase|c.JOm.Important)?n.style.setProperty(r,a,l&c.JOm.Important?"important":""):n.style[r]=a}removeStyle(n,r,a){a&c.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,a){n[r]=a}setValue(n,r){n.nodeValue=r}listen(n,r,a){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,T_(a)):this.eventManager.addEventListener(n,r,T_(a))}}class zs extends Gs{constructor(n,r,a,l){super(n),this.component=a;const f=$s(l+"-"+a.id,a.styles,[]);r.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(At,l+"-"+a.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(At,i)}(l+"-"+a.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const a=super.createElement(n,r);return super.setAttribute(a,this.contentAttr,""),a}}class fs extends Gs{constructor(n,r,a,l){super(n),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=$s(l.id,l.styles,[]);for(let m=0;m<f.length;m++){const w=document.createElement("style");w.textContent=f[m],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,a){return super.insertBefore(this.nodeOrShadowRoot(n),r,a)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Xh=(()=>{class i extends qu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,l){return r.addEventListener(a,l,!1),()=>this.removeEventListener(r,a,l)}removeEventListener(r,a,l){return r.removeEventListener(a,l)}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(ue))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const Gu=["alt","control","meta","shift"],xg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Og={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Fo=(()=>{class i extends qu{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,a,l){const f=i.parseEventName(a),m=i.eventCallback(f.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>q().onAndCancel(r,f.domEventName,m))}static parseEventName(r){const a=r.toLowerCase().split("."),l=a.shift();if(0===a.length||"keydown"!==l&&"keyup"!==l)return null;const f=i._normalizeKey(a.pop());let m="";if(Gu.forEach(T=>{const N=a.indexOf(T);N>-1&&(a.splice(N,1),m+=T+".")}),m+=f,0!=a.length||0===f.length)return null;const w={};return w.domEventName=l,w.fullKey=m,w}static getEventFullKey(r){let a="",l=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Og.hasOwnProperty(n)&&(n=Og[n]))}return xg[n]||n}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Gu.forEach(f=>{f!=l&&Nr[f](r)&&(a+=f+".")}),a+=l,a}static eventCallback(r,a,l){return f=>{i.getEventFullKey(f)===r&&l.runGuarded(()=>a(f))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(ue))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const x_=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){Oo.makeCurrent(),Xt.init()},multi:!0},{provide:ue,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),Ws=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:Mo,useClass:Xh,multi:!0,deps:[ue,c.R0b,c.Lbi]},{provide:Mo,useClass:Fo,multi:!0,deps:[ue]},[],{provide:ba,useClass:ba,deps:[Bu,Po,c.AFp]},{provide:c.FYo,useExisting:ba},{provide:Kh,useExisting:Po},{provide:Po,useClass:Po,deps:[ue]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Bu,useClass:Bu,deps:[Mo,c.R0b]},{provide:ku,useClass:Ig,deps:[]},[]];let Ca=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:c.AFp,useValue:r.appId},{provide:Cg,useExisting:c.AFp},Mc]}}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(i,12))},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:Ws,imports:[F0,c.hGG]}),i})();"undefined"!=typeof window&&window;var an=P(4402),et=P(5917),ms=P(9765),Ys=P(7971);class Rr extends ms.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ys.N;return this._value}next(n){super.next(this._value=n)}}var Ia=P(4869),Lo=P(9796),xr=P(7393);class M_ extends xr.L{notifyNext(n,r,a,l,f){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class P_ extends xr.L{constructor(n,r,a){super(),this.parent=n,this.outerValue=r,this.outerIndex=a,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ta=P(7444),Wr=P(7574);function Fg(i,n,r,a,l=new P_(i,r,a)){if(!l.closed)return n instanceof Wr.y?n.subscribe(l):(0,Ta.s)(n)(l)}var k_=P(6693);const jc={};class Aa{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Lg(n,this.resultSelector))}}class Lg extends M_{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(jc),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let a=0;a<r;a++)this.add(Fg(this,n[a],void 0,a))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,a){const l=this.values,m=this.toRespond?l[a]===jc?--this.toRespond:this.toRespond:0;l[a]=r,0===m&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(a){return void this.destination.error(a)}this.destination.next(r)}}const Qu=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var ci=P(3282);function Ju(...i){return(0,ci.J)(1)((0,et.of)(...i))}var Wi=P(9193);function ys(i){return new Wr.y(n=>{let r;try{r=i()}catch(l){return void n.error(l)}return(r?(0,an.D)(r):(0,Wi.c)()).subscribe(n)})}var Da=P(2441),nt=P(8002),Ki=P(5345);function Zn(i,n){return"function"==typeof n?r=>r.pipe(Zn((a,l)=>(0,an.D)(i(a,l)).pipe((0,nt.U)((f,m)=>n(a,f,l,m))))):r=>r.lift(new Vo(i))}class Vo{constructor(n){this.project=n}call(n,r){return r.subscribe(new L_(n,this.project))}}class L_ extends Ki.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const a=this.index++;try{r=this.project(n,a)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const a=new Ki.IY(this),l=this.destination;l.add(a),this.innerSubscription=(0,Ki.ft)(n,a),this.innerSubscription!==a&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const Ug=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Zg(i){return n=>0===i?(0,Wi.c)():n.lift(new ff(i))}class ff{constructor(n){if(this.total=n,this.total<0)throw new Ug}call(n,r){return r.subscribe(new _n(n,this.total))}}class _n extends xr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,a=++this.count;a<=r&&(this.destination.next(n),a===r&&(this.destination.complete(),this.unsubscribe()))}}function Sa(...i){const n=i[i.length-1];return(0,Ia.K)(n)?(i.pop(),r=>Ju(i,r,n)):r=>Ju(i,r)}function Na(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new jg(i,n,r))}}class jg{constructor(n,r,a=!1){this.accumulator=n,this.seed=r,this.hasSeed=a}call(n,r){return r.subscribe(new B0(n,this.accumulator,this.seed,this.hasSeed))}}class B0 extends xr.L{constructor(n,r,a,l){super(n),this.accumulator=r,this._seed=a,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let a;try{a=this.accumulator(this.seed,n,r)}catch(l){this.destination.error(l)}this.seed=a,this.destination.next(a)}}function Pi(i,n){return function(a){return a.lift(new pf(i,n))}}class pf{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new Bg(n,this.predicate,this.thisArg))}}class Bg extends xr.L{constructor(n,r,a){super(n),this.predicate=r,this.thisArg=a,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(a){return void this.destination.error(a)}r&&this.destination.next(n)}}function Ra(i){return function(r){const a=new qg(i),l=r.lift(a);return a.caught=l}}class qg{constructor(n){this.selector=n}call(n,r){return r.subscribe(new qc(n,this.selector,this.caught))}}class qc extends Ki.Ds{constructor(n,r,a){super(n),this.selector=r,this.caught=a}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const a=new Ki.IY(this);this.add(a);const l=(0,Ki.ft)(r,a);l!==a&&this.add(l)}}}var xn=P(9773);function di(i,n){return(0,xn.zg)(i,n,1)}function Hg(i){return function(r){return 0===i?(0,Wi.c)():r.lift(new kn(i))}}class kn{constructor(n){if(this.total=n,this.total<0)throw new Ug}call(n,r){return r.subscribe(new Hc(n,this.total))}}class Hc extends xr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,a=this.total,l=this.count++;r.length<a?r.push(n):r[l%a]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const a=this.count>=this.total?this.total:this.count,l=this.ring;for(let f=0;f<a;f++){const m=r++%a;n.next(l[m])}}n.complete()}}function Uo(i=hi){return n=>n.lift(new V_(i))}class V_{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new U_(n,this.errorFactory))}}class U_ extends xr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function hi(){return new Qu}function Kr(i=null){return n=>n.lift(new $c(i))}class $c{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new _s(n,this.defaultValue))}}class _s extends xr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var vs=P(4487);function bs(i,n){const r=arguments.length>=2;return a=>a.pipe(i?Pi((l,f)=>i(l,f,a)):vs.y,Zg(1),r?Kr(n):Uo(()=>new Qu))}var Yr=P(3342),$g=P(1307),Z_=P(5319);class gr{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Xu(n,this.callback))}}class Xu extends xr.L{constructor(n,r){super(n),this.add(new Z_.w(r))}}class nr{constructor(n,r){this.id=n,this.url=r}}class zg extends nr{constructor(n,r,a="imperative",l=null){super(n,r),this.navigationTrigger=a,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qs extends nr{constructor(n,r,a){super(n,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gf extends nr{constructor(n,r,a){super(n,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class j_ extends nr{constructor(n,r,a){super(n,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class B_ extends nr{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mf extends nr{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q_ extends nr{constructor(n,r,a,l,f){super(n,r),this.urlAfterRedirects=a,this.state=l,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class el extends nr{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tl extends nr{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nl{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class H_{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zo{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yf{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zc{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wc{constructor(n,r,a){this.routerEvent=n,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vt="primary";class rl{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function il(i){return new rl(i)}const sl="ngNavigationCancelingError";function Xs(i){const n=Error("NavigationCancelingError: "+i);return n[sl]=!0,n}function $_(i,n,r){const a=r.path.split("/");if(a.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||a.length<i.length))return null;const l={};for(let f=0;f<a.length;f++){const m=a[f],w=i[f];if(m.startsWith(":"))l[m.substring(1)]=w;else if(m!==w.path)return null}return{consumed:i.slice(0,a.length),posParams:l}}function Qr(i,n){const r=i?Object.keys(i):void 0,a=n?Object.keys(n):void 0;if(!r||!a||r.length!=a.length)return!1;let l;for(let f=0;f<r.length;f++)if(l=r[f],!G_(i[l],n[l]))return!1;return!0}function G_(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),a=[...n].sort();return r.every((l,f)=>a[f]===l)}return i===n}function eo(i){return Array.prototype.concat.apply([],i)}function xa(i){return i.length>0?i[i.length-1]:null}function jn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function ki(i){return(0,c.CqO)(i)?i:(0,c.QGY)(i)?(0,an.D)(Promise.resolve(i)):(0,et.of)(i)}const Oa={exact:function Kg(i,n,r){if(!qo(i.segments,n.segments)||!ul(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const a in n.children)if(!i.children[a]||!Kg(i.children[a],n.children[a],r))return!1;return!0},subset:Kc},Jr={exact:function(i,n){return Qr(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>G_(i[r],n[r]))},ignored:()=>!0};function ol(i,n,r){return Oa[r.paths](i.root,n.root,r.matrixParams)&&Jr[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function Kc(i,n,r){return al(i,n,n.segments,r)}function al(i,n,r,a){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!qo(l,r)||n.hasChildren()||!ul(l,r,a))}if(i.segments.length===r.length){if(!qo(i.segments,r)||!ul(i.segments,r,a))return!1;for(const l in n.children)if(!i.children[l]||!Kc(i.children[l],n.children[l],a))return!1;return!0}{const l=r.slice(0,i.segments.length),f=r.slice(i.segments.length);return!!(qo(i.segments,l)&&ul(i.segments,l,a)&&i.children[vt])&&al(i.children[vt],n,f,a)}}function ul(i,n,r){return n.every((a,l)=>Jr[r](i[l].parameters,a.parameters))}class Bo{constructor(n,r,a){this.root=n,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=il(this.queryParams)),this._queryParamMap}toString(){return H0.serialize(this)}}class wt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,jn(r,(a,l)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qc(this)}}class Yi{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=il(this.parameters)),this._parameterMap}toString(){return W_(this)}}function qo(i,n){return i.length===n.length&&i.every((r,a)=>r.path===n[a].path)}class Yc{}class _f{parse(n){const r=new $o(n);return new Bo(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${cl(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const a=i[r];return Array.isArray(a)?a.map(l=>`${Es(r)}=${Es(l)}`).join("&"):`${Es(r)}=${Es(a)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const H0=new _f;function Qc(i){return i.segments.map(n=>W_(n)).join("/")}function cl(i,n){if(!i.hasChildren())return Qc(i);if(n){const r=i.children[vt]?cl(i.children[vt],!1):"",a=[];return jn(i.children,(l,f)=>{f!==vt&&a.push(`${f}:${cl(l,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function(i,n){let r=[];return jn(i.children,(a,l)=>{l===vt&&(r=r.concat(n(a,l)))}),jn(i.children,(a,l)=>{l!==vt&&(r=r.concat(n(a,l)))}),r}(i,(a,l)=>l===vt?[cl(i.children[vt],!1)]:[`${l}:${cl(a,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[vt]?`${Qc(i)}/${r[0]}`:`${Qc(i)}/(${r.join("//")})`}}function Qg(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Es(i){return Qg(i).replace(/%3B/gi,";")}function Qi(i){return Qg(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jc(i){return decodeURIComponent(i)}function bf(i){return Jc(i.replace(/\+/g,"%20"))}function W_(i){return`${Qi(i.path)}${function(i){return Object.keys(i).map(n=>`;${Qi(n)}=${Qi(i[n])}`).join("")}(i.parameters)}`}const Jg=/^[^\/()?;=#]+/;function dl(i){const n=i.match(Jg);return n?n[0]:""}const Xg=/^[^=?&#]+/,K_=/^[^?&#]+/;class $o{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(a[vt]=new wt(n,r)),a}parseSegment(){const n=dl(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Yi(Jc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=dl(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const l=dl(this.remaining);l&&(a=l,this.capture(a))}n[Jc(r)]=Jc(a)}parseQueryParam(n){const r=function(i){const n=i.match(Xg);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const m=function(i){const n=i.match(K_);return n?n[0]:""}(this.remaining);m&&(a=m,this.capture(a))}const l=bf(r),f=bf(a);if(n.hasOwnProperty(l)){let m=n[l];Array.isArray(m)||(m=[m],n[l]=m),m.push(f)}else n[l]=f}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=dl(this.remaining),l=this.remaining[a.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let f;a.indexOf(":")>-1?(f=a.substr(0,a.indexOf(":")),this.capture(f),this.capture(":")):n&&(f=vt);const m=this.parseChildren();r[f]=1===Object.keys(m).length?m[vt]:new wt([],m),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class em{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=wf(n,this._root);return r?r.children.map(a=>a.value):[]}firstChild(n){const r=wf(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=Xr(n,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return Xr(n,this._root).map(r=>r.value)}}function wf(i,n){if(i===n.value)return n;for(const r of n.children){const a=wf(i,r);if(a)return a}return null}function Xr(i,n){if(i===n.value)return[n];for(const r of n.children){const a=Xr(i,r);if(a.length)return a.unshift(n),a}return[]}class Or{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function no(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class tm extends em{constructor(n,r){super(n),this.snapshot=r,If(this,n)}toString(){return this.snapshot.toString()}}function nm(i,n){const r=function(i,n){const m=new ed([],{},{},"",{},vt,n,null,i.root,-1,{});return new im("",new Or(m,[]))}(i,n),a=new Rr([new Yi("",{})]),l=new Rr({}),f=new Rr({}),m=new Rr({}),w=new Rr(""),T=new ws(a,l,m,w,f,vt,n,r.root);return T.snapshot=r.root,new tm(new Or(T,[]),r)}class ws{constructor(n,r,a,l,f,m,w,T){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=f,this.outlet=m,this.component=w,this._futureSnapshot=T}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(n=>il(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(n=>il(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rm(i,n="emptyOnly"){const r=i.pathFromRoot;let a=0;if("always"!==n)for(a=r.length-1;a>=1;){const l=r[a],f=r[a-1];if(l.routeConfig&&""===l.routeConfig.path)a--;else{if(f.component)break;a--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class ed{constructor(n,r,a,l,f,m,w,T,N,R,U){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=f,this.outlet=m,this.component=w,this.routeConfig=T,this._urlSegment=N,this._lastPathIndex=R,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=il(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=il(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class im extends em{constructor(n,r){super(r),this.url=n,If(this,r)}toString(){return sm(this._root)}}function If(i,n){n.value._routerState=i,n.children.forEach(r=>If(i,r))}function sm(i){const n=i.children.length>0?` { ${i.children.map(sm).join(", ")} } `:"";return`${i.value}${n}`}function om(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Qr(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),Qr(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!Qr(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),Qr(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function td(i,n){return Qr(i.params,n.params)&&function(i,n){return qo(i,n)&&i.every((r,a)=>Qr(r.parameters,n[a].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||td(i.parent,n.parent))}function hl(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=n.value;const l=function(i,n,r){return n.children.map(a=>{for(const l of r.children)if(i.shouldReuseRoute(a.value,l.value.snapshot))return hl(i,a,l);return hl(i,a)})}(i,n,r);return new Or(a,l)}{if(i.shouldAttach(n.value)){const f=i.retrieve(n.value);if(null!==f){const m=f.route;return Fi(n,m),m}}const a=function(i){return new ws(new Rr(i.url),new Rr(i.params),new Rr(i.queryParams),new Rr(i.fragment),new Rr(i.data),i.outlet,i.component,i)}(n.value),l=n.children.map(f=>hl(i,f));return new Or(a,l)}}function Fi(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Fi(i.children[r],n.children[r])}function fl(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Wo(i){return"object"==typeof i&&null!=i&&i.outlets}function um(i,n,r,a,l){let f={};return a&&jn(a,(m,w)=>{f[w]=Array.isArray(m)?m.map(T=>`${T}`):`${m}`}),new Bo(r.root===i?n:Y_(r.root,i,n),f,l)}function Y_(i,n,r){const a={};return jn(i.children,(l,f)=>{a[f]=l===n?r:Y_(l,n,r)}),new wt(i.segments,a)}class rd{constructor(n,r,a){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=a,n&&a.length>0&&fl(a[0]))throw new Error("Root segment cannot have matrix parameters");const l=a.find(Wo);if(l&&l!==xa(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pl{constructor(n,r,a){this.segmentGroup=n,this.processChildren=r,this.index=a}}function gl(i,n,r){if(i||(i=new wt([],{})),0===i.segments.length&&i.hasChildren())return sd(i,n,r);const a=function(i,n,r){let a=0,l=n;const f={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(a>=r.length)return f;const m=i.segments[l],w=r[a];if(Wo(w))break;const T=`${w}`,N=a<r.length-1?r[a+1]:null;if(l>0&&void 0===T)break;if(T&&N&&"object"==typeof N&&void 0===N.outlets){if(!Af(T,N,m))return f;a+=2}else{if(!Af(T,{},m))return f;a++}l++}return{match:!0,pathIndex:l,commandIndex:a}}(i,n,r),l=r.slice(a.commandIndex);if(a.match&&a.pathIndex<i.segments.length){const f=new wt(i.segments.slice(0,a.pathIndex),{});return f.children[vt]=new wt(i.segments.slice(a.pathIndex),i.children),sd(f,0,l)}return a.match&&0===l.length?new wt(i.segments,{}):a.match&&!i.hasChildren()?Tf(i,n,r):a.match?sd(i,0,l):Tf(i,n,r)}function sd(i,n,r){if(0===r.length)return new wt(i.segments,{});{const a=function(i){return Wo(i[0])?i[0].outlets:{[vt]:i}}(r),l={};return jn(a,(f,m)=>{"string"==typeof f&&(f=[f]),null!==f&&(l[m]=gl(i.children[m],n,f))}),jn(i.children,(f,m)=>{void 0===a[m]&&(l[m]=f)}),new wt(i.segments,l)}}function Tf(i,n,r){const a=i.segments.slice(0,n);let l=0;for(;l<r.length;){const f=r[l];if(Wo(f)){const T=dm(f.outlets);return new wt(a,T)}if(0===l&&fl(r[0])){a.push(new Yi(i.segments[n].path,ml(r[0]))),l++;continue}const m=Wo(f)?f.outlets[vt]:`${f}`,w=l<r.length-1?r[l+1]:null;m&&w&&fl(w)?(a.push(new Yi(m,ml(w))),l+=2):(a.push(new Yi(m,{})),l++)}return new wt(a,{})}function dm(i){const n={};return jn(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[a]=Tf(new wt([],{}),0,r))}),n}function ml(i){const n={};return jn(i,(r,a)=>n[a]=`${r}`),n}function Af(i,n,r){return i==r.path&&Qr(n,r.parameters)}class Df{constructor(n,r,a,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=a,this.forwardEvent=l}activate(n){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,n),om(this.futureState.root),this.activateChildRoutes(r,a,n)}deactivateChildRoutes(n,r,a){const l=no(r);n.children.forEach(f=>{const m=f.value.outlet;this.deactivateRoutes(f,l[m],a),delete l[m]}),jn(l,(f,m)=>{this.deactivateRouteAndItsChildren(f,a)})}deactivateRoutes(n,r,a){const l=n.value,f=r?r.value:null;if(l===f)if(l.component){const m=a.getContext(l.outlet);m&&this.deactivateChildRoutes(n,r,m.children)}else this.deactivateChildRoutes(n,r,a);else f&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const a=r.getContext(n.value.outlet);if(a&&a.outlet){const l=a.outlet.detach(),f=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:f})}}deactivateRouteAndOutlet(n,r){const a=r.getContext(n.value.outlet),l=a&&n.value.component?a.children:r,f=no(n);for(const m of Object.keys(f))this.deactivateRouteAndItsChildren(f[m],l);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(n,r,a){const l=no(r);n.children.forEach(f=>{this.activateRoutes(f,l[f.value.outlet],a),this.forwardEvent(new zc(f.value.snapshot))}),n.children.length&&this.forwardEvent(new yf(n.value.snapshot))}activateRoutes(n,r,a){const l=n.value,f=r?r.value:null;if(om(l),l===f)if(l.component){const m=a.getOrCreateContext(l.outlet);this.activateChildRoutes(n,r,m.children)}else this.activateChildRoutes(n,r,a);else if(l.component){const m=a.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const w=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),m.children.onOutletReAttached(w.contexts),m.attachRef=w.componentRef,m.route=w.route.value,m.outlet&&m.outlet.attach(w.componentRef,w.route.value),Yt(w.route)}else{const w=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),T=w?w.module.componentFactoryResolver:null;m.attachRef=null,m.route=l,m.resolver=T,m.outlet&&m.outlet.activateWith(l,T),this.activateChildRoutes(n,null,m.children)}}else this.activateChildRoutes(n,null,a)}}function Yt(i){om(i.value),i.children.forEach(Yt)}class Sf{constructor(n,r){this.routes=n,this.module=r}}function fi(i){return"function"==typeof i}function Li(i){return i instanceof Bo}const ad=Symbol("INITIAL_VALUE");function yl(){return Zn(i=>function(...i){let n,r;return(0,Ia.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,Lo.k)(i[0])&&(i=i[0]),(0,k_.n)(i,r).lift(new Aa(n))}(i.map(n=>n.pipe(Zg(1),Sa(ad)))).pipe(Na((n,r)=>{let a=!1;return r.reduce((l,f,m)=>l!==ad?l:(f===ad&&(a=!0),a||!1!==f&&m!==r.length-1&&!Li(f)?l:f),n)},ad),Pi(n=>n!==ad),(0,nt.U)(n=>Li(n)?n:!0===n),Zg(1)))}let Pa=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&c._UZ(0,"router-outlet")},directives:function(){return[Cm]},encapsulation:2}),i})();function un(i,n=""){for(let r=0;r<i.length;r++){const a=i[r];ud(a,pm(n,a))}}function ud(i,n){i.children&&un(i.children,n)}function pm(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function ld(i){const n=i.children&&i.children.map(ld),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==vt&&(r.component=Pa),r}function $t(i){return i.outlet||vt}function Ko(i,n){const r=i.filter(a=>$t(a)===n);return r.push(...i.filter(a=>$t(a)!==n)),r}const zn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ka(i,n,r){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},zn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(n.matcher||$_)(r,i,n);if(!f)return Object.assign({},zn);const m={};jn(f.posParams,(T,N)=>{m[N]=T.path});const w=f.consumed.length>0?Object.assign(Object.assign({},m),f.consumed[f.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:w,positionalParamSegments:null!==(a=f.posParams)&&void 0!==a?a:{}}}function Fa(i,n,r,a,l="corrected"){if(r.length>0&&function(i,n,r){return r.some(a=>La(i,n,a)&&$t(a)!==vt)}(i,r,a)){const m=new wt(n,function(i,n,r,a){const l={};l[vt]=a,a._sourceSegment=i,a._segmentIndexShift=n.length;for(const f of r)if(""===f.path&&$t(f)!==vt){const m=new wt([],{});m._sourceSegment=i,m._segmentIndexShift=n.length,l[$t(f)]=m}return l}(i,n,a,new wt(r,i.children)));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(a=>La(i,n,a))}(i,r,a)){const m=new wt(i.segments,function(i,n,r,a,l,f){const m={};for(const w of a)if(La(i,r,w)&&!l[$t(w)]){const T=new wt([],{});T._sourceSegment=i,T._segmentIndexShift="legacy"===f?i.segments.length:n.length,m[$t(w)]=T}return Object.assign(Object.assign({},l),m)}(i,n,r,a,i.children,l));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:r}}const f=new wt(i.segments,i.children);return f._sourceSegment=i,f._segmentIndexShift=n.length,{segmentGroup:f,slicedSegments:r}}function La(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function xf(i,n,r,a){return!!($t(i)===a||a!==vt&&La(n,r,i))&&("**"===i.path||ka(n,i,r).matched)}function dd(i,n,r){return 0===n.length&&!i.children[r]}class vl{constructor(n){this.segmentGroup=n||null}}class Of{constructor(n){this.urlTree=n}}function Va(i){return new Wr.y(n=>n.error(new vl(i)))}function Mf(i){return new Wr.y(n=>n.error(new Of(i)))}function E(i){return new Wr.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class C{constructor(n,r,a,l,f){this.configLoader=r,this.urlSerializer=a,this.urlTree=l,this.config=f,this.allowRedirects=!0,this.ngModule=n.get(c.h0i)}apply(){const n=Fa(this.urlTree.root,[],[],this.config).segmentGroup,r=new wt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,vt).pipe((0,nt.U)(f=>this.createUrlTree(M(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ra(f=>{if(f instanceof Of)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof vl?this.noMatchError(f):f}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,vt).pipe((0,nt.U)(l=>this.createUrlTree(M(l),n.queryParams,n.fragment))).pipe(Ra(l=>{throw l instanceof vl?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,a){const l=n.segments.length>0?new wt([],{[vt]:n}):n;return new Bo(l,r,a)}expandSegmentGroup(n,r,a,l){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(n,r,a).pipe((0,nt.U)(f=>new wt([],f))):this.expandSegment(n,a,r,a.segments,l,!0)}expandChildren(n,r,a){const l=[];for(const f of Object.keys(a.children))"primary"===f?l.unshift(f):l.push(f);return(0,an.D)(l).pipe(di(f=>{const m=a.children[f],w=Ko(r,f);return this.expandSegmentGroup(n,w,m,f).pipe((0,nt.U)(T=>({segment:T,outlet:f})))}),Na((f,m)=>(f[m.outlet]=m.segment,f),{}),function(i,n){const r=arguments.length>=2;return a=>a.pipe(i?Pi((l,f)=>i(l,f,a)):vs.y,Hg(1),r?Kr(n):Uo(()=>new Qu))}())}expandSegment(n,r,a,l,f,m){return(0,an.D)(a).pipe(di(w=>this.expandSegmentAgainstRoute(n,r,a,w,l,f,m).pipe(Ra(N=>{if(N instanceof vl)return(0,et.of)(null);throw N}))),bs(w=>!!w),Ra((w,T)=>{if(w instanceof Qu||"EmptyError"===w.name){if(dd(r,l,f))return(0,et.of)(new wt([],{}));throw new vl(r)}throw w}))}expandSegmentAgainstRoute(n,r,a,l,f,m,w){return xf(l,r,f,m)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,r,l,f,m):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,a,l,f,m):Va(r):Va(r)}expandSegmentAgainstRouteUsingRedirect(n,r,a,l,f,m){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,a,l,m):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,f,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,l){const f=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?Mf(f):this.lineralizeSegments(a,f).pipe((0,xn.zg)(m=>{const w=new wt(m,{});return this.expandSegment(n,w,r,m,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,f,m){const{matched:w,consumedSegments:T,lastChild:N,positionalParamSegments:R}=ka(r,l,f);if(!w)return Va(r);const U=this.applyRedirectCommands(T,l.redirectTo,R);return l.redirectTo.startsWith("/")?Mf(U):this.lineralizeSegments(l,U).pipe((0,xn.zg)(Y=>this.expandSegment(n,r,a,Y.concat(f.slice(N)),m,!1)))}matchSegmentAgainstRoute(n,r,a,l,f){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,et.of)(a._loadedConfig):this.configLoader.load(n.injector,a)).pipe((0,nt.U)(Y=>(a._loadedConfig=Y,new wt(l,{})))):(0,et.of)(new wt(l,{}));const{matched:m,consumedSegments:w,lastChild:T}=ka(r,a,l);if(!m)return Va(r);const N=l.slice(T);return this.getChildConfig(n,a,l).pipe((0,xn.zg)(U=>{const Y=U.module,z=U.routes,{segmentGroup:_e,slicedSegments:Fe}=Fa(r,w,N,z),Be=new wt(_e.segments,_e.children);if(0===Fe.length&&Be.hasChildren())return this.expandChildren(Y,z,Be).pipe((0,nt.U)(Gt=>new wt(w,Gt)));if(0===z.length&&0===Fe.length)return(0,et.of)(new wt(w,{}));const st=$t(a)===f;return this.expandSegment(Y,Be,z,Fe,st?vt:f,!0).pipe((0,nt.U)(Ct=>new wt(w.concat(Ct.segments),Ct.children)))}))}getChildConfig(n,r,a){return r.children?(0,et.of)(new Sf(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,et.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,a).pipe((0,xn.zg)(l=>{return l?this.configLoader.load(n.injector,r).pipe((0,nt.U)(f=>(r._loadedConfig=f,f))):(i=r,new Wr.y(n=>n.error(Xs(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,et.of)(new Sf([],n))}runCanLoadGuards(n,r,a){const l=r.canLoad;if(!l||0===l.length)return(0,et.of)(!0);const f=l.map(m=>{const w=n.get(m);let T;if((i=w)&&fi(i.canLoad))T=w.canLoad(r,a);else{if(!fi(w))throw new Error("Invalid CanLoad guard");T=w(r,a)}var i;return ki(T)});return(0,et.of)(f).pipe(yl(),(0,Yr.b)(m=>{if(!Li(m))return;const w=Xs(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw w.url=m,w}),(0,nt.U)(m=>!0===m))}lineralizeSegments(n,r){let a=[],l=r.root;for(;;){if(a=a.concat(l.segments),0===l.numberOfChildren)return(0,et.of)(a);if(l.numberOfChildren>1||!l.children[vt])return E(n.redirectTo);l=l.children[vt]}}applyRedirectCommands(n,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,a)}applyRedirectCreatreUrlTree(n,r,a,l){const f=this.createSegmentGroup(n,r.root,a,l);return new Bo(f,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const a={};return jn(n,(l,f)=>{if("string"==typeof l&&l.startsWith(":")){const w=l.substring(1);a[f]=r[w]}else a[f]=l}),a}createSegmentGroup(n,r,a,l){const f=this.createSegments(n,r.segments,a,l);let m={};return jn(r.children,(w,T)=>{m[T]=this.createSegmentGroup(n,w,a,l)}),new wt(f,m)}createSegments(n,r,a,l){return r.map(f=>f.path.startsWith(":")?this.findPosParam(n,f,l):this.findOrReturn(f,a))}findPosParam(n,r,a){const l=a[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return l}findOrReturn(n,r){let a=0;for(const l of r){if(l.path===n.path)return r.splice(a),l;a++}return n}}function M(i){const n={};for(const a of Object.keys(i.children)){const f=M(i.children[a]);(f.segments.length>0||f.hasChildren())&&(n[a]=f)}return function(i){if(1===i.numberOfChildren&&i.children[vt]){const n=i.children[vt];return new wt(i.segments.concat(n.segments),n.children)}return i}(new wt(i.segments,n))}class ve{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Pe{constructor(n,r){this.component=n,this.route=r}}function He(i,n,r){const a=i._root;return Wt(a,n?n._root:null,r,[a.value])}function Qe(i,n,r){const a=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(a?a.module.injector:r).get(i)}function Wt(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=no(n);return i.children.forEach(m=>{(function(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=i.value,m=n?n.value:null,w=r?r.getContext(i.value.outlet):null;if(m&&f.routeConfig===m.routeConfig){const T=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!qo(i.url,n.url);case"pathParamsOrQueryParamsChange":return!qo(i.url,n.url)||!Qr(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!td(i,n)||!Qr(i.queryParams,n.queryParams);case"paramsChange":default:return!td(i,n)}}(m,f,f.routeConfig.runGuardsAndResolvers);T?l.canActivateChecks.push(new ve(a)):(f.data=m.data,f._resolvedData=m._resolvedData),Wt(i,n,f.component?w?w.children:null:r,a,l),T&&w&&w.outlet&&w.outlet.isActivated&&l.canDeactivateChecks.push(new Pe(w.outlet.component,m))}else m&&Yo(n,w,l),l.canActivateChecks.push(new ve(a)),Wt(i,null,f.component?w?w.children:null:r,a,l)})(m,f[m.value.outlet],r,a.concat([m.value]),l),delete f[m.value.outlet]}),jn(f,(m,w)=>Yo(m,r.getContext(w),l)),l}function Yo(i,n,r){const a=no(i),l=i.value;jn(a,(f,m)=>{Yo(f,l.component?n?n.children.getContext(m):null:n,r)}),r.canDeactivateChecks.push(new Pe(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class _m{}function ev(i){return new Wr.y(n=>n.error(i))}class uN{constructor(n,r,a,l,f,m){this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=l,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=m}recognize(){const n=Fa(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,vt);if(null===r)return null;const a=new ed([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Or(a,r),f=new im(this.url,l);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(n){const r=n.value,a=rm(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,a)}processChildren(n,r){const a=[];for(const f of Object.keys(r.children)){const m=r.children[f],w=Ko(n,f),T=this.processSegmentGroup(w,m,f);if(null===T)return null;a.push(...T)}const l=K0(a);return l.sort((n,r)=>n.value.outlet===vt?-1:r.value.outlet===vt?1:n.value.outlet.localeCompare(r.value.outlet)),l}processSegment(n,r,a,l){for(const f of n){const m=this.processSegmentAgainstRoute(f,r,a,l);if(null!==m)return m}return dd(r,a,l)?[]:null}processSegmentAgainstRoute(n,r,a,l){if(n.redirectTo||!xf(n,r,a,l))return null;let f,m=[],w=[];if("**"===n.path){const z=a.length>0?xa(a).parameters:{};f=new ed(a,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iv(n),$t(n),n.component,n,fd(r),rv(r)+a.length,vm(n))}else{const z=ka(r,n,a);if(!z.matched)return null;m=z.consumedSegments,w=a.slice(z.lastChild),f=new ed(m,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iv(n),$t(n),n.component,n,fd(r),rv(r)+m.length,vm(n))}const T=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:N,slicedSegments:R}=Fa(r,m,w,T.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);var i;if(0===R.length&&N.hasChildren()){const z=this.processChildren(T,N);return null===z?null:[new Or(f,z)]}if(0===T.length&&0===R.length)return[new Or(f,[])];const U=$t(n)===l,Y=this.processSegment(T,N,R,U?vt:l);return null===Y?null:[new Or(f,Y)]}}function nv(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function K0(i){const n=[],r=new Set;for(const a of i){if(!nv(a)){n.push(a);continue}const l=n.find(f=>a.value.routeConfig===f.value.routeConfig);void 0!==l?(l.children.push(...a.children),r.add(l)):n.push(a)}for(const a of r){const l=K0(a.children);n.push(new Or(a.value,l))}return n.filter(a=>!r.has(a))}function fd(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function rv(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function iv(i){return i.data||{}}function vm(i){return i.resolve||{}}function bm(i){return Zn(n=>{const r=i(n);return r?(0,an.D)(r).pipe((0,nt.U)(()=>n)):(0,et.of)(n)})}class bA extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const uv=new c.OlP("ROUTES");class Q0{constructor(n,r,a,l){this.loader=n,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=l}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,nt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);const m=f.create(n);return new Sf(eo(m.injector.get(uv,void 0,c.XFs.Self|c.XFs.Optional)).map(ld),m)}),Ra(f=>{throw r._loader$=void 0,f}));return r._loader$=new Da.c(l,()=>new ms.xQ).pipe((0,$g.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,an.D)(this.loader.load(n)):ki(n()).pipe((0,xn.zg)(r=>r instanceof c.YKP?(0,et.of)(r):(0,an.D)(this.compiler.compileModuleAsync(r))))}}class EA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gd,this.attachRef=null}}class gd{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new EA,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class J0{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function lv(i){throw i}function X0(i,n,r){return n.parse("/")}function Em(i,n){return(0,et.of)(null)}const CA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Tn=(()=>{class i{constructor(r,a,l,f,m,w,T,N){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=l,this.location=f,this.config=N,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ms.xQ,this.errorHandler=lv,this.malformedUriErrorHandler=X0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Em,afterPreactivation:Em},this.urlHandlingStrategy=new J0,this.routeReuseStrategy=new bA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(c.h0i),this.console=m.get(c.c2e);const Y=m.get(c.R0b);this.isNgZoneEnabled=Y instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(N),this.currentUrlTree=new Bo(new wt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Q0(w,T,z=>this.triggerEvent(new nl(z)),z=>this.triggerEvent(new H_(z))),this.routerState=nm(this.currentUrlTree,this.rootComponentType),this.transitions=new Rr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(Pi(l=>0!==l.id),(0,nt.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),Zn(l=>{let f=!1,m=!1;return(0,et.of)(l).pipe((0,Yr.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.currentRawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zn(w=>{const T=!this.navigated||w.extractedUrl.toString()!==this.browserUrlTree.toString(),N=("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl);if(io(w.source)&&(this.browserUrlTree=w.rawUrl),N)return(0,et.of)(w).pipe(Zn(R=>{const U=this.transitions.getValue();return a.next(new zg(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),U!==this.transitions.getValue()?Wi.E:Promise.resolve(R)}),function(i,n,r,a){return Zn(l=>function(i,n,r,a,l){return new C(i,n,r,a,l).apply()}(i,n,r,l.extractedUrl,a).pipe((0,nt.U)(f=>Object.assign(Object.assign({},l),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yr.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(i,n,r,a,l){return(0,xn.zg)(f=>function(i,n,r,a,l="emptyOnly",f="legacy"){try{const m=new uN(i,n,r,a,l,f).recognize();return null===m?ev(new _m):(0,et.of)(m)}catch(m){return ev(m)}}(i,n,f.urlAfterRedirects,r(f.urlAfterRedirects),a,l).pipe((0,nt.U)(m=>Object.assign(Object.assign({},f),{targetSnapshot:m}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yr.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const U=new B_(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);a.next(U)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:Y,source:z,restoredState:_e,extras:Fe}=w,Be=new zg(U,this.serializeUrl(Y),z,_e);a.next(Be);const st=nm(Y,this.rootComponentType).snapshot;return(0,et.of)(Object.assign(Object.assign({},w),{targetSnapshot:st,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},Fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=w.rawUrl,this.browserUrlTree=w.urlAfterRedirects,w.resolve(null),Wi.E}),bm(w=>{const{targetSnapshot:T,id:N,extractedUrl:R,rawUrl:U,extras:{skipLocationChange:Y,replaceUrl:z}}=w;return this.hooks.beforePreactivation(T,{navigationId:N,appliedUrlTree:R,rawUrlTree:U,skipLocationChange:!!Y,replaceUrl:!!z})}),(0,Yr.b)(w=>{const T=new mf(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),(0,nt.U)(w=>Object.assign(Object.assign({},w),{guards:He(w.targetSnapshot,w.currentSnapshot,this.rootContexts)})),function(i,n){return(0,xn.zg)(r=>{const{targetSnapshot:a,currentSnapshot:l,guards:{canActivateChecks:f,canDeactivateChecks:m}}=r;return 0===m.length&&0===f.length?(0,et.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,a){return(0,an.D)(i).pipe((0,xn.zg)(l=>function(i,n,r,a,l){const f=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,et.of)(!0);const m=f.map(w=>{const T=Qe(w,n,l);let N;if(function(i){return i&&fi(i.canDeactivate)}(T))N=ki(T.canDeactivate(i,n,r,a));else{if(!fi(T))throw new Error("Invalid CanDeactivate guard");N=ki(T(i,n,r,a))}return N.pipe(bs())});return(0,et.of)(m).pipe(yl())}(l.component,l.route,r,n,a)),bs(l=>!0!==l,!0))}(m,a,l,i).pipe((0,xn.zg)(w=>w&&function(i){return"boolean"==typeof i}(w)?function(i,n,r,a){return(0,an.D)(n).pipe(di(l=>Ju(function(i,n){return null!==i&&n&&n(new Zo(i)),(0,et.of)(!0)}(l.route.parent,a),function(i,n){return null!==i&&n&&n(new Js(i)),(0,et.of)(!0)}(l.route,a),function(i,n,r){const a=n[n.length-1],f=n.slice(0,n.length-1).reverse().map(m=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(m)).filter(m=>null!==m).map(m=>ys(()=>{const w=m.guards.map(T=>{const N=Qe(T,m.node,r);let R;if(function(i){return i&&fi(i.canActivateChild)}(N))R=ki(N.canActivateChild(a,i));else{if(!fi(N))throw new Error("Invalid CanActivateChild guard");R=ki(N(a,i))}return R.pipe(bs())});return(0,et.of)(w).pipe(yl())}));return(0,et.of)(f).pipe(yl())}(i,l.path,r),function(i,n,r){const a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||0===a.length)return(0,et.of)(!0);const l=a.map(f=>ys(()=>{const m=Qe(f,n,r);let w;if(function(i){return i&&fi(i.canActivate)}(m))w=ki(m.canActivate(n,i));else{if(!fi(m))throw new Error("Invalid CanActivate guard");w=ki(m(n,i))}return w.pipe(bs())}));return(0,et.of)(l).pipe(yl())}(i,l.route,r))),bs(l=>!0!==l,!0))}(a,f,i,n):(0,et.of)(w)),(0,nt.U)(w=>Object.assign(Object.assign({},r),{guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,Yr.b)(w=>{if(Li(w.guardsResult)){const N=Xs(`Redirecting to "${this.serializeUrl(w.guardsResult)}"`);throw N.url=w.guardsResult,N}const T=new q_(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(T)}),Pi(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,""),!1)),bm(w=>{if(w.guards.canActivateChecks.length)return(0,et.of)(w).pipe((0,Yr.b)(T=>{const N=new el(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(N)}),Zn(T=>{let N=!1;return(0,et.of)(T).pipe(function(i,n){return(0,xn.zg)(r=>{const{targetSnapshot:a,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,et.of)(r);let f=0;return(0,an.D)(l).pipe(di(m=>function(i,n,r,a){return function(i,n,r,a){const l=Object.keys(i);if(0===l.length)return(0,et.of)({});const f={};return(0,an.D)(l).pipe((0,xn.zg)(m=>function(i,n,r,a){const l=Qe(i,n,a);return ki(l.resolve?l.resolve(n,r):l(n,r))}(i[m],n,r,a).pipe((0,Yr.b)(w=>{f[m]=w}))),Hg(1),(0,xn.zg)(()=>Object.keys(f).length===l.length?(0,et.of)(f):Wi.E))}(i._resolve,i,n,a).pipe((0,nt.U)(f=>(i._resolvedData=f,i.data=Object.assign(Object.assign({},i.data),rm(i,r).resolve),null)))}(m.route,a,i,n)),(0,Yr.b)(()=>f++),Hg(1),(0,xn.zg)(m=>f===l.length?(0,et.of)(r):Wi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yr.b)({next:()=>N=!0,complete:()=>{N||(this.restoreHistory(T),this.cancelNavigationTransition(T,"At least one route resolver didn't emit any value."))}}))}),(0,Yr.b)(T=>{const N=new tl(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(N)}))}),bm(w=>{const{targetSnapshot:T,id:N,extractedUrl:R,rawUrl:U,extras:{skipLocationChange:Y,replaceUrl:z}}=w;return this.hooks.afterPreactivation(T,{navigationId:N,appliedUrlTree:R,rawUrlTree:U,skipLocationChange:!!Y,replaceUrl:!!z})}),(0,nt.U)(w=>{const T=function(i,n,r){const a=hl(i,n._root,r?r._root:void 0);return new tm(a,n)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return Object.assign(Object.assign({},w),{targetRouterState:T})}),(0,Yr.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((i,n,r)=>(0,nt.U)(a=>(new Df(n,a.targetRouterState,a.currentRouterState,r).activate(i),a)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,Yr.b)({next(){f=!0},complete(){f=!0}}),function(i){return n=>n.lift(new gr(i))}(()=>{if(!f&&!m){const w=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,w)):this.cancelNavigationTransition(l,w)}this.currentNavigation=null}),Ra(w=>{if(m=!0,function(i){return i&&i[sl]}(w)){const T=Li(w.url);T||(this.navigated=!0,this.restoreHistory(l,!0));const N=new gf(l.id,this.serializeUrl(l.extractedUrl),w.message);a.next(N),T?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree),U={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||io(l.source)};this.scheduleNavigation(R,"imperative",null,U,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const T=new j_(l.id,this.serializeUrl(l.extractedUrl),w);a.next(T);try{l.resolve(this.errorHandler(w))}catch(N){l.reject(N)}}return Wi.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:l,state:f,urlTree:m}=a,w={replaceUrl:!0};if(f){const T=Object.assign({},f);delete T.navigationId,delete T.\u0275routerPageId,0!==Object.keys(T).length&&(w.state=T)}this.scheduleNavigation(m,l,f,w)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(r){var a;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(a=r.state)||void 0===a?void 0:a.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,a){if(!r)return!0;const l=a.urlTree.toString()===r.urlTree.toString();return a.transitionId!==r.transitionId||!l||!("hashchange"===a.source&&"popstate"===r.source||"popstate"===a.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){un(r),this.config=r.map(ld),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:l,queryParams:f,fragment:m,queryParamsHandling:w,preserveFragment:T}=a,N=l||this.routerState.root,R=T?this.currentUrlTree.fragment:m;let U=null;switch(w){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=f||null}return null!==U&&(U=this.removeEmptyProps(U)),function(i,n,r,a,l){if(0===r.length)return um(n.root,n.root,n,a,l);const f=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new rd(!0,0,i);let n=0,r=!1;const a=i.reduce((l,f,m)=>{if("object"==typeof f&&null!=f){if(f.outlets){const w={};return jn(f.outlets,(T,N)=>{w[N]="string"==typeof T?T.split("/"):T}),[...l,{outlets:w}]}if(f.segmentPath)return[...l,f.segmentPath]}return"string"!=typeof f?[...l,f]:0===m?(f.split("/").forEach((w,T)=>{0==T&&"."===w||(0==T&&""===w?r=!0:".."===w?n++:""!=w&&l.push(w))}),l):[...l,f]},[]);return new rd(r,n,a)}(r);if(f.toRoot())return um(n.root,new wt([],{}),n,a,l);const m=function(i,n,r){if(i.isAbsolute)return new pl(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const f=r.snapshot._urlSegment;return new pl(f,f===n.root,0)}const a=fl(i.commands[0])?0:1;return function(i,n,r){let a=i,l=n,f=r;for(;f>l;){if(f-=l,a=a.parent,!a)throw new Error("Invalid number of '../'");l=a.segments.length}return new pl(a,!1,l-f)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,i.numberOfDoubleDots)}(f,n,i),w=m.processChildren?sd(m.segmentGroup,m.index,f.commands):gl(m.segmentGroup,m.index,f.commands);return um(m.segmentGroup,w,n,a,l)}(N,this.currentUrlTree,r,U,null!=R?R:null)}navigateByUrl(r,a={skipLocationChange:!1}){const l=Li(r)?r:this.parseUrl(r),f=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(l){a=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return a}isActive(r,a){let l;if(l=!0===a?Object.assign({},CA):!1===a?Object.assign({},IA):a,Li(r))return ol(this.currentUrlTree,r,l);const f=this.parseUrl(r);return ol(this.currentUrlTree,f,l)}removeEmptyProps(r){return Object.keys(r).reduce((a,l)=>{const f=r[l];return null!=f&&(a[l]=f),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new Qs(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(r,a,l,f,m){var w,T;if(this.disposed)return Promise.resolve(!1);const N=this.getTransition(),R=io(a)&&N&&!io(N.source),z=(this.lastSuccessfulId===N.id||this.currentNavigation?N.rawUrl:N.urlAfterRedirects).toString()===r.toString();if(R&&z)return Promise.resolve(!0);let _e,Fe,Be;m?(_e=m.resolve,Fe=m.reject,Be=m.promise):Be=new Promise((Ct,Gt)=>{_e=Ct,Fe=Gt});const st=++this.navigationId;let Nt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Nt=l&&l.\u0275routerPageId?l.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):Nt=0,this.setTransition({id:st,targetPageId:Nt,source:a,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:f,resolve:_e,reject:Fe,promise:Be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Be.catch(Ct=>Promise.reject(Ct))}setBrowserUrl(r,a){const l=this.urlSerializer.serialize(r),f=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(l)||a.extras.replaceUrl?this.location.replaceState(l,"",f):this.location.go(l,"",f)}restoreHistory(r,a=!1){var l,f;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===m?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===m&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const l=new gf(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(c.DyG),c.LFG(Yc),c.LFG(gd),c.LFG(Ue),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();function io(i){return"imperative"!==i}let es=(()=>{class i{constructor(r,a,l,f,m){this.router=r,this.route=a,this.commands=[],this.onChanges=new ms.xQ,null==l&&f.setAttribute(m.nativeElement,"tabindex","0")}ngOnChanges(r){this.onChanges.next(this)}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}onClick(){const r={skipLocationChange:md(this.skipLocationChange),replaceUrl:md(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:md(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(Tn),c.Y36(ws),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,a){1&r&&c.NdJ("click",function(){return a.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),i})(),ts=(()=>{class i{constructor(r,a,l){this.router=r,this.route=a,this.locationStrategy=l,this.commands=[],this.onChanges=new ms.xQ,this.subscription=r.events.subscribe(f=>{f instanceof Qs&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,a,l,f,m){if(0!==r||a||l||f||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const w={skipLocationChange:md(this.skipLocationChange),replaceUrl:md(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:md(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(Tn),c.Y36(ws),c.Y36(re))},i.\u0275dir=c.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,a){1&r&&c.NdJ("click",function(f){return a.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),2&r&&(c.Ikx("href",a.href,c.LSH),c.uIk("target",a.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),i})();function md(i){return""===i||!!i}let Cm=(()=>{class i{constructor(r,a,l,f,m){this.parentContexts=r,this.location=a,this.resolver=l,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=f||vt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const m=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),w=this.parentContexts.getOrCreateContext(this.name).children,T=new tw(r,w,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,T),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(gd),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},i.\u0275dir=c.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class tw{constructor(n,r,a){this.route=n,this.childContexts=r,this.parent=a}get(n,r){return n===ws?this.route:n===gd?this.childContexts:this.parent.get(n,r)}}class cv{}class hv{preload(n,r){return(0,et.of)(null)}}let Ff=(()=>{class i{constructor(r,a,l,f,m){this.router=r,this.injector=f,this.preloadingStrategy=m,this.loader=new Q0(a,l,N=>r.triggerEvent(new nl(N)),N=>r.triggerEvent(new H_(N)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pi(r=>r instanceof Qs),di(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(c.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const l=[];for(const f of a)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const m=f._loadedConfig;l.push(this.processRoutes(m.module,m.routes))}else f.loadChildren&&!f.canLoad?l.push(this.preloadConfig(r,f)):f.children&&l.push(this.processRoutes(r,f.children));return(0,an.D)(l).pipe((0,ci.J)(),(0,nt.U)(f=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,et.of)(a._loadedConfig):this.loader.load(r.injector,a)).pipe((0,xn.zg)(f=>(a._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(Tn),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(cv))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),yd=(()=>{class i{constructor(r,a,l={}){this.router=r,this.viewportScroller=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof zg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Qs&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Wc&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new Wc(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(Tn),c.LFG(Mu),c.LFG(void 0))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const Jo=new c.OlP("ROUTER_CONFIGURATION"),fv=new c.OlP("ROUTER_FORROOT_GUARD"),Lf=[Ue,{provide:Yc,useClass:_f},{provide:Tn,useFactory:function(i,n,r,a,l,f,m,w={},T,N){const R=new Tn(null,i,n,r,a,l,f,eo(m));return T&&(R.urlHandlingStrategy=T),N&&(R.routeReuseStrategy=N),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(w,R),w.enableTracing&&R.events.subscribe(U=>{var Y,z;null===(Y=console.group)||void 0===Y||Y.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(z=console.groupEnd)||void 0===z||z.call(console)}),R},deps:[Yc,gd,Ue,c.zs3,c.v3s,c.Sil,uv,Jo,[class{},new c.FiY],[class{},new c.FiY]]},gd,{provide:ws,useFactory:function(i){return i.routerState.root},deps:[Tn]},{provide:c.v3s,useClass:c.EAV},Ff,hv,class{preload(n,r){return r().pipe(Ra(()=>(0,et.of)(null)))}},{provide:Jo,useValue:{enableTracing:!1}}];function DA(){return new c.PXZ("Router",Tn)}let gv=(()=>{class i{constructor(r,a){}static forRoot(r,a){return{ngModule:i,providers:[Lf,Im(r),{provide:fv,useFactory:nw,deps:[[Tn,new c.FiY,new c.tp0]]},{provide:Jo,useValue:a||{}},{provide:re,useFactory:NA,deps:[W,[new c.tBr(Te),new c.FiY],Jo]},{provide:yd,useFactory:SA,deps:[Tn,Mu,Jo]},{provide:cv,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:hv},{provide:c.PXZ,multi:!0,useFactory:DA},[mv,{provide:c.ip1,multi:!0,useFactory:sw,deps:[mv]},{provide:ow,useFactory:RA,deps:[mv]},{provide:c.tb,multi:!0,useExisting:ow}]]}}static forChild(r){return{ngModule:i,providers:[Im(r)]}}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(fv,8),c.LFG(Tn,8))},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({}),i})();function SA(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new yd(i,n,r)}function NA(i,n,r={}){return r.useHash?new Me(i,n):new Re(i,n)}function nw(i){return"guarded"}function Im(i){return[{provide:c.deG,multi:!0,useValue:i},{provide:uv,multi:!0,useValue:i}]}let mv=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ms.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const l=new Promise(w=>a=w),f=this.injector.get(Tn),m=this.injector.get(Jo);return"disabled"===m.initialNavigation?(f.setUpLocationChangeListener(),a(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,et.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),f.initialNavigation()):a(!0),l})}bootstrapListener(r){const a=this.injector.get(Jo),l=this.injector.get(Ff),f=this.injector.get(yd),m=this.injector.get(Tn),w=this.injector.get(c.z2F);r===w.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&m.initialNavigation(),l.setUpPreloading(),f.init(),m.resetRootComponentType(w.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(c.zs3))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();function sw(i){return i.appInitializer.bind(i)}function RA(i){return i.bootstrapListener.bind(i)}const ow=new c.OlP("Router Initializer"),yv='.example[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}body[_ngcontent-%COMP%]{background-size:cover;background-image:url(redbg.20583e4685e6a4b94b1f.jpeg)}p[_ngcontent-%COMP%]{font-size:large;align-self:center}a[_ngcontent-%COMP%]{color:#fff;font-size:large}.bgimg-1[_ngcontent-%COMP%], .bgimg-2[_ngcontent-%COMP%], .bgimg-3[_ngcontent-%COMP%]{position:relative;background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;opacity:.9}.bgimg-1[_ngcontent-%COMP%]{background-image:url(cross.f5d122db99a33094e7f5.jpg);min-height:100%}.bgimg-2[_ngcontent-%COMP%]{background-image:url(homebg.482b92cbddd5af62dcb4.jpg);min-height:400px}.bgimg-3[_ngcontent-%COMP%]{background-image:url(bg2.9c6614d91a18ca625415.jpg);min-height:400px}.caption[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;width:100%;text-align:center;color:#000}.caption[_ngcontent-%COMP%]   span.border[_ngcontent-%COMP%]{background-color:#111;color:#fff;padding:18px;font-size:25px;letter-spacing:10px}h3[_ngcontent-%COMP%]{letter-spacing:5px;text-transform:uppercase;font:20px "Lato",sans-serif;color:#111}.mine[_ngcontent-%COMP%]{font-size:large;color:#fff;font-style:bold}';let aw=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-admin"]],decls:76,vars:0,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css"],["id","mynav",1,"navbar","is-danger","is-bold"],[1,"navbar-brand"],["src","assets/ssn logo.png","width","112","height","28"],[1,"navbar-burger"],[1,"navbar-menu"],[1,"navbar-start"],["routerLink","/adminhomepage",1,"navbar-item"],["routerLink","/list-event",1,"navbar-item"],["routerLink","/list-attendance",1,"navbar-item"],[1,"navbar-item","has-dropdown","is-hoverable"],[1,"navbar-link"],[1,"navbar-dropdown"],["routerLink","/enroll",1,"navbar-item","is-hoverable"],["href","https://mail.google.com/mail/u/0/?view=cm&fs=1&to=ashwinirameshrocks@gmail.com&su= &body= &bcc=yrcemfy@gmail.com+ashwini19016@it.ssn.edu.in+ashwinir765@gmail.com+",1,"navbar-item","is-hoverable"],[1,"navbar-end"],[1,"navbar-item"],["routerLink","/",1,"button","is-light"],[2,"color","#777","background-color","white","text-align","center","padding","50px 80px","text-align","justify"],[2,"text-align","center"],[1,"bgimg-2"],[1,"caption"],[1,"border",2,"background-color","black","font-size","25px","color","#f7f7f7"],[2,"position","relative"],[2,"color","#ddd","background-color","#282E34","text-align","center","padding","50px 80px","text-align","justify","font-size","large"],[1,"bgimg-3"],[2,"color","#ddd","background-color","black","text-align","center","padding","50px 80px","text-align","justify"],["behaviour","alternate","truespeed","80","direction","left",1,"mine"],[1,"mine"]],template:function(r,a){1&r&&(c.TgZ(0,"html"),c.TgZ(1,"head"),c._UZ(2,"link",0),c.qZA(),c.TgZ(3,"body"),c.TgZ(4,"nav",1),c.TgZ(5,"div",2),c._UZ(6,"img",3),c.TgZ(7,"div",4),c._UZ(8,"span"),c._UZ(9,"span"),c._UZ(10,"span"),c.qZA(),c.qZA(),c.TgZ(11,"div",5),c.TgZ(12,"div",6),c.TgZ(13,"a",7),c._uU(14," Home "),c.qZA(),c.TgZ(15,"a",8),c._uU(16," events "),c.qZA(),c.TgZ(17,"a",9),c._uU(18,"attendence"),c.qZA(),c.TgZ(19,"div",10),c.TgZ(20,"a",11),c._uU(21," admin controls "),c.qZA(),c.TgZ(22,"div",12),c.TgZ(23,"a",13),c._uU(24," view yrc members' list "),c.qZA(),c.TgZ(25,"a",14),c._uU(26," send common mail "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(27,"div",15),c.TgZ(28,"div",16),c.TgZ(29,"button",17),c._uU(30,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"div",18),c.TgZ(32,"h3",19),c._uU(33,"WELCOME TO SSN YOUTH RED CROSS EVENT MANAGEMENT SITE!"),c.qZA(),c.qZA(),c.TgZ(34,"div",20),c.TgZ(35,"div",21),c.TgZ(36,"span",22),c._uU(37,"ABOUT US"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(38,"div",23),c.TgZ(39,"div",24),c.TgZ(40,"p"),c._uU(41,"Youth Red Cross is an extension to the Junior red cross, to the domain of the youth. It aims in protecting health and human life throughout the country and plays an essential role in disaster management."),c.qZA(),c.qZA(),c.qZA(),c.TgZ(42,"div",25),c.TgZ(43,"div",21),c.TgZ(44,"span",22),c._uU(45,"OUR EVENTS"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(46,"div",23),c.TgZ(47,"div",26),c.TgZ(48,"marquee",27),c._uU(49," BLOOD DONATION CAMP "),c.qZA(),c.TgZ(50,"marquee",28),c._uU(51,"STEM CELL REGISTRATION"),c.qZA(),c.TgZ(52,"marquee",28),c._uU(53,"EYE CAMP"),c.qZA(),c.TgZ(54,"marquee",28),c._uU(55,"CAMPUS CLEANING"),c.qZA(),c.TgZ(56,"marquee",28),c._uU(57,"ORPHANAGE AND OLDAGE HOME VISIT"),c.qZA(),c.TgZ(58,"marquee",28),c._uU(59,"VOTER ID REGISTRATION CAMP"),c.qZA(),c.TgZ(60,"marquee",28),c._uU(61,"COASTAL CLEANUP"),c.qZA(),c.TgZ(62,"marquee",28),c._uU(63,"HOSPITAL CLEANING"),c.qZA(),c.TgZ(64,"marquee",28),c._uU(65,"INDIAN RED CROSS VISIT"),c.qZA(),c.TgZ(66,"marquee",28),c._uU(67,"THIDAL \u2013 SPORTS EVENT"),c.qZA(),c.TgZ(68,"marquee",28),c._uU(69,"AWARENESS PROGRAMS AND WORKSHOPS"),c.qZA(),c.TgZ(70,"marquee",28),c._uU(71,"ORGAN DONATION CAMP"),c.qZA(),c.TgZ(72,"marquee",28),c._uU(73,"VILLAGE CAMP"),c.qZA(),c.TgZ(74,"marquee",28),c._uU(75,"MARCHPAST"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[ts,es],styles:[yv,yv]}),i})();class xA{}var OA=P(3637),mr=P(9126);function Tm(){return i=>i.lift(new MA)}class MA{call(n,r){return r.subscribe(new PA(n))}}class PA extends xr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class gt{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new uw(n,this.compare,this.keySelector))}}class uw extends xr.L{constructor(n,r,a){super(n),this.keySelector=a,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:l}=this;r=l?l(n):n}catch(l){return this.destination.error(l)}let a=!1;if(this.hasKey)try{const{compare:l}=this;a=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;a||(this.key=r,this.destination.next(n))}}var so=P(8939),Is=(P(6780),P(4486)),we=P(8239),vv=P(5452),Am=P(6034),ei=P(300),Mt=P(4685),Dm=function(i,n){return(Dm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])})(i,n)};function FA(i){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&i[n],a=0;if(r)return r.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var qe,lw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ts=Ts||{},ut=lw||self;function El(){}function Vf(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function Sm(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var Nm="closure_uid_"+(1e9*Math.random()>>>0),hN=0;function VA(i,n,r){return i.call.apply(i.bind,arguments)}function fN(i,n,r){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,a),i.apply(n,l)}}return function(){return i.apply(n,arguments)}}function rr(i,n,r){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?VA:fN).apply(null,arguments)}function Uf(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function yr(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(a,l,f){for(var m=Array(arguments.length-2),w=2;w<arguments.length;w++)m[w-2]=arguments[w];return n.prototype[l].apply(a,m)}}function oo(){this.s=this.s,this.o=this.o}var gN={};oo.prototype.s=!1,oo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Nm)&&i[Nm]||(i[Nm]=++hN)}(this);delete gN[i]}},oo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var UA=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(var r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},ZA=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){for(var a=i.length,l="string"==typeof i?i.split(""):i,f=0;f<a;f++)f in l&&n.call(r,l[f],f,i)};function jA(i){return Array.prototype.concat.apply([],arguments)}function cw(i){var n=i.length;if(0<n){for(var r=Array(n),a=0;a<n;a++)r[a]=i[a];return r}return[]}function Ev(i){return/^[\s\xa0]*$/.test(i)}var On,BA=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function pi(i,n){return-1!=i.indexOf(n)}function dw(i,n){return i<n?-1:i>n?1:0}e:{var Rm=ut.navigator;if(Rm){var hw=Rm.userAgent;if(hw){On=hw;break e}}On=""}function xm(i,n,r){for(var a in i)n.call(r,i[a],a,i)}function Om(i){var n={};for(var r in i)n[r]=i[r];return n}var wv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mm(i,n){for(var r,a,l=1;l<arguments.length;l++){for(r in a=arguments[l])i[r]=a[r];for(var f=0;f<wv.length;f++)r=wv[f],Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}}function Cv(i){return Cv[" "](i),i}Cv[" "]=El;var Pm,i,fw=pi(On,"Opera"),_d=pi(On,"Trident")||pi(On,"MSIE"),qA=pi(On,"Edge"),Zf=qA||_d,pw=pi(On,"Gecko")&&!(pi(On.toLowerCase(),"webkit")&&!pi(On,"Edge"))&&!(pi(On,"Trident")||pi(On,"MSIE"))&&!pi(On,"Edge"),gw=pi(On.toLowerCase(),"webkit")&&!pi(On,"Edge");function mw(){var i=ut.document;return i?i.documentMode:void 0}e:{var wl="",Za=(i=On,pw?/rv:([^\);]+)(\)|;)/.exec(i):qA?/Edge\/([\d\.]+)/.exec(i):_d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):gw?/WebKit\/(\S+)/.exec(i):fw?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Za&&(wl=Za?Za[1]:""),_d){var jf=mw();if(null!=jf&&jf>parseFloat(wl)){Pm=String(jf);break e}}Pm=wl}var vd={};function Bf(){return n=vd,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){for(var i=0,n=BA(String(Pm)).split("."),r=BA("9").split("."),a=Math.max(n.length,r.length),l=0;0==i&&l<a;l++){var f=n[l]||"",m=r[l]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==f[0].length&&0==m[0].length)break;i=dw(0==f[1].length?0:parseInt(f[1],10),0==m[1].length?0:parseInt(m[1],10))||dw(0==f[2].length,0==m[2].length)||dw(f[2],m[2]),f=f[3],m=m[3]}while(0==i)}return 0<=i}();var n}var _w=ut.document&&_d&&(mw()||parseInt(Pm,10))||void 0,vw=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ut.addEventListener("test",El,n),ut.removeEventListener("test",El,n)}catch(r){}return i}();function ir(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function Cl(i,n){if(ir.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(pw){e:{try{Cv(n.nodeName);var l=!0;break e}catch(f){}l=!1}l||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:bw[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Cl.Z.h.call(this)}}ir.prototype.h=function(){this.defaultPrevented=!0},yr(Cl,ir);var bw={2:"touch",3:"pen",4:"mouse"};Cl.prototype.h=function(){Cl.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ba="closure_listenable_"+(1e6*Math.random()|0),HA=0;function Ew(i,n,r,a,l){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!a,this.ia=l,this.key=++HA,this.ca=this.fa=!1}function Iv(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function qf(i){this.src=i,this.g={},this.h=0}function km(i,n){var r=n.type;if(r in i.g){var f,a=i.g[r],l=UA(a,n);(f=0<=l)&&Array.prototype.splice.call(a,l,1),f&&(Iv(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Tv(i,n,r,a){for(var l=0;l<i.length;++l){var f=i[l];if(!f.ca&&f.listener==n&&f.capture==!!r&&f.ia==a)return l}return-1}qf.prototype.add=function(i,n,r,a,l){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var m=Tv(i,n,a,l);return-1<m?(n=i[m],r||(n.fa=!1)):((n=new Ew(n,this.src,f,!!a,l)).fa=r,i.push(n)),n};var Fm="closure_lm_"+(1e6*Math.random()|0),Av={};function ww(i,n,r,a,l){if(a&&a.once)return Cw(i,n,r,a,l);if(Array.isArray(n)){for(var f=0;f<n.length;f++)ww(i,n[f],r,a,l);return null}return r=Lm(r),i&&i[Ba]?i.N(n,r,Sm(a)?!!a.capture:!!a,l):gi(i,n,r,!1,a,l)}function gi(i,n,r,a,l,f){if(!n)throw Error("Invalid event type");var m=Sm(l)?!!l.capture:!!l,w=Sv(i);if(w||(i[Fm]=w=new qf(i)),(r=w.add(n,r,a,m,f)).proxy)return r;if(a=function(){var n=yN;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=a,a.src=i,a.listener=r,i.addEventListener)vw||(l=m),void 0===l&&(l=!1),i.addEventListener(n.toString(),a,l);else if(i.attachEvent)i.attachEvent(Dv(n.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return r}function Cw(i,n,r,a,l){if(Array.isArray(n)){for(var f=0;f<n.length;f++)Cw(i,n[f],r,a,l);return null}return r=Lm(r),i&&i[Ba]?i.O(n,r,Sm(a)?!!a.capture:!!a,l):gi(i,n,r,!0,a,l)}function GA(i,n,r,a,l){if(Array.isArray(n))for(var f=0;f<n.length;f++)GA(i,n[f],r,a,l);else a=Sm(a)?!!a.capture:!!a,r=Lm(r),i&&i[Ba]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=Tv(f=i.g[n],r,a,l))&&(Iv(f[r]),Array.prototype.splice.call(f,r,1),0==f.length&&(delete i.g[n],i.h--))):i&&(i=Sv(i))&&(n=i.g[n.toString()],i=-1,n&&(i=Tv(n,r,a,l)),(r=-1<i?n[i]:null)&&Iw(r))}function Iw(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[Ba])km(n.i,i);else{var r=i.type,a=i.proxy;n.removeEventListener?n.removeEventListener(r,a,i.capture):n.detachEvent?n.detachEvent(Dv(r),a):n.addListener&&n.removeListener&&n.removeListener(a),(r=Sv(n))?(km(r,i),0==r.h&&(r.src=null,n[Fm]=null)):Iv(i)}}}function Dv(i){return i in Av?Av[i]:Av[i]="on"+i}function yN(i,n){if(i.ca)i=!0;else{n=new Cl(n,this);var r=i.listener,a=i.ia||i.src;i.fa&&Iw(i),i=r.call(a,n)}return i}function Sv(i){return(i=i[Fm])instanceof qf?i:null}var Hf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lm(i){return"function"==typeof i?i:(i[Hf]||(i[Hf]=function(n){return i.handleEvent(n)}),i[Hf])}function sr(){oo.call(this),this.i=new qf(this),this.P=this,this.I=null}function _r(i,n){var r,a=i.I;if(a)for(r=[];a;a=a.I)r.push(a);if(i=i.P,a=n.type||n,"string"==typeof n)n=new ir(n,i);else if(n instanceof ir)n.target=n.target||i;else{var l=n;Mm(n=new ir(a,i),l)}if(l=!0,r)for(var f=r.length-1;0<=f;f--){var m=n.g=r[f];l=Vm(m,a,!0,n)&&l}if(l=Vm(m=n.g=i,a,!0,n)&&l,l=Vm(m,a,!1,n)&&l,r)for(f=0;f<r.length;f++)l=Vm(m=n.g=r[f],a,!1,n)&&l}function Vm(i,n,r,a){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,f=0;f<n.length;++f){var m=n[f];if(m&&!m.ca&&m.capture==r){var w=m.listener,T=m.ia||m.src;m.fa&&km(i.i,m),l=!1!==w.call(T,a)&&l}}return l&&!a.defaultPrevented}yr(sr,oo),sr.prototype[Ba]=!0,sr.prototype.removeEventListener=function(i,n,r,a){GA(this,i,n,r,a)},sr.prototype.M=function(){if(sr.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],a=0;a<r.length;a++)Iv(r[a]);delete i.g[n],i.h--}}this.I=null},sr.prototype.N=function(i,n,r,a){return this.i.add(String(i),n,!1,r,a)},sr.prototype.O=function(i,n,r,a){return this.i.add(String(i),n,!0,r,a)};var Um=ut.JSON.stringify;function zA(){var i=Sw,n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var Nv,Tw=function(){function i(){this.h=this.g=null}return i.prototype.add=function(n,r){var a=Aw.get();a.set(n,r),this.h?this.h.next=a:this.g=a,this.h=a},i}(),Aw=new(function(){function i(n,r){this.i=n,this.j=r,this.h=0,this.g=null}return i.prototype.get=function(){var n;return 0<this.h?(this.h--,this.g=(n=this.g).next,n.next=null):n=this.i(),n},i}())(function(){return new WA},function(i){return i.reset()}),WA=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(n,r){this.h=n,this.g=r,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function Dw(i){ut.setTimeout(function(){throw i},0)}function Zm(i,n){Nv||function(){var i=ut.Promise.resolve(void 0);Nv=function(){i.then(KA)}}(),$f||(Nv(),$f=!0),Sw.add(i,n)}var $f=!1,Sw=new Tw;function KA(){for(var i;i=zA();){try{i.h.call(i.g)}catch(r){Dw(r)}var n=Aw;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}$f=!1}function Rv(i,n){sr.call(this),this.h=i||1,this.g=n||ut,this.j=rr(this.kb,this),this.l=Date.now()}function jm(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function xv(i,n,r){if("function"==typeof i)r&&(i=rr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=rr(i.handleEvent,i)}return 2147483647<Number(n)?-1:ut.setTimeout(i,n||0)}function Nw(i){i.g=xv(function(){i.g=null,i.i&&(i.i=!1,Nw(i))},i.j);var n=i.h;i.h=null,i.m.apply(null,n)}yr(Rv,sr),(qe=Rv.prototype).da=!1,qe.S=null,qe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_r(this,"tick"),this.da&&(jm(this),this.start()))}},qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){Rv.Z.M.call(this),jm(this),delete this.g};var YA=function(i){function n(r,a){var l=i.call(this)||this;return l.m=r,l.j=a,l.h=null,l.i=!1,l.g=null,l}return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}Dm(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,i),n.prototype.l=function(r){this.h=arguments,this.g?this.i=!0:Nw(this)},n.prototype.M=function(){i.prototype.M.call(this),this.g&&(ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},n}(oo);function Il(i){oo.call(this),this.h=i,this.g={}}yr(Il,oo);var Rw=[];function xw(i,n,r,a){Array.isArray(r)||(r&&(Rw[0]=r.toString()),r=Rw);for(var l=0;l<r.length;l++){var f=ww(n,r[l],a||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function Gf(i){xm(i.g,function(n,r){this.g.hasOwnProperty(r)&&Iw(n)},i),i.g={}}function bd(){this.g=!0}function qa(i,n,r,a){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var a=r[i];if(!(2>a.length)){var l=a[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var m=1;m<l.length;m++)l[m]=""}}}return Um(r)}catch(w){return n}}(i,r)+(a?" "+a:"")})}Il.prototype.M=function(){Il.Z.M.call(this),Gf(this)},Il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bd.prototype.Aa=function(){this.g=!1},bd.prototype.info=function(){};var Tl={},Bm=null;function Mv(){return Bm=Bm||new sr}function Mw(i){ir.call(this,Tl.Ma,i)}function Ed(i){var n=Mv();_r(n,new Mw(n,i))}function Pv(i,n){ir.call(this,Tl.STAT_EVENT,i),this.stat=n}function Pr(i){var n=Mv();_r(n,new Pv(n,i))}function kv(i,n){ir.call(this,Tl.Na,i),this.size=n}function wd(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ut.setTimeout(function(){i()},n)}Tl.Ma="serverreachability",yr(Mw,ir),Tl.STAT_EVENT="statevent",yr(Pv,ir),Tl.Na="timingevent",yr(kv,ir);var ns={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fv(){}function XA(){}Fv.prototype.h=null;var Dl,uo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qm(){ir.call(this,"d")}function Al(){ir.call(this,"c")}function Hm(){}function Sl(i,n,r,a){this.l=i,this.j=n,this.m=r,this.X=a||1,this.V=new Il(this),this.P=eD,this.W=new Rv(i=Zf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lv}function Lv(){this.i=null,this.g="",this.h=!1}yr(qm,ir),yr(Al,ir),yr(Hm,Fv),Hm.prototype.g=function(){return new XMLHttpRequest},Hm.prototype.i=function(){return{}},Dl=new Hm;var eD=45e3,$m={},Gm={};function Wf(i,n,r){i.K=1,i.v=Yf(vr(n)),i.s=r,i.U=!0,kw(i,null)}function kw(i,n){i.F=Date.now(),Id(i),i.A=vr(i.v);var r=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),Gw(r.h,"t",a),i.C=0,r=i.l.H,i.h=new Lv,i.g=nb(i.l,r?n:null,!i.s),0<i.O&&(i.L=new YA(rr(i.Ia,i,i.g),i.O)),xw(i.V,i.g,"readystatechange",i.gb),n=i.H?Om(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),Ed(1),function(i,n,r,a,l,f){i.info(function(){if(i.g)if(f)for(var m="",w=f.split("&"),T=0;T<w.length;T++){var N=w[T].split("=");if(1<N.length){var R=N[0];N=N[1];var U=R.split("_");m=2<=U.length&&"type"==U[1]?m+(R+"=")+N+"&":m+(R+"=redacted&")}}else m=null;else m=f;return"XMLHTTP REQ ("+a+") [attempt "+l+"]: "+n+"\n"+r+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Fw(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Vv(i,n,r){for(var l,a=!0;!i.I&&i.C<r.length;){if((l=Cd(i,r))==Gm){4==n&&(i.o=4,Pr(14),a=!1),qa(i.j,i.m,null,"[Incomplete Response]");break}if(l==$m){i.o=4,Pr(15),qa(i.j,i.m,r,"[Invalid Chunk]"),a=!1;break}qa(i.j,i.m,l,null),Uv(i,l)}Fw(i)&&l!=Gm&&l!=$m&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Pr(16),a=!1),i.i=i.i&&a,a?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Wa(n),n.L=!0,Pr(11))):(qa(i.j,i.m,r,"[Invalid Chunked Response]"),Nl(i),lo(i))}function Cd(i,n){var r=i.C,a=n.indexOf("\n",r);return-1==a?Gm:(r=Number(n.substring(r,a)),isNaN(r)?$m:(a+=1)+r>n.length?Gm:(n=n.substr(a,r),i.C=a+r,n))}function Id(i){i.Y=Date.now()+i.P,Lw(i,i.P)}function Lw(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=wd(rr(i.eb,i),n)}function zm(i){i.B&&(ut.clearTimeout(i.B),i.B=null)}function lo(i){0==i.l.G||i.I||Ll(i.l,i)}function Nl(i){zm(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,jm(i.W),Gf(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function Uv(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||Jf(r.i,i)))if(r.I=i.N,!i.J&&Jf(r.i,i)&&3==r.G){try{var a=r.Ca.g.parse(n)}catch(Be){a=null}if(Array.isArray(a)&&3==a.length){var l=a;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=wd(rr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;ea(r),Kn(r)}za(r),Pr(18)}if(1>=sD(r.i)&&r.ka){try{r.ka()}catch(Be){}r.ka=void 0}}else Ka(r,11)}else if((i.J||r.g==i)&&ea(r),!Ev(n))for(l=r.Ca.g.parse(n),n=0;n<l.length;n++){var f=l[n];if(r.U=f[0],f=f[1],2==r.G)if("c"==f[0]){r.J=f[1],r.la=f[2];var m=f[3];null!=m&&(r.ma=m,r.h.info("VER="+r.ma));var w=f[4];null!=w&&(r.za=w,r.h.info("SVER="+r.za));var T=f[5];null!=T&&"number"==typeof T&&0<T&&(r.K=a=1.5*T,r.h.info("backChannelRequestTimeoutMs_="+a)),a=r;var N=i.g;if(N){var R=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var U=a.i;!U.g&&(pi(R,"spdy")||pi(R,"quic")||pi(R,"h2"))&&(U.j=U.l,U.g=new Set,U.h&&($v(U,U.h),U.h=null))}if(a.D){var Y=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(a.sa=Y,bn(a.F,a.D,Y))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var z=i;if((a=r).oa=tb(a,a.H?a.la:null,a.W),z.J){Gv(a.i,z);var _e=z,Fe=a.K;Fe&&_e.setTimeout(Fe),_e.B&&(zm(_e),Id(_e)),a.g=z}else kl(a);0<r.l.length&&ti(r)}else"stop"!=f[0]&&"close"!=f[0]||Ka(r,7);else 3==r.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Ka(r,7):Ol(r):"noop"!=f[0]&&r.j&&r.j.wa(f),r.A=0)}Ed(4)}catch(Be){}}function Zv(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(Vf(i)||"string"==typeof i)ZA(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Vf(i)||"string"==typeof i){r=[];for(var a=i.length,l=0;l<a;l++)r.push(l)}else for(l in r=[],a=0,i)r[a++]=l;l=(a=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Vf(i)){for(var n=[],r=i.length,a=0;a<r;a++)n.push(i[a]);return n}for(a in n=[],r=0,i)n[r++]=i[a];return n}(i)).length;for(var f=0;f<l;f++)n.call(void 0,a[f],r&&r[f],i)}}function Kf(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var a=0;a<r;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof Kf)for(r=i.T(),a=0;a<r.length;a++)this.set(r[a],i.get(r[a]));else for(a in i)this.set(a,i[a])}function jv(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var a=i.g[n];Ha(i.h,a)&&(i.g[r++]=a),n++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=n=0;n<i.g.length;)Ha(l,a=i.g[n])||(i.g[r++]=a,l[a]=1),n++;i.g.length=r}}function Ha(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(qe=Sl.prototype).setTimeout=function(i){this.P=i},qe.gb=function(i){i=i.target;var n=this.L;n&&3==Wn(i)?n.l():this.Ia(i)},qe.Ia=function(i){try{if(i==this.g)e:{var n=Wn(this.g),r=this.g.Da(),a=this.g.ba();if(!(3>n)&&(3!=n||Zf||this.g&&(this.h.h||this.g.ga()||Md(this.g)))){this.I||4!=n||7==r||Ed(8==r||0>=a?3:2),zm(this);var l=this.g.ba();this.N=l;t:if(Fw(this)){var f=Md(this.g);i="";var m=f.length,w=4==Wn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Nl(this),lo(this);var T="";break t}this.h.i=new ut.TextDecoder}for(r=0;r<m;r++)this.h.h=!0,i+=this.h.i.decode(f[r],{stream:w&&r==m-1});f.splice(0,m),this.h.g+=i,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==l,function(i,n,r,a,l,f,m){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+n+"\n"+r+"\n"+f+" "+m})}(this.j,this.u,this.A,this.m,this.X,n,l),this.i){if(this.$&&!this.J){t:{if(this.g){var N,R=this.g;if((N=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ev(N)){var U=N;break t}}U=null}if(!(l=U)){this.i=!1,this.o=3,Pr(12),Nl(this),lo(this);break e}qa(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uv(this,l)}this.U?(Vv(this,n,T),Zf&&this.i&&3==n&&(xw(this.V,this.W,"tick",this.fb),this.W.start())):(qa(this.j,this.m,T,null),Uv(this,T)),4==n&&Nl(this),this.i&&!this.I&&(4==n?Ll(this.l,this):(this.i=!1,Id(this)))}else 400==l&&0<T.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Nl(this),lo(this)}}}catch(Y){}},qe.fb=function(){if(this.g){var i=Wn(this.g),n=this.g.ga();this.C<n.length&&(zm(this),Vv(this,i,n),this.i&&4!=i&&Id(this))}},qe.cancel=function(){this.I=!0,Nl(this)},qe.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Ed(3),Pr(17)),Nl(this),this.o=2,lo(this)):Lw(this,this.Y-i)},(qe=Kf.prototype).R=function(){jv(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},qe.T=function(){return jv(this),this.g.concat()},qe.get=function(i,n){return Ha(this.h,i)?this.h[i]:n},qe.set=function(i,n){Ha(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},qe.forEach=function(i,n){for(var r=this.T(),a=0;a<r.length;a++){var l=r[a],f=this.get(l);i.call(n,f,l,this)}};var Zt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Td(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Td){this.g=void 0!==n?n:i.g,Ad(this,i.j),this.s=i.s,Dd(this,i.i),qv(this,i.m),this.l=i.l,n=i.h;var r=new Rd;r.i=n.i,n.g&&(r.g=new Kf(n.g),r.h=n.h),Vw(this,r),this.o=i.o}else i&&(r=String(i).match(Zt))?(this.g=!!n,Ad(this,r[1]||"",!0),this.s=Sd(r[2]||""),Dd(this,r[3]||"",!0),qv(this,r[4]),this.l=Sd(r[5]||"",!0),Vw(this,r[6]||"",!0),this.o=Sd(r[7]||"")):(this.g=!!n,this.h=new Rd(null,this.g))}function vr(i){return new Td(i)}function Ad(i,n,r){i.j=r?Sd(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function Dd(i,n,r){i.i=r?Sd(n,!0):n}function qv(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function Vw(i,n,r){n instanceof Rd?(i.h=n,function(i,n){n&&!i.j&&($a(i),i.i=null,i.g.forEach(function(r,a){var l=a.toLowerCase();a!=l&&(Hw(this,a),Gw(this,l,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Qf(n,Bw)),i.h=new Rd(n,i.g))}function bn(i,n,r){i.h.set(n,r)}function Yf(i){return bn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Sd(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Qf(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,nD),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function nD(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Td.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Qf(n,Nd,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Qf(n,Nd,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Qf(r,"/"==r.charAt(0)?jw:Hv,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Qf(r,qw)),i.join("")};var Nd=/[#\/\?@]/g,Hv=/[#\?:]/g,jw=/[#\?]/g,Bw=/[#\?@]/g,qw=/#/g;function Rd(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function $a(i){i.g||(i.g=new Kf,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var a=i[r].indexOf("="),l=null;if(0<=a){var f=i[r].substring(0,a);l=i[r].substring(a+1)}else f=i[r];n(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function Hw(i,n){$a(i),n=Rl(i,n),Ha(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Ha((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&jv(i)))}function $w(i,n){return $a(i),n=Rl(i,n),Ha(i.g.h,n)}function Gw(i,n,r){Hw(i,n),0<r.length&&(i.i=null,i.g.set(Rl(i,n),cw(r)),i.h+=r.length)}function Rl(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}(qe=Rd.prototype).add=function(i,n){$a(this),this.i=null,i=Rl(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},qe.forEach=function(i,n){$a(this),this.g.forEach(function(r,a){ZA(r,function(l){i.call(n,l,a,this)},this)},this)},qe.T=function(){$a(this);for(var i=this.g.R(),n=this.g.T(),r=[],a=0;a<n.length;a++)for(var l=i[a],f=0;f<l.length;f++)r.push(n[a]);return r},qe.R=function(i){$a(this);var n=[];if("string"==typeof i)$w(this,i)&&(n=jA(n,this.g.get(Rl(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=jA(n,i[r])}return n},qe.set=function(i,n){return $a(this),this.i=null,$w(this,i=Rl(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},qe.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var a=n[r],l=encodeURIComponent(String(a));a=this.R(a);for(var f=0;f<a.length;f++){var m=l;""!==a[f]&&(m+="="+encodeURIComponent(String(a[f]))),i.push(m)}}return this.i=i.join("&")};var zw=function(n,r){this.h=n,this.g=r};function Ww(i){this.l=i||rD,i=ut.PerformanceNavigationTiming?0<(i=ut.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ut.g&&ut.g.Ea&&ut.g.Ea()&&ut.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rD=10;function iD(i){return!!i.h||!!i.g&&i.g.size>=i.j}function sD(i){return i.h?1:i.g?i.g.size:0}function Jf(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function $v(i,n){i.g?i.g.add(n):i.h=n}function Gv(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function zv(i){var n,r;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var a=i.i;try{for(var l=FA(i.g.values()),f=l.next();!f.done;f=l.next())a=a.concat(f.value.D)}catch(w){n={error:w}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return a}return cw(i.i)}function Kw(){}function As(){this.g=new Kw}function vN(i,n,r){var a=r||"";try{Zv(i,function(l,f){var m=l;Sm(l)&&(m=Um(l)),n.push(a+f+"="+encodeURIComponent(m))})}catch(l){throw n.push(a+"type="+encodeURIComponent("_badmap")),l}}function Wv(i,n,r,a,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(a)}catch(f){}}function xd(i){this.l=i.$b||null,this.j=i.ib||!1}function Xf(i,n){sr.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=Wm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ww.prototype.cancel=function(){var i,n;if(this.i=zv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var r=FA(this.g.values()),a=r.next();!a.done;a=r.next())a.value.cancel()}catch(f){i={error:f}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}this.g.clear()}},Kw.prototype.stringify=function(i){return ut.JSON.stringify(i,void 0)},Kw.prototype.parse=function(i){return ut.JSON.parse(i,void 0)},yr(xd,Fv),xd.prototype.g=function(){return new Xf(this.l,this.j)},xd.prototype.i=function(i){return function(){return i}}({}),yr(Xf,sr);var Wm=0;function Yw(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Km(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Od(i)}function Od(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(qe=Xf.prototype).open=function(i,n){if(this.readyState!=Wm)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,Od(this)},qe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||ut).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Km(this)),this.readyState=Wm},qe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Od(this)),this.g&&(this.readyState=3,Od(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ut.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yw(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},qe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?Km(this):Od(this),3==this.readyState&&Yw(this)}},qe.Ua=function(i){this.g&&(this.response=this.responseText=i,Km(this))},qe.Ta=function(i){this.g&&(this.response=i,Km(this))},qe.ha=function(){this.g&&Km(this)},qe.setRequestHeader=function(i,n){this.v.append(i,n)},qe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],n=this.h.entries(),r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(Xf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Kv=ut.JSON.parse;function Bn(i){sr.call(this),this.headers=new Kf,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ym,this.K=this.L=!1}yr(Bn,sr);var Ym="",oD=/^https?$/i,aD=["POST","PUT"];function lD(i){return"content-type"==i.toLowerCase()}function Qw(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,Jw(i),Xo(i)}function Jw(i){i.D||(i.D=!0,_r(i,"complete"),_r(i,"error"))}function ep(i){if(i.h&&void 0!==Ts&&(!i.C[1]||4!=Wn(i)||2!=i.ba()))if(i.v&&4==Wn(i))xv(i.Fa,0,i);else if(_r(i,"readystatechange"),4==Wn(i)){i.h=!1;try{var a,n=i.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(a=r)){var l;if(l=0===n){var f=String(i.H).match(Zt)[1]||null;if(!f&&ut.self&&ut.self.location){var m=ut.self.location.protocol;f=m.substr(0,m.length-1)}l=!oD.test(f?f.toLowerCase():"")}a=l}if(a)_r(i,"complete"),_r(i,"success");else{i.m=6;try{var w=2<Wn(i)?i.g.statusText:""}catch(T){w=""}i.j=w+" ["+i.ba()+"]",Jw(i)}}finally{Xo(i)}}}function Xo(i,n){if(i.g){Yv(i);var r=i.g,a=i.C[0]?El:null;i.g=null,i.C=null,n||_r(i,"ready");try{r.onreadystatechange=a}catch(l){}}}function Yv(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ut.clearTimeout(i.A),i.A=null)}function Wn(i){return i.g?i.g.readyState:0}function Md(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ym:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function Qv(i,n,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=function(i){var n="";return xm(i,function(r,a){n+=a,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):bn(i,n,r))}function xl(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function Ds(i){this.za=0,this.l=[],this.h=new bd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xl("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xl("baseRetryDelayMs",5e3,i),this.$a=xl("retryDelaySeedMs",1e4,i),this.Ya=xl("forwardChannelMaxRetries",2,i),this.ra=xl("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Ww(i&&i.concurrentRequestLimit),this.Ca=new As,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Ol(i){if(Ga(i),3==i.G){var n=i.V++,r=vr(i.F);bn(r,"SID",i.J),bn(r,"RID",n),bn(r,"TYPE","terminate"),co(i,r),(n=new Sl(i,i.h,n,void 0)).K=2,n.v=Yf(vr(r)),r=!1,ut.navigator&&ut.navigator.sendBeacon&&(r=ut.navigator.sendBeacon(n.v.toString(),"")),!r&&ut.Image&&((new Image).src=n.v,r=!0),r||(n.g=nb(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Id(n)}eb(i)}function Kn(i){i.g&&(Wa(i),i.g.cancel(),i.g=null)}function Ga(i){Kn(i),i.u&&(ut.clearTimeout(i.u),i.u=null),ea(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ut.clearTimeout(i.m),i.m=null)}function Pd(i,n){i.l.push(new zw(i.Za++,n)),3==i.G&&ti(i)}function ti(i){iD(i.i)||i.m||(i.m=!0,Zm(i.Ha,i),i.C=0)}function Ml(i,n){var r;r=n?n.m:i.V++;var a=vr(i.F);bn(a,"SID",i.J),bn(a,"RID",r),bn(a,"AID",i.U),co(i,a),i.o&&i.s&&Qv(a,i.o,i.s),r=new Sl(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=Pl(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),$v(i.i,r),Wf(r,a,n)}function co(i,n){i.j&&Zv({},function(r,a){bn(n,a,r)})}function Pl(i,n,r){r=Math.min(i.l.length,r);var a=i.j?rr(i.j.Oa,i.j,i):null;e:for(var l=i.l,f=-1;;){var m=["count="+r];-1==f?0<r?m.push("ofs="+(f=l[0].h)):f=0:m.push("ofs="+f);for(var w=!0,T=0;T<r;T++){var N=l[T].h,R=l[T].g;if(0>(N-=f))f=Math.max(0,l[T].h-100),w=!1;else try{vN(R,m,"req"+N+"_")}catch(U){a&&a(R)}}if(w){a=m.join("&");break e}}return i=i.l.splice(0,r),n.D=i,a}function kl(i){i.g||i.u||(i.Y=1,Zm(i.Ga,i),i.A=0)}function za(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=wd(rr(i.Ga,i),Xv(i,i.A)),i.A++,0))}function Wa(i){null!=i.B&&(ut.clearTimeout(i.B),i.B=null)}function Fl(i){i.g=new Sl(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=vr(i.oa);bn(n,"RID","rpc"),bn(n,"SID",i.J),bn(n,"CI",i.N?"0":"1"),bn(n,"AID",i.U),co(i,n),bn(n,"TYPE","xmlhttp"),i.o&&i.s&&Qv(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Yf(vr(n)),r.s=null,r.U=!0,kw(r,i)}function ea(i){null!=i.v&&(ut.clearTimeout(i.v),i.v=null)}function Ll(i,n){var r=null;if(i.g==n){ea(i),Wa(i),i.g=null;var a=2}else{if(!Jf(i.i,n))return;r=n.D,Gv(i.i,n),a=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==a){r=n.s?n.s.length:0,n=Date.now()-n.F;var l=i.C;_r(a=Mv(),new kv(a,r,n,l)),ti(i)}else kl(i);else if(3==(l=n.o)||0==l&&0<i.I||!(1==a&&function(i,n){return!(sD(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=wd(rr(i.Ha,i,n),Xv(i,i.C)),i.C++,0)))}(i,n)||2==a&&za(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),l){case 1:Ka(i,5);break;case 4:Ka(i,10);break;case 3:Ka(i,6);break;default:Ka(i,2)}}function Xv(i,n){var r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function Ka(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var a=rr(i.jb,i);r||(r=new Td("//www.google.com/images/cleardot.gif"),ut.location&&"http"==ut.location.protocol||Ad(r,"https"),Yf(r)),function(i,n){var r=new bd;if(ut.Image){var a=new Image;a.onload=Uf(Wv,r,a,"TestLoadImage: loaded",!0,n),a.onerror=Uf(Wv,r,a,"TestLoadImage: error",!1,n),a.onabort=Uf(Wv,r,a,"TestLoadImage: abort",!1,n),a.ontimeout=Uf(Wv,r,a,"TestLoadImage: timeout",!1,n),ut.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else n(!1)}(r.toString(),a)}else Pr(2);i.G=0,i.j&&i.j.va(n),eb(i),Ga(i)}function eb(i){i.G=0,i.I=-1,i.j&&((0!=zv(i.i).length||0!=i.l.length)&&(i.i.i.length=0,cw(i.l),i.l.length=0),i.j.ua())}function tb(i,n,r){var a=function(i){return i instanceof Td?vr(i):new Td(i,void 0)}(r);if(""!=a.i)n&&Dd(a,n+"."+a.i),qv(a,a.m);else{var l=ut.location;a=function(i,n,r,a){var l=new Td(null,void 0);return i&&Ad(l,i),n&&Dd(l,n),r&&qv(l,r),a&&(l.l=a),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&xm(i.aa,function(f,m){bn(a,m,f)}),r=i.sa,(n=i.D)&&r&&bn(a,n,r),bn(a,"VER",i.ma),co(i,a),a}function nb(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Bn(r&&i.Ba&&!i.qa?new xd({ib:!0}):i.qa)).L=i.H,n}function rb(){}function tp(){if(_d&&!(10<=Number(_w)))throw Error("Environmental error: no available transport.")}function mi(i,n){sr.call(this),this.g=new Ds(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!Ev(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Ev(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new Vl(this)}function ib(i){qm.call(this);var n=i.__sm__;if(n){e:{for(var r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function Xw(){Al.call(this),this.status=1}function Vl(i){this.g=i}(qe=Bn.prototype).ea=function(i,n,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dl.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:Dl),this.g.onreadystatechange=rr(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(f){return void Qw(this,f)}i=r||"";var l=new Kf(this.headers);a&&Zv(a,function(f,m){l.set(m,f)}),a=function(i){e:{for(var n=lD,r=i.length,a="string"==typeof i?i.split(""):i,l=0;l<r;l++)if(l in a&&n.call(void 0,a[l],l,i)){n=l;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(l.T()),r=ut.FormData&&i instanceof ut.FormData,!(0<=UA(aD,n))||a||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(f,m){this.g.setRequestHeader(m,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yv(this),0<this.B&&((this.K=function(i){return _d&&Bf()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.pa,this)):this.A=xv(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){Qw(this,f)}},qe.pa=function(){void 0!==Ts&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_r(this,"timeout"),this.abort(8))},qe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,_r(this,"complete"),_r(this,"abort"),Xo(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xo(this,!0)),Bn.Z.M.call(this)},qe.Fa=function(){this.s||(this.F||this.v||this.l?ep(this):this.cb())},qe.cb=function(){ep(this)},qe.ba=function(){try{return 2<Wn(this)?this.g.status:-1}catch(i){return-1}},qe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},qe.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),Kv(n)}},qe.Da=function(){return this.m},qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=Ds.prototype).ma=8,qe.G=1,qe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},qe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var n=new Sl(this,this.h,i,void 0),r=this.s;if(this.P&&(r?Mm(r=Om(r),this.P):r=this.P),null===this.o&&(n.H=r),this.ja)e:{for(var a=0,l=0;l<this.l.length;l++){var f=this.l[l];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(a+=f)){a=l;break e}if(4096===a||l===this.l.length-1){a=l+1;break e}}a=1e3}else a=1e3;a=Pl(this,n,a),bn(l=vr(this.F),"RID",i),bn(l,"CVER",22),this.D&&bn(l,"X-HTTP-Session-Id",this.D),co(this,l),this.o&&r&&Qv(l,this.o,r),$v(this.i,n),this.Ra&&bn(l,"TYPE","init"),this.ja?(bn(l,"$req",a),bn(l,"SID","null"),n.$=!0,Wf(n,l,null)):Wf(n,l,a),this.G=2}}else 3==this.G&&(i?Ml(this,i):0==this.l.length||iD(this.i)||Ml(this))},qe.Ga=function(){if(this.u=null,Fl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=wd(rr(this.bb,this),i)}},qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pr(10),Kn(this),Fl(this))},qe.ab=function(){null!=this.v&&(this.v=null,Kn(this),za(this),Pr(19))},qe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Pr(2)):(this.h.info("Failed to ping google.com"),Pr(1))},(qe=rb.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Oa=function(){},tp.prototype.g=function(i,n){return new mi(i,n)},yr(mi,sr),mi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Zm(rr(i.hb,i,n))),Pr(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=tb(i,null,i.W),ti(i)},mi.prototype.close=function(){Ol(this.g)},mi.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,Pd(this.g,n)}else this.v?((n={}).__data__=Um(i),Pd(this.g,n)):Pd(this.g,i)},mi.prototype.M=function(){this.g.j=null,delete this.j,Ol(this.g),delete this.g,mi.Z.M.call(this)},yr(ib,qm),yr(Xw,Al),yr(Vl,rb),Vl.prototype.xa=function(){_r(this.g,"a")},Vl.prototype.wa=function(i){_r(this.g,new ib(i))},Vl.prototype.va=function(i){_r(this.g,new Xw(i))},Vl.prototype.ua=function(){_r(this.g,"b")},tp.prototype.createWebChannel=tp.prototype.g,mi.prototype.send=mi.prototype.u,mi.prototype.open=mi.prototype.m,mi.prototype.close=mi.prototype.close,ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,zf.COMPLETE="complete",XA.EventType=uo,uo.OPEN="a",uo.CLOSE="b",uo.ERROR="c",uo.MESSAGE="d",sr.prototype.listen=sr.prototype.N,Bn.prototype.listenOnce=Bn.prototype.O,Bn.prototype.getLastError=Bn.prototype.La,Bn.prototype.getLastErrorCode=Bn.prototype.Da,Bn.prototype.getStatus=Bn.prototype.ba,Bn.prototype.getResponseJson=Bn.prototype.Qa,Bn.prototype.getResponseText=Bn.prototype.ga,Bn.prototype.send=Bn.prototype.ea;var np=ns,nC=zf,dD=Tl,sb_PROXY=10,sb_NOPROXY=11,ob=xd,rp=XA,ab=Bn;class kr{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let kd="9.0.2";const ta=new ei.Yd("@firebase/firestore");function rC(){return ta.logLevel}function ke(i,...n){if(ta.logLevel<=ei.in.DEBUG){const r=n.map(ub);ta.debug(`Firestore (${kd}): ${i}`,...r)}}function qn(i,...n){if(ta.logLevel<=ei.in.ERROR){const r=n.map(ub);ta.error(`Firestore (${kd}): ${i}`,...r)}}function Qm(i,...n){if(ta.logLevel<=ei.in.WARN){const r=n.map(ub);ta.warn(`Firestore (${kd}): ${i}`,...r)}}function ub(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function We(i="Unexpected state"){const n=`FIRESTORE (${kd}) INTERNAL ASSERTION FAILED: `+i;throw qn(n),new Error(n)}function it(i,n){i||We()}function Ze(i,n){return i}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class iC{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class sC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(kr.UNAUTHENTICATED))}shutdown(){}}class IN{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class hD{constructor(n){this.t=n,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var a=this;let l=this.i;const f=N=>this.i!==l?(l=this.i,r(N)):Promise.resolve();let m=new br;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new br,n.enqueueRetryable(()=>f(this.currentUser))};const w=()=>{const N=m;n.enqueueRetryable((0,we.Z)(function*(){yield N.promise,yield f(a.currentUser)}))},T=N=>{ke("FirebaseCredentialsProvider","Auth detected"),this.auth=N,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(N=>T(N)),setTimeout(()=>{if(!this.auth){const N=this.t.getImmediate({optional:!0});N?T(N):(ke("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new br)}},0),w()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==n?(ke("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(it("string"==typeof a.accessToken),new iC(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return it(null===n||"string"==typeof n),new kr(n)}}class Fd{constructor(n,r,a){this.h=n,this.l=r,this.m=a,this.type="FirstParty",this.user=kr.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class fD{constructor(n,r,a){this.h=n,this.l=r,this.m=a}getToken(){return Promise.resolve(new Fd(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yi{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.g(a),this.p=a=>r.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function pD(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}yi.T=-1;class cb{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const l=pD(40);for(let f=0;f<l.length;++f)a.length<20&&l[f]<r&&(a+=n.charAt(l[f]%n.length))}return a}}function Tt(i,n){return i<n?-1:i>n?1:0}function Ld(i,n,r){return i.length===n.length&&i.every((a,l)=>r(a,n[l]))}function db(i){return i+"\0"}class or{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return or.fromMillis(Date.now())}static fromDate(n){return or.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*r));return new or(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Tt(this.nanoseconds,n.nanoseconds):Tt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(n){this.timestamp=n}static fromTimestamp(n){return new _t(n)}static min(){return new _t(new or(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function oC(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function Ul(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function aC(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class Vd{constructor(n,r,a){void 0===r?r=0:r>n.length&&We(),void 0===a?a=n.length-r:a>n.length-r&&We(),this.segments=n,this.offset=r,this.len=a}get length(){return this.len}isEqual(n){return 0===Vd.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof Vd?n.forEach(a=>{r.push(a)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,a=this.limit();r<a;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const a=Math.min(n.length,r.length);for(let l=0;l<a;l++){const f=n.get(l),m=r.get(l);if(f<m)return-1;if(f>m)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class Vt extends Vd{construct(n,r,a){return new Vt(n,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const a of n){if(a.indexOf("//")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new Vt(r)}static emptyPath(){return new Vt([])}}const uC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Vd{construct(n,r,a){return new ar(n,r,a)}static isValidIdentifier(n){return uC.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(n){const r=[];let a="",l=0;const f=()=>{if(0===a.length)throw new Ne(ye.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let m=!1;for(;l<n.length;){const w=n[l];if("\\"===w){if(l+1===n.length)throw new Ne(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const T=n[l+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new Ne(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=T,l+=2}else"`"===w?(m=!m,l++):"."!==w||m?(a+=w,l++):(f(),l++)}if(f(),m)throw new Ne(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new ar(r)}static emptyPath(){return new ar([])}}class Ya{constructor(n){this.fields=n,n.sort(ar.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return Ld(this.fields,n.fields,(r,a)=>r.isEqual(a))}}class Hn{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new Hn(r)}static fromUint8Array(n){const r=function(a){let l="";for(let f=0;f<a.length;++f)l+=String.fromCharCode(a[f]);return l}(n);return new Hn(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Tt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zl(i){if(it(!!i),"string"==typeof i){let n=0;const r=gD.exec(i);if(it(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),n=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:En(i.seconds),nanos:En(i.nanos)}}function En(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ud(i){return"string"==typeof i?Hn.fromBase64String(i):Hn.fromUint8Array(i)}function ip(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Jm(i){const n=i.mapValue.fields.__previous_value__;return ip(n)?Jm(n):n}function sp(i){const n=Zl(i.mapValue.fields.__local_write_time__.timestampValue);return new or(n.seconds,n.nanos)}function na(i){return null==i}function Zd(i){return 0===i&&1/i==-1/0}function hb(i){return"number"==typeof i&&Number.isInteger(i)&&!Zd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Ke{constructor(n){this.path=n}static fromPath(n){return new Ke(Vt.fromString(n))}static fromName(n){return new Ke(Vt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Vt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return Vt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Ke(new Vt(n.slice()))}}function jl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ip(i)?4:10:We()}function Ss(i,n){const r=jl(i);if(r!==jl(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return sp(i).isEqual(sp(n));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const f=Zl(a.timestampValue),m=Zl(l.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return l=n,Ud(i.bytesValue).isEqual(Ud(l.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(a,l){return En(a.geoPointValue.latitude)===En(l.geoPointValue.latitude)&&En(a.geoPointValue.longitude)===En(l.geoPointValue.longitude)}(i,n);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return En(a.integerValue)===En(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const f=En(a.doubleValue),m=En(l.doubleValue);return f===m?Zd(f)===Zd(m):isNaN(f)&&isNaN(m)}return!1}(i,n);case 9:return Ld(i.arrayValue.values||[],n.arrayValue.values||[],Ss);case 10:return function(a,l){const f=a.mapValue.fields||{},m=l.mapValue.fields||{};if(oC(f)!==oC(m))return!1;for(const w in f)if(f.hasOwnProperty(w)&&(void 0===m[w]||!Ss(f[w],m[w])))return!1;return!0}(i,n);default:return We()}var l}function jd(i,n){return void 0!==(i.values||[]).find(r=>Ss(r,n))}function Bd(i,n){const r=jl(i),a=jl(n);if(r!==a)return Tt(r,a);switch(r){case 0:return 0;case 1:return Tt(i.booleanValue,n.booleanValue);case 2:return function(l,f){const m=En(l.integerValue||l.doubleValue),w=En(f.integerValue||f.doubleValue);return m<w?-1:m>w?1:m===w?0:isNaN(m)?isNaN(w)?0:-1:1}(i,n);case 3:return fb(i.timestampValue,n.timestampValue);case 4:return fb(sp(i),sp(n));case 5:return Tt(i.stringValue,n.stringValue);case 6:return function(l,f){const m=Ud(l),w=Ud(f);return m.compareTo(w)}(i.bytesValue,n.bytesValue);case 7:return function(l,f){const m=l.split("/"),w=f.split("/");for(let T=0;T<m.length&&T<w.length;T++){const N=Tt(m[T],w[T]);if(0!==N)return N}return Tt(m.length,w.length)}(i.referenceValue,n.referenceValue);case 8:return function(l,f){const m=Tt(En(l.latitude),En(f.latitude));return 0!==m?m:Tt(En(l.longitude),En(f.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(l,f){const m=l.values||[],w=f.values||[];for(let T=0;T<m.length&&T<w.length;++T){const N=Bd(m[T],w[T]);if(N)return N}return Tt(m.length,w.length)}(i.arrayValue,n.arrayValue);case 10:return function(l,f){const m=l.fields||{},w=Object.keys(m),T=f.fields||{},N=Object.keys(T);w.sort(),N.sort();for(let R=0;R<w.length&&R<N.length;++R){const U=Tt(w[R],N[R]);if(0!==U)return U;const Y=Bd(m[w[R]],T[N[R]]);if(0!==Y)return Y}return Tt(w.length,N.length)}(i.mapValue,n.mapValue);default:throw We()}}function fb(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return Tt(i,n);const r=Zl(i),a=Zl(n),l=Tt(r.seconds,a.seconds);return 0!==l?l:Tt(r.nanos,a.nanos)}function op(i){return Xm(i)}function Xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const l=Zl(a);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ud(i.bytesValue).toBase64():"referenceValue"in i?Ke.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(a){let l="[",f=!0;for(const m of a.values||[])f?f=!1:l+=",",l+=Xm(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(a){const l=Object.keys(a.fields||{}).sort();let f="{",m=!0;for(const w of l)m?m=!1:f+=",",f+=`${w}:${Xm(a.fields[w])}`;return f+"}"}(i.mapValue):We();var n}function qd(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function ap(i){return!!i&&"integerValue"in i}function ey(i){return!!i&&"arrayValue"in i}function lC(i){return!!i&&"nullValue"in i}function pb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function up(i){return!!i&&"mapValue"in i}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Ul(i.mapValue.fields,(r,a)=>n.mapValue.fields[r]=Bl(a)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Bl(i.arrayValue.values[r]);return n}return Object.assign({},i)}class Er{constructor(n){this.value=n}static empty(){return new Er({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let a=0;a<n.length-1;++a)if(r=(r.mapValue.fields||{})[n.get(a)],!up(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Bl(r)}setAll(n){let r=ar.emptyPath(),a={},l=[];n.forEach((m,w)=>{if(!r.isImmediateParentOf(w)){const T=this.getFieldsMap(r);this.applyChanges(T,a,l),a={},l=[],r=w.popLast()}m?a[w.lastSegment()]=Bl(m):l.push(w.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,a,l)}delete(n){const r=this.field(n.popLast());up(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return Ss(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<n.length;++a){let l=r.mapValue.fields[n.get(a)];up(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[n.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(n,r,a){Ul(r,(l,f)=>n[l]=f);for(const l of a)delete n[l]}clone(){return new Er(Bl(this.value))}}function cC(i){const n=[];return Ul(i.fields,(r,a)=>{const l=new ar([r]);if(up(a)){const f=cC(a.mapValue).fields;if(0===f.length)n.push(l);else for(const m of f)n.push(l.child(m))}else n.push(l)}),new Ya(n)}class wn{constructor(n,r,a,l,f){this.key=n,this.documentType=r,this.version=a,this.data=l,this.documentState=f}static newInvalidDocument(n){return new wn(n,0,_t.min(),Er.empty(),0)}static newFoundDocument(n,r,a){return new wn(n,1,r,a,0)}static newNoDocument(n,r){return new wn(n,2,r,Er.empty(),0)}static newUnknownDocument(n,r){return new wn(n,3,r,Er.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof wn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new wn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mD{constructor(n,r=null,a=[],l=[],f=null,m=null,w=null){this.path=n,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=f,this.startAt=m,this.endAt=w,this.A=null}}function gb(i,n=null,r=[],a=[],l=null,f=null,m=null){return new mD(i,n,r,a,l,f,m)}function Qa(i){const n=Ze(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(a=>function(i){return i.field.canonicalString()+i.op.toString()+op(i.value)}(a)).join(","),r+="|ob:",r+=n.orderBy.map(a=>{return(l=a).field.canonicalString()+l.dir;var l}).join(","),na(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=dp(n.startAt)),n.endAt&&(r+="|ub:",r+=dp(n.endAt)),n.A=r}return n.A}function lp(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!ED(i.orderBy[l],n.orderBy[l]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(a=n.filters[l]).op||!r.field.isEqual(a.field)||!Ss(r.value,a.value))return!1;var r,a;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!yC(i.startAt,n.startAt)&&yC(i.endAt,n.endAt)}function cp(i){return Ke.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Fr extends class{}{constructor(n,r,a){super(),this.field=n,this.op=r,this.value=a}static create(n,r,a){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,a):new fC(n,r,a):"array-contains"===r?new _D(n,a):"in"===r?new vD(n,a):"not-in"===r?new mC(n,a):"array-contains-any"===r?new bD(n,a):new Fr(n,r,a)}static R(n,r,a){return"in"===r?new pC(n,a):new gC(n,a)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(Bd(r,this.value)):null!==r&&jl(this.value)===jl(r)&&this.P(Bd(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return We()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fC extends Fr{constructor(n,r,a){super(n,r,a),this.key=Ke.fromName(a.referenceValue)}matches(n){const r=Ke.comparator(n.key,this.key);return this.P(r)}}class pC extends Fr{constructor(n,r){super(n,"in",r),this.keys=yD(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class gC extends Fr{constructor(n,r){super(n,"not-in",r),this.keys=yD(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function yD(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Ke.fromName(a.referenceValue))}class _D extends Fr{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return ey(r)&&jd(r.arrayValue,this.value)}}class vD extends Fr{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&jd(this.value.arrayValue,r)}}class mC extends Fr{constructor(n,r){super(n,"not-in",r)}matches(n){if(jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!jd(this.value.arrayValue,r)}}class bD extends Fr{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!ey(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>jd(this.value.arrayValue,a))}}class An{constructor(n,r){this.position=n,this.before=r}}function dp(i){return`${i.before?"b":"a"}:${i.position.map(n=>op(n)).join(",")}`}class Hd{constructor(n,r="asc"){this.field=n,this.dir=r}}function ED(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function mb(i,n,r){let a=0;for(let l=0;l<i.position.length;l++){const f=n[l],m=i.position[l];if(a=f.field.isKeyField()?Ke.comparator(Ke.fromName(m.referenceValue),r.key):Bd(m,r.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return i.before?a<=0:a<0}function yC(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ss(i.position[r],n.position[r]))return!1;return!0}class ho{constructor(n,r=null,a=[],l=[],f=null,m="F",w=null,T=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=f,this.limitType=m,this.startAt=w,this.endAt=T,this.V=null,this.S=null}}function yb(i,n,r,a,l,f,m,w){return new ho(i,n,r,a,l,f,m,w)}function Ns(i){return new ho(i)}function ty(i){return!na(i.limit)&&"F"===i.limitType}function ny(i){return!na(i.limit)&&"L"===i.limitType}function ry(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function _b(i){for(const n of i.filters)if(n.v())return n.field;return null}function iy(i){return null!==i.collectionGroup}function hp(i){const n=Ze(i);if(null===n.V){n.V=[];const r=_b(n),a=ry(n);if(null!==r&&null===a)r.isKeyField()||n.V.push(new Hd(r)),n.V.push(new Hd(ar.keyField(),"asc"));else{let l=!1;for(const f of n.explicitOrderBy)n.V.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Hd(ar.keyField(),f))}}}return n.V}function Vi(i){const n=Ze(i);if(!n.S)if("F"===n.limitType)n.S=gb(n.path,n.collectionGroup,hp(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const f of hp(n))r.push(new Hd(f.field,"desc"===f.dir?"asc":"desc"));const a=n.endAt?new An(n.endAt.position,!n.endAt.before):null,l=n.startAt?new An(n.startAt.position,!n.startAt.before):null;n.S=gb(n.path,n.collectionGroup,r,n.filters,n.limit,a,l)}return n.S}function sy(i,n,r){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function _i(i,n){return lp(Vi(i),Vi(n))&&i.limitType===n.limitType}function _C(i){return`${Qa(Vi(i))}|lt:${i.limitType}`}function vb(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${op(a.value)}`;var a}).join(", ")}]`),na(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(n+=", startAt: "+dp(i.startAt)),i.endAt&&(n+=", endAt: "+dp(i.endAt)),`Target(${n})`}(Vi(i))}; limitType=${i.limitType})`}function vi(i,n){return n.isFoundDocument()&&function(r,a){const l=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ke.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,n)&&function(r,a){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(i,n)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,n)&&(a=n,!((r=i).startAt&&!mb(r.startAt,hp(r),a)||r.endAt&&mb(r.endAt,hp(r),a)));var r,a}function rs(i){return(n,r)=>{let a=!1;for(const l of hp(i)){const f=Rs(l,n,r);if(0!==f)return f;a=a||l.field.isKeyField()}return 0}}function Rs(i,n,r){const a=i.field.isKeyField()?Ke.comparator(n.key,r.key):function(l,f,m){const w=f.data.field(l),T=m.data.field(l);return null!==w&&null!==T?Bd(w,T):We()}(i.field,n,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return We()}}function bb(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(n)?"-0":n}}function Eb(i){return{integerValue:""+i}}function vC(i,n){return hb(n)?Eb(n):bb(i,n)}class oy{constructor(){this._=void 0}}function wD(i,n,r){return i instanceof fo?function(a,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(r,n):i instanceof ql?wb(i,n):i instanceof Hl?Cb(i,n):function(a,l){const f=ay(a,l),m=fp(f)+fp(a.C);return ap(f)&&ap(a.C)?Eb(m):bb(a.N,m)}(i,n)}function CD(i,n,r){return i instanceof ql?wb(i,n):i instanceof Hl?Cb(i,n):r}function ay(i,n){return i instanceof $l?ap(r=n)||(a=r)&&"doubleValue"in a?n:{integerValue:0}:null;var a,r}class fo extends oy{}class ql extends oy{constructor(n){super(),this.elements=n}}function wb(i,n){const r=bC(n);for(const a of i.elements)r.some(l=>Ss(l,a))||r.push(a);return{arrayValue:{values:r}}}class Hl extends oy{constructor(n){super(),this.elements=n}}function Cb(i,n){let r=bC(n);for(const a of i.elements)r=r.filter(l=>!Ss(l,a));return{arrayValue:{values:r}}}class $l extends oy{constructor(n,r){super(),this.N=n,this.C=r}}function fp(i){return En(i.integerValue||i.doubleValue)}function bC(i){return ey(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class $d{constructor(n,r){this.field=n,this.transform=r}}class Ib{constructor(n,r){this.version=n,this.transformResults=r}}class Dn{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new Dn}static exists(n){return new Dn(void 0,n)}static updateTime(n){return new Dn(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function pp(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class gp{}function wC(i,n,r){i instanceof Gd?function(a,l,f){const m=a.value.clone(),w=TC(a.fieldTransforms,l,f.transformResults);m.setAll(w),l.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,n,r):i instanceof Ja?function(a,l,f){if(!pp(a.precondition,l))return void l.convertToUnknownDocument(f.version);const m=TC(a.fieldTransforms,l,f.transformResults),w=l.data;w.setAll(IC(a)),w.setAll(m),l.convertToFoundDocument(f.version,w).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function uy(i,n,r){var l;i instanceof Gd?function(a,l,f){if(!pp(a.precondition,l))return;const m=a.value.clone(),w=AC(a.fieldTransforms,f,l);m.setAll(w),l.convertToFoundDocument(Ab(l),m).setHasLocalMutations()}(i,n,r):i instanceof Ja?function(a,l,f){if(!pp(a.precondition,l))return;const m=AC(a.fieldTransforms,f,l),w=l.data;w.setAll(IC(a)),w.setAll(m),l.convertToFoundDocument(Ab(l),w).setHasLocalMutations()}(i,n,r):pp(i.precondition,l=n)&&l.convertToNoDocument(_t.min())}function CC(i,n){let r=null;for(const a of i.fieldTransforms){const l=n.data.field(a.field),f=ay(a.transform,l||null);null!=f&&(null==r&&(r=Er.empty()),r.set(a.field,f))}return r||null}function Tb(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===a||r&&a&&Ld(r,a,(l,f)=>function(i,n){return i.field.isEqual(n.field)&&(a=n.transform,(r=i.transform)instanceof ql&&a instanceof ql||r instanceof Hl&&a instanceof Hl?Ld(r.elements,a.elements,Ss):r instanceof $l&&a instanceof $l?Ss(r.C,a.C):r instanceof fo&&a instanceof fo);var r,a}(l,f))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,a}function Ab(i){return i.isFoundDocument()?i.version:_t.min()}class Gd extends gp{constructor(n,r,a,l=[]){super(),this.key=n,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}}class Ja extends gp{constructor(n,r,a,l,f=[]){super(),this.key=n,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=f,this.type=1}}function IC(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);n.set(r,a)}}),n}function TC(i,n,r){const a=new Map;it(i.length===r.length);for(let l=0;l<r.length;l++){const f=i[l],m=f.transform,w=n.data.field(f.field);a.set(f.field,CD(m,w,r[l]))}return a}function AC(i,n,r){const a=new Map;for(const l of i){const f=l.transform,m=r.data.field(l.field);a.set(l.field,wD(f,m,n))}return a}class mp extends gp{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class Db extends gp{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class ID{constructor(n){this.count=n}}var $n,Rt;function DC(i){switch(i){case ye.OK:return We();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return We()}}function SC(i){if(void 0===i)return qn("GRPC error has no .code"),ye.UNKNOWN;switch(i){case $n.OK:return ye.OK;case $n.CANCELLED:return ye.CANCELLED;case $n.UNKNOWN:return ye.UNKNOWN;case $n.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case $n.INTERNAL:return ye.INTERNAL;case $n.UNAVAILABLE:return ye.UNAVAILABLE;case $n.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case $n.NOT_FOUND:return ye.NOT_FOUND;case $n.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case $n.ABORTED:return ye.ABORTED;case $n.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case $n.DATA_LOSS:return ye.DATA_LOSS;default:return We()}}(Rt=$n||($n={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";class Yn{constructor(n,r){this.comparator=n,this.root=r||wr.EMPTY}insert(n,r){return new Yn(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(n){return new Yn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,wr.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(n,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(n){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(0===l)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,a)=>(n(r,a),!1))}toString(){const n=[];return this.inorderTraversal((r,a)=>(n.push(`${r}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new ly(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new ly(this.root,n,this.comparator,!1)}getReverseIterator(){return new ly(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new ly(this.root,n,this.comparator,!0)}}class ly{constructor(n,r,a,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=r?a(n.key,r):1,l&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class wr{constructor(n,r,a,l,f){this.key=n,this.value=r,this.color=null!=a?a:wr.RED,this.left=null!=l?l:wr.EMPTY,this.right=null!=f?f:wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,a,l,f){return new wr(null!=n?n:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=l?l:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let l=this;const f=a(n,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(n,r,a),null):0===f?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(n,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let a,l=this;if(r(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(n,l.key)){if(l.right.isEmpty())return wr.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const n=this.left.check();if(n!==this.right.check())throw We();return n+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1,wr.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(i,n,r,a,l){return this}insert(i,n,r){return new wr(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(n){this.comparator=n,this.data=new Yn(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,a)=>(n(r),!1))}forEachInRange(n,r){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,n[1])>=0)return;r(l.key)}}forEachWhile(n,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new NC(this.data.getIterator())}getIteratorFrom(n){return new NC(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(a=>{r=r.add(a)}),r}isEqual(n){if(!(n instanceof Mn)||this.size!==n.size)return!1;const r=this.data.getIterator(),a=n.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=a.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new Mn(this.comparator);return r.data=n,r}}class NC{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const TD=new Yn(Ke.comparator);function is(){return TD}const RC=new Yn(Ke.comparator);function cy(){return RC}const xC=new Yn(Ke.comparator);function Sb(){return xC}const OC=new Mn(Ke.comparator);function jt(...i){let n=OC;for(const r of i)n=n.add(r);return n}const MC=new Mn(Tt);function yp(){return MC}class zd{constructor(n,r,a,l,f){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,r){const a=new Map;return a.set(n,Gl.createSynthesizedTargetChangeForCurrentChange(n,r)),new zd(_t.min(),a,yp(),is(),jt())}}class Gl{constructor(n,r,a,l,f){this.resumeToken=n,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,r){return new Gl(Hn.EMPTY_BYTE_STRING,r,jt(),jt(),jt())}}class _p{constructor(n,r,a,l){this.k=n,this.removedTargetIds=r,this.key=a,this.$=l}}class Xa{constructor(n,r){this.targetId=n,this.O=r}}class PC{constructor(n,r,a=Hn.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=r,this.resumeToken=a,this.cause=l}}class kC{constructor(){this.F=0,this.M=dy(),this.L=Hn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=jt(),r=jt(),a=jt();return this.M.forEach((l,f)=>{switch(f){case 0:n=n.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:We()}}),new Gl(this.L,this.B,n,r,a)}G(){this.U=!1,this.M=dy()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Wd{constructor(n){this.tt=n,this.et=new Map,this.nt=is(),this.st=AD(),this.it=new Mn(Tt)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const a=this.ut(r);switch(n.state){case 0:this.ht(r)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(r);break;case 3:this.ht(r)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),a.j(n.resumeToken));break;default:We()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((a,l)=>{this.ht(l)&&r(l)})}ft(n){const r=n.targetId,a=n.O.count,l=this.dt(r);if(l){const f=l.target;if(cp(f))if(0===a){const m=new Ke(f.path);this.at(r,m,wn.newNoDocument(m,_t.min()))}else it(1===a);else this.wt(r)!==a&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((f,m)=>{const w=this.dt(m);if(w){if(f.current&&cp(w.target)){const T=new Ke(w.target.path);null!==this.nt.get(T)||this.gt(m,T)||this.at(m,T,wn.newNoDocument(T,n))}f.K&&(r.set(m,f.W()),f.G())}});let a=jt();this.st.forEach((f,m)=>{let w=!0;m.forEachWhile(T=>{const N=this.dt(T);return!N||2===N.purpose||(w=!1,!1)}),w&&(a=a.add(f))});const l=new zd(n,r,this.it,this.nt,a);return this.nt=is(),this.st=AD(),this.it=new Mn(Tt),l}ot(n,r){if(!this.ht(n))return;const a=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,a),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,a){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),a&&(this.nt=this.nt.insert(r,a))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new kC,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new Mn(Tt),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||ke("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new kC),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function AD(){return new Yn(Ke.comparator)}function dy(){return new Yn(Ke.comparator)}const AN={asc:"ASCENDING",desc:"DESCENDING"},FC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class LC{constructor(n,r){this.databaseId=n,this.D=r}}function hy(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function tt(i,n){return i.D?n.toBase64():n.toUint8Array()}function DD(i,n){return hy(i,n.toTimestamp())}function ur(i){return it(!!i),_t.fromTimestamp(function(n){const r=Zl(n);return new or(r.seconds,r.nanos)}(i))}function Nb(i,n){return(r=i,new Vt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function vp(i){const n=Vt.fromString(i);return it(zC(n)),n}function bp(i,n){return Nb(i.databaseId,n.path)}function Ui(i,n){const r=vp(n);if(r.get(1)!==i.databaseId.projectId)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Ke(Rb(r))}function Kd(i,n){return Nb(i.databaseId,n)}function Sn(i){const n=vp(i);return 4===n.length?Vt.emptyPath():Rb(n)}function fy(i){return new Vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Rb(i){return it(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function py(i,n,r){return{name:bp(i,n),fields:r.value.mapValue.fields}}function VC(i,n,r){const a=Ui(i,n.name),l=ur(n.updateTime),f=new Er({mapValue:{fields:n.fields}}),m=wn.newFoundDocument(a,l,f);return r&&m.setHasCommittedMutations(),r?m.setHasCommittedMutations():m}function Ep(i,n){let r;if(n instanceof Gd)r={update:py(i,n.key,n.value)};else if(n instanceof mp)r={delete:bp(i,n.key)};else if(n instanceof Ja)r={update:py(i,n.key,n.data),updateMask:RD(n.fieldMask)};else{if(!(n instanceof Db))return We();r={verify:bp(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(a=>function(l,f){const m=f.transform;if(m instanceof fo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),increment:m.C};throw We()}(0,a))),n.precondition.isNone||(r.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:DD(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:We()),r;var l}function xb(i,n){const r=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?Dn.updateTime(ur(l.updateTime)):void 0!==l.exists?Dn.exists(l.exists):Dn.none():Dn.none(),a=n.updateTransforms?n.updateTransforms.map(l=>function(f,m){let w=null;"setToServerValue"in m?(it("REQUEST_TIME"===m.setToServerValue),w=new fo):"appendMissingElements"in m?w=new ql(m.appendMissingElements.values||[]):"removeAllFromArray"in m?w=new Hl(m.removeAllFromArray.values||[]):"increment"in m?w=new $l(f,m.increment):We();const T=ar.fromServerFormat(m.fieldPath);return new $d(T,w)}(i,l)):[];var l;if(n.update){const l=Ui(i,n.update.name),f=new Er({mapValue:{fields:n.update.fields}});if(n.updateMask){const m=new Ya((n.updateMask.fieldPaths||[]).map(N=>ar.fromServerFormat(N)));return new Ja(l,f,m,r,a)}return new Gd(l,f,r,a)}if(n.delete){const l=Ui(i,n.delete);return new mp(l,r)}if(n.verify){const l=Ui(i,n.verify);return new Db(l,r)}return We()}function jC(i,n){return{documents:[Kd(i,n.path)]}}function BC(i,n){const r={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(r.parent=Kd(i,a),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=Kd(i,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const l=function(w){if(0===w.length)return;const T=w.map(N=>function(R){if("=="===R.op){if(pb(R.value))return{unaryFilter:{field:zl(R.field),op:"IS_NAN"}};if(lC(R.value))return{unaryFilter:{field:zl(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(pb(R.value))return{unaryFilter:{field:zl(R.field),op:"IS_NOT_NAN"}};if(lC(R.value))return{unaryFilter:{field:zl(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(R.field),op:GC(R.op),value:R.value}}}(N));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(n.filters);l&&(r.structuredQuery.where=l);const f=function(w){if(0!==w.length)return w.map(T=>{return{field:zl((N=T).field),direction:$C(N.dir)};var N})}(n.orderBy);f&&(r.structuredQuery.orderBy=f);const m=(T=n.limit,i.D||na(T)?T:{value:T});var T;return null!==m&&(r.structuredQuery.limit=m),n.startAt&&(r.structuredQuery.startAt=HC(n.startAt)),n.endAt&&(r.structuredQuery.endAt=HC(n.endAt)),r}function Yd(i){let n=Sn(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){it(1===a);const R=r.from[0];R.allDescendants?l=R.collectionId:n=n.child(R.collectionId)}let f=[];r.where&&(f=qC(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(R=>{return new Hd(Qd((U=R).field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let w=null;r.limit&&(w=function(R){let U;return U="object"==typeof R?R.value:R,na(U)?null:U}(r.limit));let T=null;r.startAt&&(T=wp(r.startAt));let N=null;return r.endAt&&(N=wp(r.endAt)),yb(n,l,m,f,w,"F",T,N)}function qC(i){return i?void 0!==i.unaryFilter?[Ip(i)]:void 0!==i.fieldFilter?[Cp(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>qC(n)).reduce((n,r)=>n.concat(r)):We():[]}function HC(i){return{before:i.before,values:i.position}}function wp(i){return new An(i.values||[],!!i.before)}function $C(i){return AN[i]}function GC(i){return FC[i]}function zl(i){return{fieldPath:i.canonicalString()}}function Qd(i){return ar.fromServerFormat(i.fieldPath)}function Cp(i){return Fr.create(Qd(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return We()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ip(i){switch(i.unaryFilter.op){case"IS_NAN":const n=Qd(i.unaryFilter.field);return Fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Qd(i.unaryFilter.field);return Fr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qd(i.unaryFilter.field);return Fr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Qd(i.unaryFilter.field);return Fr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return We()}}function RD(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function zC(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function xs(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=Ob(n)),n=WC(i.get(r),n);return Ob(n)}function WC(i,n){let r=n;const a=i.length;for(let l=0;l<a;l++){const f=i.charAt(l);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function Ob(i){return i+"\x01\x01"}function po(i){const n=i.length;if(it(n>=2),2===n)return it("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Vt.emptyPath();const r=n-2,a=[];let l="";for(let f=0;f<n;){const m=i.indexOf("\x01",f);switch((m<0||m>r)&&We(),i.charAt(m+1)){case"\x01":const w=i.substring(f,m);let T;0===l.length?T=w:(l+=w,T=l,l=""),a.push(T);break;case"\x10":l+=i.substring(f,m),l+="\0";break;case"\x11":l+=i.substring(f,m+1);break;default:We()}f=m+2}return new Vt(a)}class xD{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class bi{constructor(n,r,a){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=a}}bi.store="owner",bi.key="owner";class eu{constructor(n,r,a){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=a}}eu.store="mutationQueues",eu.keyPath="userId";class ln{constructor(n,r,a,l,f){this.userId=n,this.batchId=r,this.localWriteTimeMs=a,this.baseMutations=l,this.mutations=f}}ln.store="mutations",ln.keyPath="batchId",ln.userMutationsIndex="userMutationsIndex",ln.userMutationsKeyPath=["userId","batchId"];class ni{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,xs(r)]}static key(n,r,a){return[n,xs(r),a]}}ni.store="documentMutations",ni.PLACEHOLDER=new ni;class DN{constructor(n,r){this.path=n,this.readTime=r}}class SN{constructor(n,r){this.path=n,this.version=r}}class Fn{constructor(n,r,a,l,f,m){this.unknownDocument=n,this.noDocument=r,this.document=a,this.hasCommittedMutations=l,this.readTime=f,this.parentPath=m}}Fn.store="remoteDocuments",Fn.readTimeIndex="readTimeIndex",Fn.readTimeIndexPath="readTime",Fn.collectionReadTimeIndex="collectionReadTimeIndex",Fn.collectionReadTimeIndexPath=["parentPath","readTime"];class Os{constructor(n){this.byteSize=n}}Os.store="remoteDocumentGlobal",Os.key="remoteDocumentGlobalKey";class Cr{constructor(n,r,a,l,f,m,w){this.targetId=n,this.canonicalId=r,this.readTime=a,this.resumeToken=l,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=m,this.query=w}}Cr.store="targets",Cr.keyPath="targetId",Cr.queryTargetsIndexName="queryTargetsIndex",Cr.queryTargetsKeyPath=["canonicalId","targetId"];class Ir{constructor(n,r,a){this.targetId=n,this.path=r,this.sequenceNumber=a}}Ir.store="targetDocuments",Ir.keyPath=["targetId","path"],Ir.documentTargetsIndex="documentTargetsIndex",Ir.documentTargetsKeyPath=["path","targetId"];class Zi{constructor(n,r,a,l){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=a,this.targetCount=l}}Zi.key="targetGlobalKey",Zi.store="targetGlobal";class tu{constructor(n,r){this.collectionId=n,this.parent=r}}tu.store="collectionParents",tu.keyPath=["collectionId","parent"];class ji{constructor(n,r,a,l){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=a,this.inForeground=l}}ji.store="clientMetadata",ji.keyPath="clientId";class Jd{constructor(n,r,a){this.bundleId=n,this.createTime=r,this.version=a}}Jd.store="bundles",Jd.keyPath="bundleId";class Xd{constructor(n,r,a){this.name=n,this.readTime=r,this.bundledQuery=a}}Xd.store="namedQueries",Xd.keyPath="name";const OD=[eu.store,ln.store,ni.store,Fn.store,Cr.store,bi.store,Zi.store,Ir.store,ji.store,Os.store,tu.store,Jd.store,Xd.store],KC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class De{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new De((a,l)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(a,l)},this.catchCallback=f=>{this.wrapFailure(r,f).next(a,l)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof De?r:De.resolve(r)}catch(r){return De.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):De.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):De.reject(r)}static resolve(n){return new De((r,a)=>{r(n)})}static reject(n){return new De((r,a)=>{a(n)})}static waitFor(n){return new De((r,a)=>{let l=0,f=0,m=!1;n.forEach(w=>{++l,w.next(()=>{++f,m&&f===l&&r()},T=>a(T))}),m=!0,f===l&&r()})}static or(n){let r=De.resolve(!1);for(const a of n)r=r.next(l=>l?De.resolve(l):a());return r}static forEach(n,r){const a=[];return n.forEach((l,f)=>{a.push(r.call(this,l,f))}),this.waitFor(a)}}class gy{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new br,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Tp(n,r.error)):this.Tt.resolve()},this.transaction.onerror=a=>{const l=my(a.target.error);this.Tt.reject(new Tp(n,l))}}static open(n,r,a,l){try{return new gy(r,n.transaction(l,a))}catch(f){throw new Tp(r,f)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(ke("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new MD(r)}}class Ms{constructor(n,r,a){this.name=n,this.version=r,this.At=a,12.2===Ms.Rt((0,Mt.z$)())&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return ke("SimpleDb","Removing database:",n),ru(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Ms.Pt())return!0;const n=(0,Mt.z$)(),r=Ms.Rt(n),a=0<r&&r<10,l=Ms.vt(n),f=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||f)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const r=n.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var r=this;return(0,we.Z)(function*(){return r.db||(ke("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,l)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=m=>{a(m.target.result)},f.onblocked=()=>{l(new Tp(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const w=m.target.error;l("VersionError"===w.name?new Ne(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new Ne(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new Tp(n,w))},f.onupgradeneeded=m=>{ke("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.At.Ct(m.target.result,f.transaction,m.oldVersion,r.version).next(()=>{ke("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=a=>r.Nt(a)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,a,l){var f=this;return(0,we.Z)(function*(){const m="readonly"===r;let w=0;for(;;){++w;try{f.db=yield f.Dt(n);const T=gy.open(f.db,n,m?"readonly":"readwrite",a),N=l(T).catch(R=>(T.abort(R),De.reject(R))).toPromise();return N.catch(()=>{}),yield T.It,N}catch(T){const N="FirebaseError"!==T.name&&w<3;if(ke("SimpleDb","Transaction failed with error:",T.message,"Retrying:",N),f.close(),!N)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eh{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return ru(this.kt.delete())}}class Tp extends Ne{constructor(n,r){super(ye.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function nu(i){return"IndexedDbTransactionError"===i.name}class MD{constructor(n){this.store=n}put(n,r){let a;return void 0!==r?(ke("SimpleDb","PUT",this.store.name,n,r),a=this.store.put(r,n)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),ru(a)}add(n){return ke("SimpleDb","ADD",this.store.name,n,n),ru(this.store.add(n))}get(n){return ru(this.store.get(n)).next(r=>(void 0===r&&(r=null),ke("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return ke("SimpleDb","DELETE",this.store.name,n),ru(this.store.delete(n))}count(){return ke("SimpleDb","COUNT",this.store.name),ru(this.store.count())}Lt(n,r){const a=this.cursor(this.options(n,r)),l=[];return this.Bt(a,(f,m)=>{l.push(m)}).next(()=>l)}Ut(n,r){ke("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,r);a.qt=!1;const l=this.cursor(a);return this.Bt(l,(f,m,w)=>w.delete())}Kt(n,r){let a;r?a=n:(a={},r=n);const l=this.cursor(a);return this.Bt(l,r)}jt(n){const r=this.cursor({});return new De((a,l)=>{r.onerror=f=>{const m=my(f.target.error);l(m)},r.onsuccess=f=>{const m=f.target.result;m?n(m.primaryKey,m.value).next(w=>{w?m.continue():a()}):a()}})}Bt(n,r){const a=[];return new De((l,f)=>{n.onerror=m=>{f(m.target.error)},n.onsuccess=m=>{const w=m.target.result;if(!w)return void l();const T=new eh(w),N=r(w.primaryKey,w.value,T);if(N instanceof De){const R=N.catch(U=>(T.done(),De.reject(U)));a.push(R)}T.isDone?l():null===T.Ft?w.continue():w.continue(T.Ft)}}).next(()=>De.waitFor(a))}options(n,r){let a;return void 0!==n&&("string"==typeof n?a=n:r=n),{index:a,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,r):a.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function ru(i){return new De((n,r)=>{i.onsuccess=a=>{n(a.target.result)},i.onerror=a=>{const l=my(a.target.error);r(l)}})}let QC=!1;function my(i){const n=Ms.Rt((0,Mt.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const a=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QC||(QC=!0,setTimeout(()=>{throw a},0)),a}}return i}class JC extends YC{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function Lr(i,n){const r=Ze(i);return Ms.St(r.Qt,n)}class Mb{constructor(n,r,a,l){this.batchId=n,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(n,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(n.key)&&wC(f,n,a[l])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&uy(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&uy(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const a=n.get(r.key),l=a;this.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(_t.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),jt())}isEqual(n){return this.batchId===n.batchId&&Ld(this.mutations,n.mutations,(r,a)=>Tb(r,a))&&Ld(this.baseMutations,n.baseMutations,(r,a)=>Tb(r,a))}}class yy{constructor(n,r,a,l){this.batch=n,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(n,r,a){it(n.mutations.length===a.length);let l=Sb();const f=n.mutations;for(let m=0;m<f.length;m++)l=l.insert(f[m].key,a[m].version);return new yy(n,r,a,l)}}class ra{constructor(n,r,a,l,f=_t.min(),m=_t.min(),w=Hn.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=w}withSequenceNumber(n){return new ra(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class XC{constructor(n){this.Wt=n}}function Pb(i,n){if(n.document)return VC(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=Ke.fromSegments(n.noDocument.path),a=th(n.noDocument.readTime),l=wn.newNoDocument(r,a);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const r=Ke.fromSegments(n.unknownDocument.path),a=th(n.unknownDocument.version);return wn.newUnknownDocument(r,a)}return We()}function eI(i,n,r){const a=Ap(r),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const f={name:bp(w=i.Wt,(T=n).key),fields:T.data.value.mapValue.fields,updateTime:hy(w,T.version.toTimestamp())};return new Fn(null,null,f,n.hasCommittedMutations,a,l)}var w,T;if(n.isNoDocument()){const f=n.key.path.toArray(),m=Wl(n.version),w=n.hasCommittedMutations;return new Fn(null,new DN(f,m),null,w,a,l)}if(n.isUnknownDocument()){const f=n.key.path.toArray(),m=Wl(n.version);return new Fn(new SN(f,m),null,null,!0,a,l)}return We()}function Ap(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function tI(i){const n=new or(i[0],i[1]);return _t.fromTimestamp(n)}function Wl(i){const n=i.toTimestamp();return new xD(n.seconds,n.nanoseconds)}function th(i){const n=new or(i.seconds,i.nanoseconds);return _t.fromTimestamp(n)}function nh(i,n){const r=(n.baseMutations||[]).map(f=>xb(i.Wt,f));for(let f=0;f<n.mutations.length-1;++f){const m=n.mutations[f];f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(m.updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f)}const a=n.mutations.map(f=>xb(i.Wt,f)),l=or.fromMillis(n.localWriteTimeMs);return new Mb(n.batchId,l,r,a)}function Dp(i){const n=th(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?th(i.lastLimboFreeSnapshotVersion):_t.min();let a;var l;return void 0!==i.query.documents?(it(1===(l=i.query).documents.length),a=Vi(Ns(Sn(l.documents[0])))):a=Vi(Yd(i.query)),new ra(a,i.targetId,0,i.lastListenSequenceNumber,n,r,Hn.fromBase64String(i.resumeToken))}function nI(i,n){const r=Wl(n.snapshotVersion),a=Wl(n.lastLimboFreeSnapshotVersion);let l;l=cp(n.target)?jC(i.Wt,n.target):BC(i.Wt,n.target);const f=n.resumeToken.toBase64();return new Cr(n.targetId,Qa(n.target),r,f,n.sequenceNumber,a,l)}function kb(i){const n=Yd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?sy(n,n.limit,"L"):n}class PD{getBundleMetadata(n,r){return rI(n).get(r).next(a=>{if(a)return{id:(l=a).bundleId,createTime:th(l.createTime),version:l.version};var l})}saveBundleMetadata(n,r){return rI(n).put({bundleId:(a=r).id,createTime:Wl(ur(a.createTime)),version:a.version});var a}getNamedQuery(n,r){return iI(n).get(r).next(a=>{if(a)return{name:(l=a).name,query:kb(l.bundledQuery),readTime:th(l.readTime)};var l})}saveNamedQuery(n,r){return iI(n).put({name:(a=r).name,readTime:Wl(ur(a.readTime)),bundledQuery:a.bundledQuery});var a}}function rI(i){return Lr(i,Jd.store)}function iI(i){return Lr(i,Xd.store)}class sI{constructor(){this.Gt=new _y}addToCollectionParentIndex(n,r){return this.Gt.add(r),De.resolve()}getCollectionParents(n,r){return De.resolve(this.Gt.getEntries(r))}}class _y{constructor(){this.index={}}add(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r]||new Mn(Vt.comparator),f=!l.has(a);return this.index[r]=l.add(a),f}has(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(n){return(this.index[n]||new Mn(Vt.comparator)).toArray()}}class kD{constructor(){this.zt=new _y}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const a=r.lastSegment(),l=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const f={collectionId:a,parent:xs(l)};return oI(n).put(f)}return De.resolve()}getCollectionParents(n,r){const a=[],l=IDBKeyRange.bound([r,""],[db(r),""],!1,!0);return oI(n).Lt(l).next(f=>{for(const m of f){if(m.collectionId!==r)break;a.push(po(m.parent))}return a})}}function oI(i){return Lr(i,tu.store)}const Fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ei{constructor(n,r,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new Ei(n,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aI(i,n,r){const a=i.store(ln.store),l=i.store(ni.store),f=[],m=IDBKeyRange.only(r.batchId);let w=0;const T=a.Kt({range:m},(R,U,Y)=>(w++,Y.delete()));f.push(T.next(()=>{it(1===w)}));const N=[];for(const R of r.mutations){const U=ni.key(n,R.key.path,r.batchId);f.push(l.delete(U)),N.push(R.key)}return De.waitFor(f).next(()=>N)}function vy(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw We();n=i.noDocument}return JSON.stringify(n).length}Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(41943040,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);class Sp{constructor(n,r,a,l){this.userId=n,this.N=r,this.Ht=a,this.referenceDelegate=l,this.Jt={}}static Yt(n,r,a,l){it(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new Sp(f,r,a,l)}checkEmpty(n){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ia(n).Kt({index:ln.userMutationsIndex,range:a},(l,f,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(n,r,a,l){const f=iu(n),m=ia(n);return m.add({}).next(w=>{it("number"==typeof w);const T=new Mb(w,r,a,l),N=function(Y,z,_e){const Fe=_e.baseMutations.map(st=>Ep(Y.Wt,st)),Be=_e.mutations.map(st=>Ep(Y.Wt,st));return new ln(z,_e.batchId,_e.localWriteTime.toMillis(),Fe,Be)}(this.N,this.userId,T),R=[];let U=new Mn((Y,z)=>Tt(Y.canonicalString(),z.canonicalString()));for(const Y of l){const z=ni.key(this.userId,Y.key.path,w);U=U.add(Y.key.path.popLast()),R.push(m.put(N)),R.push(f.put(z,ni.PLACEHOLDER))}return U.forEach(Y=>{R.push(this.Ht.addToCollectionParentIndex(n,Y))}),n.addOnCommittedListener(()=>{this.Jt[w]=T.keys()}),De.waitFor(R).next(()=>T)})}lookupMutationBatch(n,r){return ia(n).get(r).next(a=>a?(it(a.userId===this.userId),nh(this.N,a)):null)}Xt(n,r){return this.Jt[r]?De.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(a=>{if(a){const l=a.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(n,r){const a=r+1,l=IDBKeyRange.lowerBound([this.userId,a]);let f=null;return ia(n).Kt({index:ln.userMutationsIndex,range:l},(m,w,T)=>{w.userId===this.userId&&(it(w.batchId>=a),f=nh(this.N,w)),T.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return ia(n).Kt({index:ln.userMutationsIndex,range:r,reverse:!0},(l,f,m)=>{a=f.batchId,m.done()}).next(()=>a)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ia(n).Lt(ln.userMutationsIndex,r).next(a=>a.map(l=>nh(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,r){const a=ni.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(a),f=[];return iu(n).Kt({range:l},(m,w,T)=>{const[N,R,U]=m,Y=po(R);if(N===this.userId&&r.path.isEqual(Y))return ia(n).get(U).next(z=>{if(!z)throw We();it(z.userId===this.userId),f.push(nh(this.N,z))});T.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Mn(Tt);const l=[];return r.forEach(f=>{const m=ni.prefixForPath(this.userId,f.path),w=IDBKeyRange.lowerBound(m),T=iu(n).Kt({range:w},(N,R,U)=>{const[Y,z,_e]=N,Fe=po(z);Y===this.userId&&f.path.isEqual(Fe)?a=a.add(_e):U.done()});l.push(T)}),De.waitFor(l).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1,f=ni.prefixForPath(this.userId,a),m=IDBKeyRange.lowerBound(f);let w=new Mn(Tt);return iu(n).Kt({range:m},(T,N,R)=>{const[U,Y,z]=T,_e=po(Y);U===this.userId&&a.isPrefixOf(_e)?_e.length===l&&(w=w.add(z)):R.done()}).next(()=>this.Zt(n,w))}Zt(n,r){const a=[],l=[];return r.forEach(f=>{l.push(ia(n).get(f).next(m=>{if(null===m)throw We();it(m.userId===this.userId),a.push(nh(this.N,m))}))}),De.waitFor(l).next(()=>a)}removeMutationBatch(n,r){return aI(n.Qt,this.userId,r).next(a=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),De.forEach(a,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return De.resolve();const a=IDBKeyRange.lowerBound(ni.prefixForUser(this.userId)),l=[];return iu(n).Kt({range:a},(f,m,w)=>{if(f[0]===this.userId){const T=po(f[1]);l.push(T)}else w.done()}).next(()=>{it(0===l.length)})})}containsKey(n,r){return by(n,this.userId,r)}ee(n){return uI(n).get(this.userId).next(r=>r||new eu(this.userId,-1,""))}}function by(i,n,r){const a=ni.prefixForPath(n,r.path),l=a[1],f=IDBKeyRange.lowerBound(a);let m=!1;return iu(i).Kt({range:f,qt:!0},(w,T,N)=>{const[R,U,Y]=w;R===n&&U===l&&(m=!0),N.done()}).next(()=>m)}function ia(i){return Lr(i,ln.store)}function iu(i){return Lr(i,ni.store)}function uI(i){return Lr(i,eu.store)}class Kl{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new Kl(0)}static ie(){return new Kl(-1)}}class Lb{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const a=new Kl(r.highestTargetId);return r.highestTargetId=a.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>_t.fromTimestamp(new or(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,a){return this.re(n).next(l=>(l.highestListenSequenceNumber=r,a&&(l.lastRemoteSnapshotVersion=a.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(n,l)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ce(r,a),this.oe(n,a))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>rh(n).delete(r.targetId)).next(()=>this.re(n)).next(a=>(it(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,r,a){let l=0;const f=[];return rh(n).Kt((m,w)=>{const T=Dp(w);T.sequenceNumber<=r&&null===a.get(T.targetId)&&(l++,f.push(this.removeTargetData(n,T)))}).next(()=>De.waitFor(f)).next(()=>l)}forEachTarget(n,r){return rh(n).Kt((a,l)=>{const f=Dp(l);r(f)})}re(n){return Vb(n).get(Zi.key).next(r=>(it(null!==r),r))}oe(n,r){return Vb(n).put(Zi.key,r)}ae(n,r){return rh(n).put(nI(this.N,r))}ce(n,r){let a=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,a=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const a=Qa(r),l=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let f=null;return rh(n).Kt({range:l,index:Cr.queryTargetsIndexName},(m,w,T)=>{const N=Dp(w);lp(r,N.target)&&(f=N,T.done())}).next(()=>f)}addMatchingKeys(n,r,a){const l=[],f=su(n);return r.forEach(m=>{const w=xs(m.path);l.push(f.put(new Ir(a,w))),l.push(this.referenceDelegate.addReference(n,a,m))}),De.waitFor(l)}removeMatchingKeys(n,r,a){const l=su(n);return De.forEach(r,f=>{const m=xs(f.path);return De.waitFor([l.delete([a,m]),this.referenceDelegate.removeReference(n,a,f)])})}removeMatchingKeysForTargetId(n,r){const a=su(n),l=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(l)}getMatchingKeysForTargetId(n,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),l=su(n);let f=jt();return l.Kt({range:a,qt:!0},(m,w,T)=>{const N=po(m[1]),R=new Ke(N);f=f.add(R)}).next(()=>f)}containsKey(n,r){const a=xs(r.path),l=IDBKeyRange.bound([a],[db(a)],!1,!0);let f=0;return su(n).Kt({index:Ir.documentTargetsIndex,qt:!0,range:l},([m,w],T,N)=>{0!==m&&(f++,N.done())}).next(()=>f>0)}Et(n,r){return rh(n).get(r).next(a=>a?Dp(a):null)}}function rh(i){return Lr(i,Cr.store)}function Vb(i){return Lr(i,Zi.store)}function su(i){return Lr(i,Ir.store)}function ou(i){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,we.Z)(function*(i){if(i.code!==ye.FAILED_PRECONDITION||i.message!==KC)throw i;ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Ub([i,n],[r,a]){const l=Tt(i,r);return 0===l?Tt(n,a):l}class NN{constructor(n){this.ue=n,this.buffer=new Mn(Ub),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Ub(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class FD{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const a=this.de?3e5:6e4;ke("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,we.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(l){nu(l)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield ou(l)}yield r._e(n)}))}}class Yl{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(a=>Math.floor(r/100*a))}nthSequenceNumber(n,r){if(0===r)return De.resolve(yi.T);const a=new NN(r);return this.me.forEachTarget(n,l=>a.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>a.fe(l))).next(()=>a.maxValue)}removeTargets(n,r,a){return this.me.removeTargets(n,r,a)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(Fb)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fb):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let a,l,f,m,w,T,N;const R=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),l=this.params.maximumSequenceNumbersToCollect):l=U,m=Date.now(),this.nthSequenceNumber(n,l))).next(U=>(a=U,w=Date.now(),this.removeTargets(n,a,r))).next(U=>(f=U,T=Date.now(),this.removeOrphanedDocuments(n,a))).next(U=>(N=Date.now(),rC()<=ei.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-R}ms\n\tDetermined least recently used ${l} in `+(w-m)+`ms\n\tRemoved ${f} targets in `+(T-w)+`ms\n\tRemoved ${U} documents in `+(N-T)+`ms\nTotal Duration: ${N-R}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:U})))}}class RN{constructor(n,r){this.db=n,this.garbageCollector=new Yl(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(a=>r.next(l=>a+l))}Ee(n){let r=0;return this.ye(n,a=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(a,l)=>r(l))}addReference(n,r,a){return ih(n,a)}removeReference(n,r,a){return ih(n,a)}removeTargets(n,r,a){return this.db.getTargetCache().removeTargets(n,r,a)}markPotentiallyOrphaned(n,r){return ih(n,r)}Ie(n,r){return function(a,l){let f=!1;return uI(a).jt(m=>by(a,m,l).next(w=>(w&&(f=!0),De.resolve(!w)))).next(()=>f)}(n,r)}removeOrphanedDocuments(n,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Te(n,(m,w)=>{if(w<=r){const T=this.Ie(n,m).next(N=>{if(!N)return f++,a.getEntry(n,m).next(()=>(a.removeEntry(m),su(n).delete([0,xs(m.path)])))});l.push(T)}}).next(()=>De.waitFor(l)).next(()=>a.apply(n)).next(()=>f)}removeTarget(n,r){const a=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,r){return ih(n,r)}Te(n,r){const a=su(n);let l,f=yi.T;return a.Kt({index:Ir.documentTargetsIndex},([m,w],{path:T,sequenceNumber:N})=>{0===m?(f!==yi.T&&r(new Ke(po(l)),f),f=N,l=T):f=yi.T}).next(()=>{f!==yi.T&&r(new Ke(po(l)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function ih(i,n){return su(i).put((a=i.currentSequenceNumber,new Ir(0,xs(n.path),a)));var a}class sa{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0!==a)for(const[l,f]of a)if(this.equalsFn(l,n))return f}has(n){return void 0!==this.get(n)}set(n,r){const a=this.mapKeyFn(n),l=this.inner[a];if(void 0!==l){for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],n))return void(l[f]=[n,r]);l.push([n,r])}else this.inner[a]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0===a)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],n))return 1===a.length?delete this.inner[r]:a.splice(l,1),!0;return!1}forEach(n){Ul(this.inner,(r,a)=>{for(const[l,f]of a)n(l,f)})}isEmpty(){return aC(this.inner)}}class lI{constructor(){this.changes=new sa(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:_t.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:wn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?De.resolve(a.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class sh{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,a){return au(n).put(Bi(r),a)}removeEntry(n,r){const a=au(n),l=Bi(r);return a.delete(l)}updateMetadata(n,r){return this.getMetadata(n).next(a=>(a.byteSize+=r,this.Ae(n,a)))}getEntry(n,r){return au(n).get(Bi(r)).next(a=>this.Re(r,a))}be(n,r){return au(n).get(Bi(r)).next(a=>({document:this.Re(r,a),size:vy(a)}))}getEntries(n,r){let a=is();return this.Pe(n,r,(l,f)=>{const m=this.Re(l,f);a=a.insert(l,m)}).next(()=>a)}ve(n,r){let a=is(),l=new Yn(Ke.comparator);return this.Pe(n,r,(f,m)=>{const w=this.Re(f,m);a=a.insert(f,w),l=l.insert(f,vy(m))}).next(()=>({documents:a,Ve:l}))}Pe(n,r,a){if(r.isEmpty())return De.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),f=r.getIterator();let m=f.getNext();return au(n).Kt({range:l},(w,T,N)=>{const R=Ke.fromSegments(w);for(;m&&Ke.comparator(m,R)<0;)a(m,null),m=f.getNext();m&&m.isEqual(R)&&(a(m,T),m=f.hasNext()?f.getNext():null),m?N.Mt(m.path.toArray()):N.done()}).next(()=>{for(;m;)a(m,null),m=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(n,r,a){let l=is();const f=r.path.length+1,m={};if(a.isEqual(_t.min())){const w=r.path.toArray();m.range=IDBKeyRange.lowerBound(w)}else{const w=r.path.toArray(),T=Ap(a);m.range=IDBKeyRange.lowerBound([w,T],!0),m.index=Fn.collectionReadTimeIndex}return au(n).Kt(m,(w,T,N)=>{if(w.length!==f)return;const R=Pb(this.N,T);r.path.isPrefixOf(R.key.path)?vi(r,R)&&(l=l.insert(R.key,R)):N.done()}).next(()=>l)}newChangeBuffer(n){return new LD(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return VD(n).get(Os.key).next(r=>(it(!!r),r))}Ae(n,r){return VD(n).put(Os.key,r)}Re(n,r){if(r){const a=Pb(this.N,r);if(!a.isNoDocument()||!a.version.isEqual(_t.min()))return a}return wn.newInvalidDocument(n)}}class LD extends lI{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new sa(a=>a.toString(),(a,l)=>a.isEqual(l))}applyChanges(n){const r=[];let a=0,l=new Mn((f,m)=>Tt(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const w=this.De.get(f);if(m.document.isValidDocument()){const T=eI(this.Se.N,m.document,this.getReadTime(f));l=l.add(f.path.popLast()),a+=vy(T)-w,r.push(this.Se.addEntry(n,f,T))}else if(a-=w,this.trackRemovals){const T=eI(this.Se.N,wn.newNoDocument(f,_t.min()),this.getReadTime(f));r.push(this.Se.addEntry(n,f,T))}else r.push(this.Se.removeEntry(n,f))}),l.forEach(f=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,f))}),r.push(this.Se.updateMetadata(n,a)),De.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(a=>(this.De.set(r,a.size),a.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:a,Ve:l})=>(l.forEach((f,m)=>{this.De.set(f,m)}),a))}}function VD(i){return Lr(i,Os.store)}function au(i){return Lr(i,Fn.store)}function Bi(i){return i.path.toArray()}class cI{constructor(n){this.N=n}Ct(n,r,a,l){it(a<l&&a>=0&&l<=11);const f=new gy("createOrUpgrade",r);var w;a<1&&l>=1&&(n.createObjectStore(bi.store),(w=n).createObjectStore(eu.store,{keyPath:eu.keyPath}),w.createObjectStore(ln.store,{keyPath:ln.keyPath,autoIncrement:!0}).createIndex(ln.userMutationsIndex,ln.userMutationsKeyPath,{unique:!0}),w.createObjectStore(ni.store),UD(n),function(w){w.createObjectStore(Fn.store)}(n));let m=De.resolve();return a<3&&l>=3&&(0!==a&&(function(w){w.deleteObjectStore(Ir.store),w.deleteObjectStore(Cr.store),w.deleteObjectStore(Zi.store)}(n),UD(n)),m=m.next(()=>function(w){const T=w.store(Zi.store),N=new Zi(0,0,_t.min().toTimestamp(),0);return T.put(Zi.key,N)}(f))),a<4&&l>=4&&(0!==a&&(m=m.next(()=>function(w,T){return T.store(ln.store).Lt().next(N=>{w.deleteObjectStore(ln.store),w.createObjectStore(ln.store,{keyPath:ln.keyPath,autoIncrement:!0}).createIndex(ln.userMutationsIndex,ln.userMutationsKeyPath,{unique:!0});const R=T.store(ln.store),U=N.map(Y=>R.put(Y));return De.waitFor(U)})}(n,f))),m=m.next(()=>{!function(w){w.createObjectStore(ji.store,{keyPath:ji.keyPath})}(n)})),a<5&&l>=5&&(m=m.next(()=>this.Ce(f))),a<6&&l>=6&&(m=m.next(()=>(function(w){w.createObjectStore(Os.store)}(n),this.Ne(f)))),a<7&&l>=7&&(m=m.next(()=>this.xe(f))),a<8&&l>=8&&(m=m.next(()=>this.ke(n,f))),a<9&&l>=9&&(m=m.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(n),function(w){const T=w.objectStore(Fn.store);T.createIndex(Fn.readTimeIndex,Fn.readTimeIndexPath,{unique:!1}),T.createIndex(Fn.collectionReadTimeIndex,Fn.collectionReadTimeIndexPath,{unique:!1})}(r)})),a<10&&l>=10&&(m=m.next(()=>this.$e(f))),a<11&&l>=11&&(m=m.next(()=>{(function(w){w.createObjectStore(Jd.store,{keyPath:Jd.keyPath})})(n),function(w){w.createObjectStore(Xd.store,{keyPath:Xd.keyPath})}(n)})),m}Ne(n){let r=0;return n.store(Fn.store).Kt((a,l)=>{r+=vy(l)}).next(()=>{const a=new Os(r);return n.store(Os.store).put(Os.key,a)})}Ce(n){const r=n.store(eu.store),a=n.store(ln.store);return r.Lt().next(l=>De.forEach(l,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return a.Lt(ln.userMutationsIndex,m).next(w=>De.forEach(w,T=>{it(T.userId===f.userId);const N=nh(this.N,T);return aI(n,f.userId,N).next(()=>{})}))}))}xe(n){const r=n.store(Ir.store),a=n.store(Fn.store);return n.store(Zi.store).get(Zi.key).next(l=>{const f=[];return a.Kt((m,w)=>{const T=new Vt(m),N=[0,xs(T)];f.push(r.get(N).next(R=>R?De.resolve():r.put(new Ir(0,xs(T),l.highestListenSequenceNumber))))}).next(()=>De.waitFor(f))})}ke(n,r){n.createObjectStore(tu.store,{keyPath:tu.keyPath});const a=r.store(tu.store),l=new _y,f=m=>{if(l.add(m)){const w=m.lastSegment(),T=m.popLast();return a.put({collectionId:w,parent:xs(T)})}};return r.store(Fn.store).Kt({qt:!0},(m,w)=>{const T=new Vt(m);return f(T.popLast())}).next(()=>r.store(ni.store).Kt({qt:!0},([m,w,T],N)=>{const R=po(w);return f(R.popLast())}))}$e(n){const r=n.store(Cr.store);return r.Kt((a,l)=>{const f=Dp(l),m=nI(this.N,f);return r.put(m)})}}function UD(i){i.createObjectStore(Ir.store,{keyPath:Ir.keyPath}).createIndex(Ir.documentTargetsIndex,Ir.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Cr.store,{keyPath:Cr.keyPath}).createIndex(Cr.queryTargetsIndexName,Cr.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Zi.store)}const oh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zb{constructor(n,r,a,l,f,m,w,T,N,R){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=a,this.Oe=f,this.window=m,this.document=w,this.Fe=N,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=U=>Promise.resolve(),!Zb.bt())throw new Ne(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RN(this,l),this.We=r+"main",this.N=new XC(T),this.Ge=new Ms(this.We,11,new cI(this.N)),this.ze=new Lb(this.referenceDelegate,this.N),this.Ht=new kD,this.He=new sh(this.N,this.Ht),this.Je=new PD,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&qn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ye.FAILED_PRECONDITION,oh);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new yi(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var a=(0,we.Z)(function*(l){if(r.started)return n(l)});return function(l){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,we.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,we.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>jb(n).put(new ji(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(nu(n))return ke("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Np(n).get(bi.key).next(r=>De.resolve(this.cn(r)))}un(n){return jb(n).delete(this.clientId)}hn(){var n=this;return(0,we.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const l=Lr(a,ji.store);return l.Lt().next(f=>{const m=n.fn(f,18e5),w=f.filter(T=>-1===m.indexOf(T));return De.forEach(w,T=>l.delete(T.clientId)).next(()=>w)})}).catch(()=>[]);if(n.Ye)for(const a of r)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?De.resolve(!0):Np(n).get(bi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Ne(ye.FAILED_PRECONDITION,oh);return!1}}return!(!this.networkEnabled||!this.inForeground)||jb(n).Lt().next(a=>void 0===this.fn(a,5e3).find(l=>{if(this.clientId!==l.clientId){const m=!this.inForeground&&l.inForeground,w=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||m&&w)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&ke("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,we.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[bi.store,ji.store],r=>{const a=new JC(r,yi.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(a=>this.ln(a.updateTimeMs,r)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>jb(n).Lt().next(r=>this.fn(r,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return Sp.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,a){let f;return ke("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",OD,m=>(f=new JC(m,this.Le?this.Le.next():yi.T),"readwrite-primary"===r?this.sn(f).next(w=>!!w||this.rn(f)).next(w=>{if(!w)throw qn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ne(ye.FAILED_PRECONDITION,KC);return a(f)}).next(w=>this.an(f).next(()=>w)):this.En(f).next(()=>a(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}En(n){return Np(n).get(bi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ne(ye.FAILED_PRECONDITION,oh)})}an(n){const r=new bi(this.clientId,this.allowTabSynchronization,Date.now());return Np(n).put(bi.key,r)}static bt(){return Ms.bt()}on(n){const r=Np(n);return r.get(bi.key).next(a=>this.cn(a)?(ke("IndexedDbPersistence","Releasing primary lease."),r.delete(bi.key)):De.resolve())}ln(n,r){const a=Date.now();return!(n<a-r||n>a&&(qn(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Mt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const a=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return ke("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return qn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){qn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Np(i){return Lr(i,bi.store)}function jb(i){return Lr(i,ji.store)}function Bb(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class ZD{constructor(n,r){this.progress=n,this.Tn=r}}class dI{constructor(n,r,a){this.He=n,this.In=r,this.Ht=a}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(a=>this.Rn(n,r,a))}Rn(n,r,a){return this.He.getEntry(n,r).next(l=>{for(const f of a)f.applyToLocalView(l);return l})}bn(n,r){n.forEach((a,l)=>{for(const f of r)f.applyToLocalView(l)})}Pn(n,r){return this.He.getEntries(n,r).next(a=>this.vn(n,a).next(()=>a))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(a=>this.bn(r,a))}getDocumentsMatchingQuery(n,r,a){return Ke.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,r.path):iy(r)?this.Sn(n,r,a):this.Dn(n,r,a);var l}Vn(n,r){return this.An(n,new Ke(r)).next(a=>{let l=cy();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}Sn(n,r,a){const l=r.collectionGroup;let f=cy();return this.Ht.getCollectionParents(n,l).next(m=>De.forEach(m,w=>{const T=(N=r,R=w.child(l),new ho(R,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));var N,R;return this.Dn(n,T,a).next(N=>{N.forEach((R,U)=>{f=f.insert(R,U)})})}).next(()=>f))}Dn(n,r,a){let l,f;return this.He.getDocumentsMatchingQuery(n,r,a).next(m=>(l=m,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(m=>(f=m,this.Cn(n,f,l).next(w=>{l=w;for(const T of f)for(const N of T.mutations){const R=N.key;let U=l.get(R);null==U&&(U=wn.newInvalidDocument(R),l=l.insert(R,U)),uy(N,U,T.localWriteTime),U.isFoundDocument()||(l=l.remove(R))}}))).next(()=>(l.forEach((m,w)=>{vi(r,w)||(l=l.remove(m))}),l))}Cn(n,r,a){let l=jt();for(const m of r)for(const w of m.mutations)w instanceof Ja&&null===a.get(w.key)&&(l=l.add(w.key));let f=a;return this.He.getEntries(n,l).next(m=>(m.forEach((w,T)=>{T.isFoundDocument()&&(f=f.insert(w,T))}),f))}}class Rp{constructor(n,r,a,l){this.targetId=n,this.fromCache=r,this.Nn=a,this.xn=l}static kn(n,r){let a=jt(),l=jt();for(const f of r.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new Rp(n,r.fromCache,a,l)}}class qb{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,a,l){return 0===(f=r).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||a.isEqual(_t.min())?this.Fn(n,r):this.On.Pn(n,l).next(f=>{const m=this.Mn(r,f);return(ty(r)||ny(r))&&this.Ln(r.limitType,m,l,a)?this.Fn(n,r):(rC()<=ei.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vb(r)),this.On.getDocumentsMatchingQuery(n,r,a).next(w=>(m.forEach(T=>{w=w.insert(T.key,T)}),w)))});var f}Mn(n,r){let a=new Mn(rs(n));return r.forEach((l,f)=>{vi(n,f)&&(a=a.add(f))}),a}Ln(n,r,a,l){if(a.size!==r.size)return!0;const f="F"===n?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Fn(n,r){return rC()<=ei.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",vb(r)),this.On.getDocumentsMatchingQuery(n,r,_t.min())}}class Hb{constructor(n,r,a,l){this.persistence=n,this.Bn=r,this.N=l,this.Un=new Yn(Tt),this.qn=new sa(f=>Qa(f),lp),this.Kn=_t.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new dI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function $b(i,n,r,a){return new Hb(i,n,r,a)}function hI(i,n){return fI.apply(this,arguments)}function fI(){return(fI=(0,we.Z)(function*(i,n){const r=Ze(i);let a=r.In,l=r.Qn;const f=yield r.persistence.runTransaction("Handle user change","readonly",m=>{let w;return r.In.getAllMutationBatches(m).next(T=>(w=T,a=r.persistence.getMutationQueue(n),l=new dI(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(m))).next(T=>{const N=[],R=[];let U=jt();for(const Y of w){N.push(Y.batchId);for(const z of Y.mutations)U=U.add(z.key)}for(const Y of T){R.push(Y.batchId);for(const z of Y.mutations)U=U.add(z.key)}return l.Pn(m,U).next(Y=>({Wn:Y,removedBatchIds:N,addedBatchIds:R}))})});return r.In=a,r.Qn=l,r.Bn.$n(r.Qn),f})).apply(this,arguments)}function jD(i,n){const r=Ze(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=n.batch.keys(),f=r.jn.newChangeBuffer({trackRemovals:!0});return function(m,w,T,N){const R=T.batch,U=R.keys();let Y=De.resolve();return U.forEach(z=>{Y=Y.next(()=>N.getEntry(w,z)).next(_e=>{const Fe=T.docVersions.get(z);it(null!==Fe),_e.version.compareTo(Fe)<0&&(R.applyToRemoteDocument(_e,T),_e.isValidDocument()&&N.addEntry(_e,T.commitVersion))})}),Y.next(()=>m.In.removeMutationBatch(w,R))}(r,a,n,f).next(()=>f.apply(a)).next(()=>r.In.performConsistencyCheck(a)).next(()=>r.Qn.Pn(a,l))})}function pI(i){const n=Ze(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function BD(i,n){const r=Ze(i),a=n.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const w=[];n.targetChanges.forEach((N,R)=>{const U=l.get(R);if(!U)return;w.push(r.ze.removeMatchingKeys(f,N.removedDocuments,R).next(()=>r.ze.addMatchingKeys(f,N.addedDocuments,R)));const Y=N.resumeToken;if(Y.approximateByteSize()>0){const z=U.withResumeToken(Y,a).withSequenceNumber(f.currentSequenceNumber);l=l.insert(R,z),_e=U,Be=N,it((Fe=z).resumeToken.approximateByteSize()>0),(0===_e.resumeToken.approximateByteSize()||Fe.snapshotVersion.toMicroseconds()-_e.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&w.push(r.ze.updateTargetData(f,z))}var _e,Fe,Be});let T=is();if(n.documentUpdates.forEach((N,R)=>{n.resolvedLimboDocuments.has(N)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(f,N))}),w.push(Gb(f,m,n.documentUpdates,a,void 0).next(N=>{T=N})),!a.isEqual(_t.min())){const N=r.ze.getLastRemoteSnapshotVersion(f).next(R=>r.ze.setTargetsMetadata(f,f.currentSequenceNumber,a));w.push(N)}return De.waitFor(w).next(()=>m.apply(f)).next(()=>r.Qn.vn(f,T)).next(()=>T)}).then(f=>(r.Un=l,f))}function Gb(i,n,r,a,l){let f=jt();return r.forEach(m=>f=f.add(m)),n.getEntries(i,f).next(m=>{let w=is();return r.forEach((T,N)=>{const R=m.get(T),U=(null==l?void 0:l.get(T))||a;N.isNoDocument()&&N.version.isEqual(_t.min())?(n.removeEntry(T,U),w=w.insert(T,N)):!R.isValidDocument()||N.version.compareTo(R.version)>0||0===N.version.compareTo(R.version)&&R.hasPendingWrites?(n.addEntry(N,U),w=w.insert(T,N)):ke("LocalStore","Ignoring outdated watch update for ",T,". Current version:",R.version," Watch version:",N.version)}),w})}function gI(i,n){const r=Ze(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(a,n)))}function Ql(i,n){const r=Ze(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.ze.getTargetData(a,n).next(f=>f?(l=f,De.resolve(l)):r.ze.allocateTargetId(a).next(m=>(l=new ra(n,m,0,a.currentSequenceNumber),r.ze.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.Un.get(a.targetId);return(null===l||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(a.targetId,a),r.qn.set(n,a.targetId)),a})}function ah(i,n,r){return zb.apply(this,arguments)}function zb(){return(zb=(0,we.Z)(function*(i,n,r){const a=Ze(i),l=a.Un.get(n),f=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",f,m=>a.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!nu(m))throw m;ke("LocalStore",`Failed to update sequence numbers for target ${n}: ${m}`)}a.Un=a.Un.remove(n),a.qn.delete(l.target)})).apply(this,arguments)}function xp(i,n,r){const a=Ze(i);let l=_t.min(),f=jt();return a.persistence.runTransaction("Execute query","readonly",m=>function(w,T,N){const R=Ze(w),U=R.qn.get(N);return void 0!==U?De.resolve(R.Un.get(U)):R.ze.getTargetData(T,N)}(a,m,Vi(n)).next(w=>{if(w)return l=w.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(m,w.targetId).next(T=>{f=T})}).next(()=>a.Bn.getDocumentsMatchingQuery(m,n,r?l:_t.min(),r?f:jt())).next(w=>({documents:w,Gn:f})))}function Op(i,n){const r=Ze(i),a=Ze(r.ze),l=r.Un.get(n);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",f=>a.Et(f,n).next(m=>m?m.target:null))}function mI(i){const n=Ze(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(a,l,f){const m=Ze(a);let w=is(),T=Ap(f);const N=au(l),R=IDBKeyRange.lowerBound(T,!0);return N.Kt({index:Fn.readTimeIndex,range:R},(U,Y)=>{const z=Pb(m.N,Y);w=w.insert(z.key,z),T=Y.readTime}).next(()=>({Tn:w,readTime:tI(T)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:a})=>(n.Kn=a,r))}function uh(){return(uh=(0,we.Z)(function*(i){const n=Ze(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(a){const l=au(a);let f=_t.min();return l.Kt({index:Fn.readTimeIndex,reverse:!0},(m,w,T)=>{w.readTime&&(f=tI(w.readTime)),T.done()}).next(()=>f)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function Jl(){return(Jl=(0,we.Z)(function*(i,n,r,a){const l=Ze(i);let f=jt(),m=is(),w=Sb();for(const R of r){const U=n.zn(R.metadata.name);R.document&&(f=f.add(U)),m=m.insert(U,n.Hn(R)),w=w.insert(U,n.Jn(R.metadata.readTime))}const T=l.jn.newChangeBuffer({trackRemovals:!0}),N=yield Ql(l,(R=a,Vi(Ns(Vt.fromString(`__bundle__/docs/${R}`)))));var R;return l.persistence.runTransaction("Apply bundle documents","readwrite",R=>Gb(R,T,m,_t.min(),w).next(U=>(T.apply(R),U)).next(U=>l.ze.removeMatchingKeysForTargetId(R,N.targetId).next(()=>l.ze.addMatchingKeys(R,f,N.targetId)).next(()=>l.Qn.vn(R,U)).next(()=>U)))})).apply(this,arguments)}function qD(i,n){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,we.Z)(function*(i,n,r=jt()){const a=yield Ql(i,Vi(kb(n.bundledQuery))),l=Ze(i);return l.persistence.runTransaction("Save named query","readwrite",f=>{const m=ur(n.readTime);if(a.snapshotVersion.compareTo(m)>=0)return l.Je.saveNamedQuery(f,n);const w=a.withResumeToken(Hn.EMPTY_BYTE_STRING,m);return l.Un=l.Un.insert(w.targetId,w),l.ze.updateTargetData(f,w).next(()=>l.ze.removeMatchingKeysForTargetId(f,a.targetId)).next(()=>l.ze.addMatchingKeys(f,r,a.targetId)).next(()=>l.Je.saveNamedQuery(f,n))})})).apply(this,arguments)}class xN{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return De.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var a;return this.Yn.set(r.id,{id:(a=r).id,version:a.version,createTime:ur(a.createTime)}),De.resolve()}getNamedQuery(n,r){return De.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(a=r).name,query:kb(a.bundledQuery),readTime:ur(a.readTime)}),De.resolve();var a}}class Kb{constructor(){this.Zn=new Mn(lr.ts),this.es=new Mn(lr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const a=new lr(n,r);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,r){n.forEach(a=>this.addReference(a,r))}removeReference(n,r){this.rs(new lr(n,r))}os(n,r){n.forEach(a=>this.removeReference(a,r))}cs(n){const r=new Ke(new Vt([])),a=new lr(r,n),l=new lr(r,n+1),f=[];return this.es.forEachInRange([a,l],m=>{this.rs(m),f.push(m.key)}),f}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new Ke(new Vt([])),a=new lr(r,n),l=new lr(r,n+1);let f=jt();return this.es.forEachInRange([a,l],m=>{f=f.add(m.key)}),f}containsKey(n){const r=new lr(n,0),a=this.Zn.firstAfterOrEqual(r);return null!==a&&n.isEqual(a.key)}}class lr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return Ke.comparator(n.key,r.key)||Tt(n.ls,r.ls)}static ns(n,r){return Tt(n.ls,r.ls)||Ke.comparator(n.key,r.key)}}class HD{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new Mn(lr.ts)}checkEmpty(n){return De.resolve(0===this.In.length)}addMutationBatch(n,r,a,l){const f=this.fs;this.fs++;const m=new Mb(f,r,a,l);this.In.push(m);for(const w of l)this.ds=this.ds.add(new lr(w.key,f)),this.Ht.addToCollectionParentIndex(n,w.key.path.popLast());return De.resolve(m)}lookupMutationBatch(n,r){return De.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const l=this._s(r+1),f=l<0?0:l;return De.resolve(this.In.length>f?this.In[f]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return De.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const a=new lr(r,0),l=new lr(r,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([a,l],m=>{const w=this.ws(m.ls);f.push(w)}),De.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Mn(Tt);return r.forEach(l=>{const f=new lr(l,0),m=new lr(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,m],w=>{a=a.add(w.ls)})}),De.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1;let f=a;Ke.isDocumentKey(f)||(f=f.child(""));const m=new lr(new Ke(f),0);let w=new Mn(Tt);return this.ds.forEachWhile(T=>{const N=T.key.path;return!!a.isPrefixOf(N)&&(N.length===l&&(w=w.add(T.ls)),!0)},m),De.resolve(this.gs(w))}gs(n){const r=[];return n.forEach(a=>{const l=this.ws(a);null!==l&&r.push(l)}),r}removeMutationBatch(n,r){it(0===this.ys(r.batchId,"removed")),this.In.shift();let a=this.ds;return De.forEach(r.mutations,l=>{const f=new lr(l.key,r.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,r){const a=new lr(r,0),l=this.ds.firstAfterOrEqual(a);return De.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(n){return De.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class $D{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Yn(Ke.comparator),this.size=0}addEntry(n,r,a){const l=r.key,f=this.docs.get(l),m=f?f.size:0,w=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:w,readTime:a}),this.size+=w-m,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const a=this.docs.get(r);return De.resolve(a?a.document.clone():wn.newInvalidDocument(r))}getEntries(n,r){let a=is();return r.forEach(l=>{const f=this.docs.get(l);a=a.insert(l,f?f.document.clone():wn.newInvalidDocument(l))}),De.resolve(a)}getDocumentsMatchingQuery(n,r,a){let l=is();const f=new Ke(r.path.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:w,value:{document:T,readTime:N}}=m.getNext();if(!r.path.isPrefixOf(w.path))break;N.compareTo(a)<=0||vi(r,T)&&(l=l.insert(T.key,T.clone()))}return De.resolve(l)}Es(n,r){return De.forEach(this.docs,a=>r(a))}newChangeBuffer(n){return new GD(this)}getSize(n){return De.resolve(this.size)}}class GD extends lI{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((a,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(n,l.document,this.getReadTime(a))):this.Se.removeEntry(a)}),De.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class zD{constructor(n){this.persistence=n,this.Ts=new sa(r=>Qa(r),lp),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Is=0,this.As=new Kb,this.targetCount=0,this.Rs=Kl.se()}forEachTarget(n,r){return this.Ts.forEach((a,l)=>r(l)),De.resolve()}getLastRemoteSnapshotVersion(n){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return De.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(n,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Is&&(this.Is=r),De.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new Kl(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,De.resolve()}updateTargetData(n,r){return this.ae(r),De.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,De.resolve()}removeTargets(n,r,a){let l=0;const f=[];return this.Ts.forEach((m,w)=>{w.sequenceNumber<=r&&null===a.get(w.targetId)&&(this.Ts.delete(m),f.push(this.removeMatchingKeysForTargetId(n,w.targetId)),l++)}),De.waitFor(f).next(()=>l)}getTargetCount(n){return De.resolve(this.targetCount)}getTargetData(n,r){const a=this.Ts.get(r)||null;return De.resolve(a)}addMatchingKeys(n,r,a){return this.As.ss(r,a),De.resolve()}removeMatchingKeys(n,r,a){this.As.os(r,a);const l=this.persistence.referenceDelegate,f=[];return l&&r.forEach(m=>{f.push(l.markPotentiallyOrphaned(n,m))}),De.waitFor(f)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),De.resolve()}getMatchingKeysForTargetId(n,r){const a=this.As.hs(r);return De.resolve(a)}containsKey(n,r){return De.resolve(this.As.containsKey(r))}}class WD{constructor(n,r){this.bs={},this.Le=new yi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new zD(this),this.Ht=new sI,this.He=new $D(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new XC(r),this.Je=new xN(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new HD(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,a){ke("MemoryPersistence","Starting transaction:",n);const l=new KD(this.Le.next());return this.referenceDelegate.vs(),a(l).next(f=>this.referenceDelegate.Vs(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ss(n,r){return De.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,r)))}}class KD extends YC{constructor(n){super(),this.currentSequenceNumber=n}}class Yb{constructor(n){this.persistence=n,this.Ds=new Kb,this.Cs=null}static Ns(n){return new Yb(n)}get xs(){if(this.Cs)return this.Cs;throw We()}addReference(n,r,a){return this.Ds.addReference(a,r),this.xs.delete(a.toString()),De.resolve()}removeReference(n,r,a){return this.Ds.removeReference(a,r),this.xs.add(a.toString()),De.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),De.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,r.targetId).next(l=>{l.forEach(f=>this.xs.add(f.toString()))}).next(()=>a.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.xs,a=>{const l=Ke.fromPath(a);return this.ks(n,l).next(f=>{f||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(a=>{a?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return De.or([()=>De.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function YD(i,n){return`firestore_clients_${i}_${n}`}function _I(i,n,r){let a=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function Xl(i,n){return`firestore_targets_${i}_${n}`}class Cy{constructor(n,r,a,l){this.user=n,this.batchId=r,this.state=a,this.error=l}static $s(n,r,a){const l=JSON.parse(a);let f,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(f=new Ne(l.error.code,l.error.message))),m?new Cy(n,r,l.state,f):(qn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Mp{constructor(n,r,a){this.targetId=n,this.state=r,this.error=a}static $s(n,r){const a=JSON.parse(r);let l,f="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new Ne(a.error.code,a.error.message))),f?new Mp(n,a.state,l):(qn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Iy{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const a=JSON.parse(r);let l="object"==typeof a&&a.activeTargetIds instanceof Array,f=yp();for(let m=0;l&&m<a.activeTargetIds.length;++m)l=hb(a.activeTargetIds[m]),f=f.add(a.activeTargetIds[m]);return l?new Iy(n,f):(qn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class lh{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new lh(r.clientId,r.onlineState):(qn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class oa{constructor(){this.activeTargetIds=yp()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Ty{constructor(n,r,a,l,f){this.window=n,this.Oe=r,this.persistenceKey=a,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Yn(Tt),this.started=!1,this.Ks=[];const m=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.js=YD(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new oa),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(w){return`firestore_bundle_loaded_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,we.Z)(function*(){const r=yield n.syncEngine.pn();for(const l of r){if(l===n.Ls)continue;const f=n.getItem(YD(n.persistenceKey,l));if(f){const m=Iy.$s(l,f);m&&(n.qs=n.qs.insert(m.clientId,m))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const l=n.Xs(a);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((a,l)=>{l.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,a){this.ei(n,r,a),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(Xl(this.persistenceKey,n));if(a){const l=Mp.$s(n,a);l&&(r=l.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Xl(this.persistenceKey,n))}updateQueryState(n,r,a){this.ii(n,r,a)}handleUserChange(n,r,a){r.forEach(l=>{this.ni(l)}),this.currentUser=n,a.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return ke("SharedClientState","READ",n,r),r}setItem(n,r){ke("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){ke("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const a=n;if(a.storageArea===this.storage){if(ke("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void qn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,we.Z)(function*(){if(r.started){if(null!==a.key)if(r.Ws.test(a.key)){if(null==a.newValue){const l=r.ai(a.key);return r.ci(l,null)}{const l=r.ui(a.key,a.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(a.key)){if(null!==a.newValue){const l=r.hi(a.key,a.newValue);if(l)return r.li(l)}}else if(r.zs.test(a.key)){if(null!==a.newValue){const l=r.fi(a.key,a.newValue);if(l)return r.di(l)}}else if(a.key===r.Hs){if(null!==a.newValue){const l=r.Xs(a.newValue);if(l)return r.Zs(l)}}else if(a.key===r.Qs){const l=function(f){let m=yi.T;if(null!=f)try{const w=JSON.parse(f);it("number"==typeof w),m=w}catch(w){qn("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(a.newValue);l!==yi.T&&r.sequenceNumberHandler(l)}else if(a.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,a){const l=new Cy(this.currentUser,n,r,a),f=_I(this.persistenceKey,this.currentUser,n);this.setItem(f,l.Os())}ni(n){const r=_I(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,a){const l=Xl(this.persistenceKey,n),f=new Mp(n,r,a);this.setItem(l,f.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const a=this.ai(n);return Iy.$s(a,r)}hi(n,r){const a=this.Gs.exec(n),l=Number(a[1]);return Cy.$s(new kr(void 0!==a[2]?a[2]:null),l,r)}fi(n,r){const a=this.zs.exec(n),l=Number(a[1]);return Mp.$s(l,r)}Xs(n){return lh.$s(n)}li(n){var r=this;return(0,we.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);ke("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const a=r?this.qs.insert(n,r):this.qs.remove(n),l=this.ti(this.qs),f=this.ti(a),m=[],w=[];return f.forEach(T=>{l.has(T)||m.push(T)}),l.forEach(T=>{f.has(T)||w.push(T)}),this.syncEngine.gi(m,w).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=yp();return n.forEach((a,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class vI{constructor(){this.yi=new oa,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,a){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new oa,Promise.resolve()}handleUserChange(n,r,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class ON{Ei(n){}shutdown(){}}class bI{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ay={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class QD{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class JD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,a,l){const f=this.Bi(n,r);ke("RestConnection","Sending: ",f,a);const m={};return this.Ui(m,l),this.qi(n,f,m,a).then(w=>(ke("RestConnection","Received: ",w),w),w=>{throw Qm("RestConnection",`${n} failed with error: `,w,"url: ",f,"request:",a),w})}Ki(n,r,a,l){return this.Li(n,r,a,l)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+kd,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const a in r.authHeaders)r.authHeaders.hasOwnProperty(a)&&(n[a]=r.authHeaders[a])}Bi(n,r){return`${this.Fi}/v1/${r}:${Ay[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,a,l){return new Promise((f,m)=>{const w=new ab;w.listenOnce(nC.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case np.NO_ERROR:const N=w.getResponseJson();ke("Connection","XHR received:",JSON.stringify(N)),f(N);break;case np.TIMEOUT:ke("Connection",'RPC "'+n+'" timed out'),m(new Ne(ye.DEADLINE_EXCEEDED,"Request time out"));break;case np.HTTP_ERROR:const R=w.getStatus();if(ke("Connection",'RPC "'+n+'" failed with status:',R,"response text:",w.getResponseText()),R>0){const U=w.getResponseJson().error;if(U&&U.status&&U.message){const Y=function(z){const _e=z.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(_e)>=0?_e:ye.UNKNOWN}(U.status);m(new Ne(Y,U.message))}else m(new Ne(ye.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Ne(ye.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{ke("Connection",'RPC "'+n+'" completed.')}});const T=JSON.stringify(l);w.send(r,"POST",T,a,15)})}ji(n,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=new tp,f=Mv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new ob({})),this.Ui(m.initMessageHeaders,r),(0,Mt.uI)()||(0,Mt.b$)()||(0,Mt.d)()||(0,Mt.w1)()||(0,Mt.Mn)()||(0,Mt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");ke("Connection","Creating WebChannel: "+w,m);const T=l.createWebChannel(w,m);let N=!1,R=!1;const U=new QD({vi:z=>{R?ke("Connection","Not sending because WebChannel is closed:",z):(N||(ke("Connection","Opening WebChannel transport."),T.open(),N=!0),ke("Connection","WebChannel sending:",z),T.send(z))},Vi:()=>T.close()}),Y=(z,_e,Fe)=>{z.listen(_e,Be=>{try{Fe(Be)}catch(st){setTimeout(()=>{throw st},0)}})};return Y(T,rp.EventType.OPEN,()=>{R||ke("Connection","WebChannel transport opened.")}),Y(T,rp.EventType.CLOSE,()=>{R||(R=!0,ke("Connection","WebChannel transport closed"),U.$i())}),Y(T,rp.EventType.ERROR,z=>{R||(R=!0,Qm("Connection","WebChannel transport errored:",z),U.$i(new Ne(ye.UNAVAILABLE,"The operation could not be completed")))}),Y(T,rp.EventType.MESSAGE,z=>{var _e;if(!R){const Fe=z.data[0];it(!!Fe);const Be=Fe,st=Be.error||(null===(_e=Be[0])||void 0===_e?void 0:_e.error);if(st){ke("Connection","WebChannel received error:",st);const Nt=st.status;let Ct=function(Di){const fA=$n[Di];if(void 0!==fA)return SC(fA)}(Nt),Gt=st.message;void 0===Ct&&(Ct=ye.INTERNAL,Gt="Unknown error status: "+Nt+" with message "+st.message),R=!0,U.$i(new Ne(Ct,Gt)),T.close()}else ke("Connection","WebChannel received:",Fe),U.Oi(Fe)}}),Y(f,dD.STAT_EVENT,z=>{z.stat===sb_PROXY?ke("Connection","Detected buffering proxy"):z.stat===sb_NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.ki()},0),U}}function Qb(){return"undefined"!=typeof window?window:null}function Pp(){return"undefined"!=typeof document?document:null}function ec(i){return new LC(i,!0)}class Dy{constructor(n,r,a=1e3,l=1.5,f=6e4){this.Oe=n,this.timerId=r,this.Qi=a,this.Wi=l,this.Gi=f,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-a);l>0&&ke("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Jb{constructor(n,r,a,l,f,m){this.Oe=n,this.er=a,this.nr=l,this.credentialsProvider=f,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Dy(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,we.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,we.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var a=this;return(0,we.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==n?a.rr.reset():r&&r.code===ye.RESOURCE_EXHAUSTED?(qn(r.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):r&&r.code===ye.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===r&&this.yr(a)},a=>{n(()=>{const l=new Ne(ye.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(l)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{r(()=>this.pr(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}ur(){var n=this;this.state=4,this.rr.Xi((0,we.Z)(function*(){n.state=0,n.start()}))}pr(n){return ke("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XD extends Jb{constructor(n,r,a,l,f){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,a,f),this.N=l}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const a="NO_CHANGE"===(T=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:We(),l=n.targetChange.targetIds||[],f=function(T,N){return T.D?(it(void 0===N||"string"==typeof N),Hn.fromBase64String(N||"")):(it(void 0===N||N instanceof Uint8Array),Hn.fromUint8Array(N||new Uint8Array))}(i,n.targetChange.resumeToken),m=n.targetChange.cause,w=m&&function(T){const N=void 0===T.code?ye.UNKNOWN:SC(T.code);return new Ne(N,T.message||"")}(m);r=new PC(a,l,f,w||null)}else if("documentChange"in n){const a=n.documentChange,l=Ui(i,a.document.name),f=ur(a.document.updateTime),m=new Er({mapValue:{fields:a.document.fields}}),w=wn.newFoundDocument(l,f,m);r=new _p(a.targetIds||[],a.removedTargetIds||[],w.key,w)}else if("documentDelete"in n){const a=n.documentDelete,l=Ui(i,a.document),f=a.readTime?ur(a.readTime):_t.min(),m=wn.newNoDocument(l,f);r=new _p([],a.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const a=n.documentRemove,l=Ui(i,a.document);r=new _p([],a.removedTargetIds||[],l,null)}else{if(!("filter"in n))return We();{const a=n.filter,f=new ID(a.count||0);r=new Xa(a.targetId,f)}}var T;return r}(this.N,n),a=function(l){if(!("targetChange"in l))return _t.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?_t.min():f.readTime?ur(f.readTime):_t.min()}(n);return this.listener.Tr(r,a)}Ir(n){const r={};r.database=fy(this.N),r.addTarget=function(l,f){let m;const w=f.target;return m=cp(w)?{documents:jC(l,w)}:{query:BC(l,w)},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?m.resumeToken=tt(l,f.resumeToken):f.snapshotVersion.compareTo(_t.min())>0&&(m.readTime=hy(l,f.snapshotVersion.toTimestamp())),m}(this.N,n);const a=function(i,n){const r=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return We()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);a&&(r.labels=a),this.wr(r)}Ar(n){const r={};r.database=fy(this.N),r.removeTarget=n,this.wr(r)}}class eS extends Jb{constructor(n,r,a,l,f){super(n,"write_stream_connection_backoff","write_stream_idle",r,a,f),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(it(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(it(void 0!==n),i.map(r=>function(a,l){let f=ur(a.updateTime?a.updateTime:l);return f.isEqual(_t.min())&&(f=ur(l)),new Ib(f,a.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),a=ur(n.commitTime);return this.listener.vr(a,r)}return it(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=fy(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(a=>Ep(this.N,a))};this.wr(r)}}class EI extends class{}{constructor(n,r,a){super(),this.credentials=n,this.nr=r,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ne(ye.UNKNOWN,l.toString())})}Ki(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ne(ye.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class tS{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(qn(r),this.$r=!1):ke("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class wI{constructor(n,r,a,l,f){var m=this;this.localStore=n,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=f,this.Qr.Ei(w=>{a.enqueueAndForget((0,we.Z)(function*(){var T;Qn(m)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,we.Z)(function*(N){const R=Ze(N);R.Kr.add(4),yield kp(R),R.Wr.set("Unknown"),R.Kr.delete(4),yield uu(R)}),function(N){return T.apply(this,arguments)})(m))}))}),this.Wr=new tS(a,l)}}function uu(i){return ch.apply(this,arguments)}function ch(){return(ch=(0,we.Z)(function*(i){if(Qn(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function kp(i){return tc.apply(this,arguments)}function tc(){return(tc=(0,we.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function Pt(i,n){const r=Ze(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),ht(r)?CI(r):hh(r).cr()&&lu(r,n))}function ss(i,n){const r=Ze(i),a=hh(r);r.qr.delete(n),a.cr()&&dh(r,n),0===r.qr.size&&(a.cr()?a.lr():Qn(r)&&r.Wr.set("Unknown"))}function lu(i,n){i.Gr.Y(n.targetId),hh(i).Ir(n)}function dh(i,n){i.Gr.Y(n),hh(i).Ar(n)}function CI(i){i.Gr=new Wd({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),hh(i).start(),i.Wr.Or()}function ht(i){return Qn(i)&&!hh(i).ar()&&i.qr.size>0}function Qn(i){return 0===Ze(i).Kr.size}function Sy(i){i.Gr=void 0}function nc(i){return II.apply(this,arguments)}function II(){return(II=(0,we.Z)(function*(i){i.qr.forEach((n,r)=>{lu(i,n)})})).apply(this,arguments)}function TI(i,n){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,we.Z)(function*(i,n){Sy(i),ht(i)?(i.Wr.Lr(n),CI(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function MN(i,n,r){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,we.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof PC&&2===n.state&&n.cause)try{yield(a=(0,we.Z)(function*(l,f){const m=f.cause;for(const w of f.targetIds)l.qr.has(w)&&(yield l.remoteSyncer.rejectListen(w,m),l.qr.delete(w),l.Gr.removeTarget(w))}),function(l,f){return a.apply(this,arguments)})(i,n)}catch(a){ke("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield Ry(i,a)}else if(n instanceof _p?i.Gr.rt(n):n instanceof Xa?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(_t.min()))try{const a=yield pI(i.localStore);r.compareTo(a)>=0&&(yield function(l,f){const m=l.Gr._t(f);return m.targetChanges.forEach((w,T)=>{if(w.resumeToken.approximateByteSize()>0){const N=l.qr.get(T);N&&l.qr.set(T,N.withResumeToken(w.resumeToken,f))}}),m.targetMismatches.forEach(w=>{const T=l.qr.get(w);if(!T)return;l.qr.set(w,T.withResumeToken(Hn.EMPTY_BYTE_STRING,T.snapshotVersion)),dh(l,w);const N=new ra(T.target,w,1,T.sequenceNumber);lu(l,N)}),l.remoteSyncer.applyRemoteEvent(m)}(i,r))}catch(a){ke("RemoteStore","Failed to raise snapshot:",a),yield Ry(i,a)}var a})).apply(this,arguments)}function Ry(i,n,r){return wi.apply(this,arguments)}function wi(){return(wi=(0,we.Z)(function*(i,n,r){if(!nu(n))throw n;i.Kr.add(1),yield kp(i),i.Wr.set("Offline"),r||(r=()=>pI(i.localStore)),i.asyncQueue.enqueueRetryable((0,we.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield uu(i)}))})).apply(this,arguments)}function Cn(i,n){return n().catch(r=>Ry(i,r,n))}function Vr(i){return xy.apply(this,arguments)}function xy(){return(xy=(0,we.Z)(function*(i){const n=Ze(i),r=Ps(n);let a=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;nS(n);)try{const l=yield gI(n.localStore,a);if(null===l){0===n.Ur.length&&r.lr();break}a=l.batchId,AI(n,l)}catch(l){yield Ry(n,l)}Oy(n)&&rc(n)})).apply(this,arguments)}function nS(i){return Qn(i)&&i.Ur.length<10}function AI(i,n){i.Ur.push(n);const r=Ps(i);r.cr()&&r.br&&r.Pr(n.mutations)}function Oy(i){return Qn(i)&&!Ps(i).ar()&&i.Ur.length>0}function rc(i){Ps(i).start()}function Fp(i){return eE.apply(this,arguments)}function eE(){return(eE=(0,we.Z)(function*(i){Ps(i).Sr()})).apply(this,arguments)}function ic(i){return tE.apply(this,arguments)}function tE(){return(tE=(0,we.Z)(function*(i){const n=Ps(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function DI(i,n,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,we.Z)(function*(i,n,r){const a=i.Ur.shift(),l=yy.from(a,n,r);yield Cn(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Vr(i)})).apply(this,arguments)}function Vp(i,n){return Up.apply(this,arguments)}function Up(){return(Up=(0,we.Z)(function*(i,n){var r;n&&Ps(i).br&&(yield(r=(0,we.Z)(function*(a,l){if(DC(f=l.code)&&f!==ye.ABORTED){const m=a.Ur.shift();Ps(a).hr(),yield Cn(a,()=>a.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield Vr(a)}var f}),function(a,l){return r.apply(this,arguments)})(i,n)),Oy(i)&&rc(i)})).apply(this,arguments)}function My(i,n){return cu.apply(this,arguments)}function cu(){return(cu=(0,we.Z)(function*(i,n){const r=Ze(i);n?(r.Kr.delete(2),yield uu(r)):n||(r.Kr.add(2),yield kp(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function hh(i){return i.zr||(i.zr=function(n,r,a){const l=Ze(n);return l.Cr(),new XD(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:nc.bind(null,i),Ci:TI.bind(null,i),Tr:MN.bind(null,i)}),i.jr.push(function(){var n=(0,we.Z)(function*(r){r?(i.zr.hr(),ht(i)?CI(i):i.Wr.set("Unknown")):(yield i.zr.stop(),Sy(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function Ps(i){return i.Hr||(i.Hr=function(n,r,a){const l=Ze(n);return l.Cr(),new eS(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:Fp.bind(null,i),Ci:Vp.bind(null,i),Vr:ic.bind(null,i),vr:DI.bind(null,i)}),i.jr.push(function(){var n=(0,we.Z)(function*(r){r?(i.Hr.hr(),yield Vr(i)):(yield i.Hr.stop(),i.Ur.length>0&&(ke("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class Py{constructor(n,r,a,l,f){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=f,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(n,r,a,l,f){const m=Date.now()+a,w=new Py(n,r,m,l,f);return w.start(a),w}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ye.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sc(i,n){if(qn("AsyncQueue",`${n}: ${i}`),nu(i))return new Ne(ye.UNAVAILABLE,`${n}: ${i}`);throw i}class oc{constructor(n){this.comparator=n?(r,a)=>n(r,a)||Ke.comparator(r.key,a.key):(r,a)=>Ke.comparator(r.key,a.key),this.keyedMap=cy(),this.sortedSet=new Yn(this.comparator)}static emptySet(n){return new oc(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,a)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof oc)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=a.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const a=new oc;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=r,a}}class Zp{constructor(){this.Jr=new Yn(Ke.comparator)}track(n){const r=n.doc.key,a=this.Jr.get(r);a?0!==n.type&&3===a.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==a.type?this.Jr=this.Jr.insert(r,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Jr=this.Jr.remove(r):1===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):We():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,a)=>{n.push(a)}),n}}class fh{constructor(n,r,a,l,f,m,w,T){this.query=n,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=w,this.excludesMetadataChanges=T}static fromInitialDocuments(n,r,a,l){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new fh(n,r,oc.emptySet(r),f,a,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&_i(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,a=n.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class nE{constructor(){this.Xr=void 0,this.listeners=[]}}class rE{constructor(){this.queries=new sa(n=>_C(n),_i),this.onlineState="Unknown",this.Zr=new Set}}function SI(i,n){return NI.apply(this,arguments)}function NI(){return(NI=(0,we.Z)(function*(i,n){const r=Ze(i),a=n.query;let l=!1,f=r.queries.get(a);if(f||(l=!0,f=new nE),l)try{f.Xr=yield r.onListen(a)}catch(m){const w=sc(m,`Initialization of query '${vb(n.query)}' failed`);return void n.onError(w)}r.queries.set(a,f),f.listeners.push(n),n.eo(r.onlineState),f.Xr&&n.no(f.Xr)&&iE(r)})).apply(this,arguments)}function lt(i,n){return RI.apply(this,arguments)}function RI(){return(RI=(0,we.Z)(function*(i,n){const r=Ze(i),a=n.query;let l=!1;const f=r.queries.get(a);if(f){const m=f.listeners.indexOf(n);m>=0&&(f.listeners.splice(m,1),l=0===f.listeners.length)}if(l)return r.queries.delete(a),r.onUnlisten(a)})).apply(this,arguments)}function jp(i,n){const r=Ze(i);let a=!1;for(const l of n){const m=r.queries.get(l.query);if(m){for(const w of m.listeners)w.no(l)&&(a=!0);m.Xr=l}}a&&iE(r)}function rS(i,n,r){const a=Ze(i),l=a.queries.get(n);if(l)for(const f of l.listeners)f.onError(r);a.queries.delete(n)}function iE(i){i.Zr.forEach(n=>{n.next()})}class sE{constructor(n,r,a){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(n){if(!this.options.includeMetadataChanges){const a=[];for(const l of n.docChanges)3!==l.type&&a.push(l);n=new fh(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=fh.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class PN{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class iS{constructor(n){this.N=n}zn(n){return Ui(this.N,n)}Hn(n){return n.metadata.exists?VC(this.N,n.document,!1):wn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return ur(n)}}class sS{constructor(n,r,a){this.lo=n,this.localStore=r,this.N=a,this.queries=[],this.documents=[],this.progress=Tr(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,a=new iS(this.N);for(const l of n)if(l.metadata.queries){const f=a.zn(l.metadata.name);for(const m of l.metadata.queries){const w=(r.get(m)||jt()).add(f);r.set(m,w)}}return r}complete(){var n=this;return(0,we.Z)(function*(){const r=yield function(i,n,r,a){return Jl.apply(this,arguments)}(n.localStore,new iS(n.N),n.documents,n.lo.id),a=n.wo(n.documents);for(const l of n.queries)yield qD(n.localStore,l,a.get(l.name));return n.progress.taskState="Success",new ZD(Object.assign({},n.progress),r)})()}}function Tr(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class xI{constructor(n){this.key=n}}class OI{constructor(n){this.key=n}}class ky{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=jt(),this.mutatedKeys=jt(),this.po=rs(n),this.Eo=new oc(this.po)}get To(){return this._o}Io(n,r){const a=r?r.Ao:new Zp,l=r?r.Eo:this.Eo;let f=r?r.mutatedKeys:this.mutatedKeys,m=l,w=!1;const T=ty(this.query)&&l.size===this.query.limit?l.last():null,N=ny(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((R,U)=>{const Y=l.get(R),z=vi(this.query,U)?U:null,_e=!!Y&&this.mutatedKeys.has(Y.key),Fe=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Be=!1;Y&&z?Y.data.isEqual(z.data)?_e!==Fe&&(a.track({type:3,doc:z}),Be=!0):this.Ro(Y,z)||(a.track({type:2,doc:z}),Be=!0,(T&&this.po(z,T)>0||N&&this.po(z,N)<0)&&(w=!0)):!Y&&z?(a.track({type:0,doc:z}),Be=!0):Y&&!z&&(a.track({type:1,doc:Y}),Be=!0,(T||N)&&(w=!0)),Be&&(z?(m=m.add(z),f=Fe?f.add(R):f.delete(R)):(m=m.delete(R),f=f.delete(R)))}),ty(this.query)||ny(this.query))for(;m.size>this.query.limit;){const R=ty(this.query)?m.last():m.first();m=m.delete(R.key),f=f.delete(R.key),a.track({type:1,doc:R})}return{Eo:m,Ao:a,Ln:w,mutatedKeys:f}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,a){const l=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const f=n.Ao.Yr();f.sort((N,R)=>function(U,Y){const z=_e=>{switch(_e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return z(U)-z(Y)}(N.type,R.type)||this.po(N.doc,R.doc)),this.bo(a);const m=r?this.Po():[],w=0===this.yo.size&&this.current?1:0,T=w!==this.mo;return this.mo=w,0!==f.length||T?{snapshot:new fh(this.query,n.Eo,l,f,n.mutatedKeys,0===w,T,!1),vo:m}:{vo:m}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Zp,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=jt(),this.Eo.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const r=[];return n.forEach(a=>{this.yo.has(a)||r.push(new OI(a))}),this.yo.forEach(a=>{n.has(a)||r.push(new xI(a))}),r}So(n){this._o=n.Gn,this.yo=jt();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return fh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class oS{constructor(n,r,a){this.query=n,this.targetId=r,this.view=a}}class aS{constructor(n){this.key=n,this.Co=!1}}class uS{constructor(n,r,a,l,f,m){this.localStore=n,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new sa(w=>_C(w),_i),this.ko=new Map,this.$o=new Set,this.Oo=new Yn(Ke.comparator),this.Fo=new Map,this.Mo=new Kb,this.Lo={},this.Bo=new Map,this.Uo=Kl.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function lS(i,n){return oE.apply(this,arguments)}function oE(){return(oE=(0,we.Z)(function*(i,n){const r=qi(i);let a,l;const f=r.xo.get(n);if(f)a=f.targetId,r.sharedClientState.addLocalQueryTarget(a),l=f.view.Do();else{const m=yield Ql(r.localStore,Vi(n)),w=r.sharedClientState.addLocalQueryTarget(m.targetId);a=m.targetId,l=yield aE(r,n,a,"current"===w),r.isPrimaryClient&&Pt(r.remoteStore,m)}return l})).apply(this,arguments)}function aE(i,n,r,a){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,we.Z)(function*(i,n,r,a){i.Ko=(R,U,Y)=>{return(z=(0,we.Z)(function*(_e,Fe,Be,st){let Nt=Fe.view.Io(Be);Nt.Ln&&(Nt=yield xp(_e.localStore,Fe.query,!1).then(({documents:Di})=>Fe.view.Io(Di,Nt)));const Ct=st&&st.targetChanges.get(Fe.targetId),Gt=Fe.view.applyChanges(Nt,_e.isPrimaryClient,Ct);return fE(_e,Fe.targetId,Gt.vo),Gt.snapshot}),function(_e,Fe,Be,st){return z.apply(this,arguments)})(i,R,U,Y);var z};const l=yield xp(i.localStore,n,!0),f=new ky(n,l.Gn),m=f.Io(l.documents),w=Gl.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==i.onlineState),T=f.applyChanges(m,i.isPrimaryClient,w);fE(i,r,T.vo);const N=new oS(n,r,f);return i.xo.set(n,N),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),T.snapshot})).apply(this,arguments)}function cS(i,n){return uE.apply(this,arguments)}function uE(){return(uE=(0,we.Z)(function*(i,n){const r=Ze(i),a=r.xo.get(n),l=r.ko.get(a.targetId);if(l.length>1)return r.ko.set(a.targetId,l.filter(f=>!_i(f,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield ah(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),ss(r.remoteStore,a.targetId),Hp(r,a.targetId)}).catch(ou))):(Hp(r,a.targetId),yield ah(r.localStore,a.targetId,!0))})).apply(this,arguments)}function qp(){return(qp=(0,we.Z)(function*(i,n,r){const a=Gp(i);try{const l=yield function(f,m){const w=Ze(f),T=or.now(),N=m.reduce((U,Y)=>U.add(Y.key),jt());let R;return w.persistence.runTransaction("Locally write mutations","readwrite",U=>w.Qn.Pn(U,N).next(Y=>{R=Y;const z=[];for(const _e of m){const Fe=CC(_e,R.get(_e.key));null!=Fe&&z.push(new Ja(_e.key,Fe,cC(Fe.value.mapValue),Dn.exists(!0)))}return w.In.addMutationBatch(U,T,z,m)})).then(U=>(U.applyToLocalDocumentSet(R),{batchId:U.batchId,changes:R}))}(a.localStore,n);a.sharedClientState.addPendingMutation(l.batchId),function(f,m,w){let T=f.Lo[f.currentUser.toKey()];T||(T=new Yn(Tt)),T=T.insert(m,w),f.Lo[f.currentUser.toKey()]=T}(a,l.batchId,r),yield aa(a,l.changes),yield Vr(a.remoteStore)}catch(l){const f=sc(l,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function PI(i,n){return kI.apply(this,arguments)}function kI(){return(kI=(0,we.Z)(function*(i,n){const r=Ze(i);try{const a=yield BD(r.localStore,n);n.targetChanges.forEach((l,f)=>{const m=r.Fo.get(f);m&&(it(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.Co=!0:l.modifiedDocuments.size>0?it(m.Co):l.removedDocuments.size>0&&(it(m.Co),m.Co=!1))}),yield aa(r,a,n)}catch(a){yield ou(a)}})).apply(this,arguments)}function FI(i,n,r){const a=Ze(i);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const l=[];a.xo.forEach((f,m)=>{const w=m.view.eo(n);w.snapshot&&l.push(w.snapshot)}),function(f,m){const w=Ze(f);w.onlineState=m;let T=!1;w.queries.forEach((N,R)=>{for(const U of R.listeners)U.eo(m)&&(T=!0)}),T&&iE(w)}(a.eventManager,n),l.length&&a.No.Tr(l),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function dS(i,n,r){return lE.apply(this,arguments)}function lE(){return(lE=(0,we.Z)(function*(i,n,r){const a=Ze(i);a.sharedClientState.updateQueryState(n,"rejected",r);const l=a.Fo.get(n),f=l&&l.key;if(f){let m=new Yn(Ke.comparator);m=m.insert(f,wn.newNoDocument(f,_t.min()));const w=jt().add(f),T=new zd(_t.min(),new Map,new Mn(Tt),m,w);yield PI(a,T),a.Oo=a.Oo.remove(f),a.Fo.delete(n),pE(a)}else yield ah(a.localStore,n,!1).then(()=>Hp(a,n,r)).catch(ou)})).apply(this,arguments)}function hS(i,n){return cE.apply(this,arguments)}function cE(){return(cE=(0,we.Z)(function*(i,n){const r=Ze(i),a=n.batch.batchId;try{const l=yield jD(r.localStore,n);uc(r,a,null),Fy(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield aa(r,l)}catch(l){yield ou(l)}})).apply(this,arguments)}function fS(i,n,r){return ac.apply(this,arguments)}function ac(){return(ac=(0,we.Z)(function*(i,n,r){const a=Ze(i);try{const l=yield function(f,m){const w=Ze(f);return w.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let N;return w.In.lookupMutationBatch(T,m).next(R=>(it(null!==R),N=R.keys(),w.In.removeMutationBatch(T,R))).next(()=>w.In.performConsistencyCheck(T)).next(()=>w.Qn.Pn(T,N))})}(a.localStore,n);uc(a,n,r),Fy(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),yield aa(a,l)}catch(l){yield ou(l)}})).apply(this,arguments)}function dE(){return(dE=(0,we.Z)(function*(i,n){const r=Ze(i);Qn(r.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(f){const m=Ze(f);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>m.In.getHighestUnacknowledgedBatchId(w))}(r.localStore);if(-1===a)return void n.resolve();const l=r.Bo.get(a)||[];l.push(n),r.Bo.set(a,l)}catch(a){const l=sc(a,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}function Fy(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function uc(i,n,r){const a=Ze(i);let l=a.Lo[a.currentUser.toKey()];if(l){const f=l.get(n);f&&(r?f.reject(r):f.resolve(),l=l.remove(n)),a.Lo[a.currentUser.toKey()]=l}}function Hp(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const a of i.ko.get(n))i.xo.delete(a),r&&i.No.jo(a,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(a=>{i.Mo.containsKey(a)||hE(i,a)})}function hE(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(ss(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),pE(i))}function fE(i,n,r){for(const a of r)a instanceof xI?(i.Mo.addReference(a.key,n),gS(i,a)):a instanceof OI?(ke("SyncEngine","Document no longer in limbo: "+a.key),i.Mo.removeReference(a.key,n),i.Mo.containsKey(a.key)||hE(i,a.key)):We()}function gS(i,n){const r=n.key,a=r.path.canonicalString();i.Oo.get(r)||i.$o.has(a)||(ke("SyncEngine","New document in limbo: "+r),i.$o.add(a),pE(i))}function pE(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new Ke(Vt.fromString(n)),a=i.Uo.next();i.Fo.set(a,new aS(r)),i.Oo=i.Oo.insert(r,a),Pt(i.remoteStore,new ra(Vi(Ns(r.path)),a,2,yi.T))}}function aa(i,n,r){return gE.apply(this,arguments)}function gE(){return(gE=(0,we.Z)(function*(i,n,r){const a=Ze(i),l=[],f=[],m=[];var w;a.xo.isEmpty()||(a.xo.forEach((w,T)=>{m.push(a.Ko(T,n,r).then(N=>{if(N){a.isPrimaryClient&&a.sharedClientState.updateQueryState(T.targetId,N.fromCache?"not-current":"current"),l.push(N);const R=Rp.kn(T.targetId,N);f.push(R)}}))}),yield Promise.all(m),a.No.Tr(l),yield(w=(0,we.Z)(function*(T,N){const R=Ze(T);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>De.forEach(N,Y=>De.forEach(Y.Nn,z=>R.persistence.referenceDelegate.addReference(U,Y.targetId,z)).next(()=>De.forEach(Y.xn,z=>R.persistence.referenceDelegate.removeReference(U,Y.targetId,z)))))}catch(U){if(!nu(U))throw U;ke("LocalStore","Failed to update sequence numbers: "+U)}for(const U of N){const Y=U.targetId;if(!U.fromCache){const z=R.Un.get(Y),Fe=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);R.Un=R.Un.insert(Y,Fe)}}}),function(T,N){return w.apply(this,arguments)})(a.localStore,f))})).apply(this,arguments)}function LI(i,n){return mE.apply(this,arguments)}function mE(){return(mE=(0,we.Z)(function*(i,n){const r=Ze(i);if(!r.currentUser.isEqual(n)){ke("SyncEngine","User change. New user:",n.toKey());const a=yield hI(r.localStore,n);r.currentUser=n,(l=r).Bo.forEach(m=>{m.forEach(w=>{w.reject(new Ne(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield aa(r,a.Wn)}var l})).apply(this,arguments)}function mS(i,n){const r=Ze(i),a=r.Fo.get(n);if(a&&a.Co)return jt().add(a.key);{let l=jt();const f=r.ko.get(n);if(!f)return l;for(const m of f){const w=r.xo.get(m);l=l.unionWith(w.view.To)}return l}}function kN(i,n){return VI.apply(this,arguments)}function VI(){return(VI=(0,we.Z)(function*(i,n){const r=Ze(i),a=yield xp(r.localStore,n.query,!0),l=n.view.So(a);return r.isPrimaryClient&&fE(r,n.targetId,l.vo),l})).apply(this,arguments)}function FN(i){return $p.apply(this,arguments)}function $p(){return($p=(0,we.Z)(function*(i){const n=Ze(i);return mI(n.localStore).then(r=>aa(n,r))})).apply(this,arguments)}function yS(i,n,r,a){return yE.apply(this,arguments)}function yE(){return(yE=(0,we.Z)(function*(i,n,r,a){const l=Ze(i),f=yield function(m,w){const T=Ze(m),N=Ze(T.In);return T.persistence.runTransaction("Lookup mutation documents","readonly",R=>N.Xt(R,w).next(U=>U?T.Qn.Pn(R,U):De.resolve(null)))}(l.localStore,n);var w;null!==f?("pending"===r?yield Vr(l.remoteStore):"acknowledged"===r||"rejected"===r?(uc(l,n,a||null),Fy(l,n),w=n,Ze(Ze(l.localStore).In).te(w)):We(),yield aa(l,f)):ke("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function _E(){return(_E=(0,we.Z)(function*(i,n){const r=Ze(i);if(qi(r),Gp(r),!0===n&&!0!==r.qo){const a=r.sharedClientState.getAllActiveQueryTargets(),l=yield UI(r,a.toArray());r.qo=!0,yield My(r.remoteStore,!0);for(const f of l)Pt(r.remoteStore,f)}else if(!1===n&&!1!==r.qo){const a=[];let l=Promise.resolve();r.ko.forEach((f,m)=>{r.sharedClientState.isLocalQueryTarget(m)?a.push(m):l=l.then(()=>(Hp(r,m),ah(r.localStore,m,!0))),ss(r.remoteStore,m)}),yield l,yield UI(r,a),function(f){const m=Ze(f);m.Fo.forEach((w,T)=>{ss(m.remoteStore,T)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Yn(Ke.comparator)}(r),r.qo=!1,yield My(r.remoteStore,!1)}})).apply(this,arguments)}function UI(i,n,r){return vE.apply(this,arguments)}function vE(){return(vE=(0,we.Z)(function*(i,n,r){const a=Ze(i),l=[],f=[];for(const m of n){let w;const T=a.ko.get(m);if(T&&0!==T.length){w=yield Ql(a.localStore,Vi(T[0]));for(const N of T){const R=a.xo.get(N),U=yield kN(a,R);U.snapshot&&f.push(U.snapshot)}}else{const N=yield Op(a.localStore,m);w=yield Ql(a.localStore,N),yield aE(a,bE(N),m,!1)}l.push(w)}return a.No.Tr(f),l})).apply(this,arguments)}function bE(i){return yb(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function EE(i){const n=Ze(i);return Ze(Ze(n.localStore).persistence).pn()}function vS(i,n,r,a){return du.apply(this,arguments)}function du(){return(du=(0,we.Z)(function*(i,n,r,a){const l=Ze(i);if(l.qo)ke("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(n))switch(r){case"current":case"not-current":{const f=yield mI(l.localStore),m=zd.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield aa(l,f,m);break}case"rejected":yield ah(l.localStore,n,!0),Hp(l,n,a);break;default:We()}})).apply(this,arguments)}function Ur(i,n,r){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,we.Z)(function*(i,n,r){const a=qi(i);if(a.qo){for(const l of n){if(a.ko.has(l)){ke("SyncEngine","Adding an already active target "+l);continue}const f=yield Op(a.localStore,l),m=yield Ql(a.localStore,f);yield aE(a,bE(f),m.targetId,!1),Pt(a.remoteStore,m)}for(const l of r)a.ko.has(l)&&(yield ah(a.localStore,l,!1).then(()=>{ss(a.remoteStore,l),Hp(a,l)}).catch(ou))}})).apply(this,arguments)}function qi(i){const n=Ze(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=mS.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=dS.bind(null,n),n.No.Tr=jp.bind(null,n.eventManager),n.No.jo=rS.bind(null,n.eventManager),n}function Gp(i){const n=Ze(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=hS.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=fS.bind(null,n),n}class wE{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,we.Z)(function*(){r.N=ec(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return $b(this.persistence,new qb,n.initialUser,this.N)}Go(n){return new WD(Yb.Ns,this.N)}Wo(n){return new vI}terminate(){var n=this;return(0,we.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class CE extends wE{constructor(n,r,a){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,a=this;return(0,we.Z)(function*(){yield r().call(a,n),yield function(i){return uh.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,n),yield Gp(a.Jo.syncEngine),yield Vr(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(n){return $b(this.persistence,new qb,n.initialUser,this.N)}zo(n){return new FD(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=Bb(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ei.withCacheSize(this.cacheSizeBytes):Ei.DEFAULT;return new Zb(this.synchronizeTabs,r,n.clientId,a,n.asyncQueue,Qb(),Pp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new vI}}class ZI extends CE{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,a=this;return(0,we.Z)(function*(){yield r().call(a,n);const l=a.Jo.syncEngine;a.sharedClientState instanceof Ty&&(a.sharedClientState.syncEngine={_i:yS.bind(null,l),mi:vS.bind(null,l),gi:Ur.bind(null,l),pn:EE.bind(null,l),wi:FN.bind(null,l)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var f=(0,we.Z)(function*(m){yield function(i,n){return _E.apply(this,arguments)}(a.Jo.syncEngine,m),a.gcScheduler&&(m&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):m||a.gcScheduler.stop())});return function(m){return f.apply(this,arguments)}}())})()}Wo(n){const r=Qb();if(!Ty.bt(r))throw new Ne(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Bb(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Ty(r,n.asyncQueue,a,n.clientId,n.initialUser)}}class IE{initialize(n,r){var a=this;return(0,we.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>FI(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=LI.bind(null,a.syncEngine),yield My(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new rE}createDatastore(n){const r=ec(n.databaseInfo.databaseId),a=new JD(n.databaseInfo);return new EI(n.credentials,a,r)}createRemoteStore(n){return r=this.localStore,a=this.datastore,l=n.asyncQueue,f=w=>FI(this.syncEngine,w,0),m=bI.bt()?new bI:new ON,new wI(r,a,l,f,m);var r,a,l,f,m}createSyncEngine(n,r){return function(a,l,f,m,w,T,N){const R=new uS(a,l,f,m,w,T);return N&&(R.qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,we.Z)(function*(r){const a=Ze(r);ke("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield kp(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function jI(i,n=10240){let r=0;return{read:()=>(0,we.Z)(function*(){if(r<i.byteLength){const a={value:i.slice(r,r+n),done:!1};return r+=n,a}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vy{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class BI{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new br,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,we.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,we.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,we.Z)(function*(){const r=yield n.na();if(null===r)return null;const a=n.ta.decode(r),l=Number(a);isNaN(l)&&n.sa(`length string (${a}) is not valid number`);const f=yield n.ia(l);return new PN(JSON.parse(f),r.length+l)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,we.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),a})()}ia(n){var r=this;return(0,we.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const a=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),a})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,we.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const a=new Uint8Array(n.buffer.length+r.value.length);a.set(n.buffer),a.set(r.value,n.buffer.length),n.buffer=a}return r.done})()}}class ES{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,we.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ne(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(l=(0,we.Z)(function*(f,m){const w=Ze(f),T=fy(w.N)+"/documents",N={documents:m.map(z=>bp(w.N,z))},R=yield w.Ki("BatchGetDocuments",T,N),U=new Map;R.forEach(z=>{const _e=function(i,n){return"found"in n?function(r,a){it(!!a.found);const l=Ui(r,a.found.name),f=ur(a.found.updateTime),m=new Er({mapValue:{fields:a.found.fields}});return wn.newFoundDocument(l,f,m)}(i,n):"missing"in n?function(r,a){it(!!a.missing),it(!!a.readTime);const l=Ui(r,a.missing),f=ur(a.readTime);return wn.newNoDocument(l,f)}(i,n):We()}(w.N,z);U.set(_e.key.toString(),_e)});const Y=[];return m.forEach(z=>{const _e=U.get(z.toString());it(!!_e),Y.push(_e)}),Y}),function(f,m){return l.apply(this,arguments)})(r.datastore,n);var l;return a.forEach(l=>r.recordVersion(l)),a})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new mp(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,we.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var a;n.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,l)=>{const f=Ke.fromPath(l);n.mutations.push(new Db(f,n.precondition(f)))}),yield(a=(0,we.Z)(function*(l,f){const m=Ze(l),w=fy(m.N)+"/documents",T={writes:f.map(N=>Ep(m.N,N))};yield m.Li("Commit",w,T)}),function(l,f){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw We();r=_t.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!r.isEqual(a))throw new Ne(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?Dn.updateTime(r):Dn.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(_t.min()))throw new Ne(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(r)}return Dn.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class LN{constructor(n,r,a,l){this.asyncQueue=n,this.datastore=r,this.updateFunction=a,this.deferred=l,this.aa=5,this.rr=new Dy(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,we.Z)(function*(){const r=new ES(n.datastore),a=n.ua(r);a&&a.then(l=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(l)}).catch(f=>{n.ha(f)}))}).catch(l=>{n.ha(l)})}))}ua(n){try{const r=this.updateFunction(n);return!na(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!DC(r)}return!1}}class wS{constructor(n,r,a){var l=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=kr.UNAUTHENTICATED,this.clientId=cb.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var f=(0,we.Z)(function*(m){ke("FirestoreClient","Received user=",m.uid),yield l.credentialListener(m),l.user=m});return function(m){return f.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,we.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(a){const l=sc(a,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function qI(i,n){return hu.apply(this,arguments)}function hu(){return(hu=(0,we.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,we.Z)(function*(f){a.isEqual(f)||(yield hI(n.localStore,f),a=f)});return function(f){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function CS(i,n){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,we.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield TE(i);ke("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield n.initialize(r,a),i.setCredentialChangeListener(l=>{return(f=(0,we.Z)(function*(m,w){const T=Ze(m);T.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const N=Qn(T);T.Kr.add(3),yield kp(T),N&&T.Wr.set("Unknown"),yield T.remoteSyncer.handleCredentialChange(w),T.Kr.delete(3),yield uu(T)}),function(m,w){return f.apply(this,arguments)})(n.remoteStore,l);var f}),i.onlineComponents=n})).apply(this,arguments)}function TE(i){return HI.apply(this,arguments)}function HI(){return(HI=(0,we.Z)(function*(i){return i.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield qI(i,new wE)),i.offlineComponents})).apply(this,arguments)}function zp(i){return AE.apply(this,arguments)}function AE(){return(AE=(0,we.Z)(function*(i){return i.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield CS(i,new IE)),i.onlineComponents})).apply(this,arguments)}function Zy(i){return TE(i).then(n=>n.persistence)}function jy(i){return TE(i).then(n=>n.localStore)}function $I(i){return zp(i).then(n=>n.remoteStore)}function DE(i){return zp(i).then(n=>n.syncEngine)}function ph(i){return SE.apply(this,arguments)}function SE(){return(SE=(0,we.Z)(function*(i){const n=yield zp(i),r=n.eventManager;return r.onListen=lS.bind(null,n.syncEngine),r.onUnlisten=cS.bind(null,n.syncEngine),r})).apply(this,arguments)}function GI(i,n,r={}){const a=new br;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(l,f,m,w,T){const N=new Vy({next:U=>{f.enqueueAndForget(()=>lt(l,R));const Y=U.docs.has(m);!Y&&U.fromCache?T.reject(new Ne(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&U.fromCache&&w&&"server"===w.source?T.reject(new Ne(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(U)},error:U=>T.reject(U)}),R=new sE(Ns(m.path),N,{includeMetadataChanges:!0,uo:!0});return SI(l,R)}(yield ph(i),i.asyncQueue,n,r,a)})),a.promise}function gh(i,n,r={}){const a=new br;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(l,f,m,w,T){const N=new Vy({next:U=>{f.enqueueAndForget(()=>lt(l,R)),U.fromCache&&"server"===w.source?T.reject(new Ne(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(U)},error:U=>T.reject(U)}),R=new sE(m,N,{includeMetadataChanges:!0,uo:!0});return SI(l,R)}(yield ph(i),i.asyncQueue,n,r,a)})),a.promise}class QI{constructor(n,r,a,l,f,m,w,T){this.databaseId=n,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=w,this.useFetchStreams=T}}class mh{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof mh&&n.projectId===this.projectId&&n.database===this.database}}const JI=new Map;function NE(i,n,r){if(!r)throw new Ne(ye.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function XI(i,n,r,a){if(!0===n&&!0===a)throw new Ne(ye.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function eT(i){if(!Ke.isDocumentKey(i))throw new Ne(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function tT(i){if(Ke.isDocumentKey(i))throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function By(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=function(r){if(r.constructor){const a=/function\s+([^\s(]+)\s*\(/.exec(r.constructor.toString());if(a&&a.length>1)return a[1]}return null}(i);return n?`a custom ${n} object`:"an object"}}return"function"==typeof i?"a function":We()}function Dt(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Ne(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=By(i);throw new Ne(ye.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function yh(i,n){if(n<=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class nT{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Ne(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ne(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,XI("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class lc{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,n instanceof mh?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ne(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(a.options.projectId)}(n))}get app(){if(!this._app)throw new Ne(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new sC;switch(r.type){case"gapi":const a=r.client;return it(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new fD(a,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ne(ye.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JI.get(n);r&&(ke("ComponentProvider","Removing Datastore"),JI.delete(n),r.terminate())}(this),Promise.resolve()}}class cn{constructor(n,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new cn(this.firestore,n,this._key)}}class Jn{constructor(n,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new Jn(this.firestore,n,this._query)}}class mo extends Jn{constructor(n,r,a){super(n,r,Ns(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new cn(this.firestore,null,new Ke(n))}withConverter(n){return new mo(this.firestore,n,this._path)}}function rT(i,n,...r){if(i=(0,Mt.m9)(i),NE("collection","path",n),i instanceof lc){const a=Vt.fromString(n,...r);return tT(a),new mo(i,null,a)}{if(!(i instanceof cn||i instanceof mo))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Vt.fromString(n,...r));return tT(a),new mo(i.firestore,null,a)}}function _h(i,n,...r){if(i=(0,Mt.m9)(i),1===arguments.length&&(n=cb.I()),NE("doc","path",n),i instanceof lc){const a=Vt.fromString(n,...r);return eT(a),new cn(i,null,new Ke(a))}{if(!(i instanceof cn||i instanceof mo))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Vt.fromString(n,...r));return eT(a),new cn(i.firestore,i instanceof mo?i.converter:null,new Ke(a))}}function qy(i,n){return i=(0,Mt.m9)(i),n=(0,Mt.m9)(n),(i instanceof cn||i instanceof mo)&&(n instanceof cn||n instanceof mo)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function RE(i,n){return i=(0,Mt.m9)(i),n=(0,Mt.m9)(n),i instanceof Jn&&n instanceof Jn&&i.firestore===n.firestore&&_i(i._query,n._query)&&i.converter===n.converter}class xE{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Dy(this,"async_queue_retry"),this.Ea=()=>{const r=Pp();r&&ke("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=Pp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=Pp();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new br;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,we.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!nu(r))throw r;ke("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(a=>{throw this.ma=a,this.ga=!1,qn("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=r,r}enqueueAfterDelay(n,r,a){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const l=Py.createAndSchedule(this,n,r,a,f=>this.Ra(f));return this._a.push(l),l}Ta(){this.ma&&We()}verifyOperationInProgress(){}ba(){var n=this;return(0,we.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function Wp(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const a=n;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(i)}class SS{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,a){this._progressObserver={next:n,error:r,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Pn extends lc{constructor(n,r){super(n,r),this.type="firestore",this._queue=new xE,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||OE(this),this._firestoreClient.terminate()}}function Ln(i){return i._firestoreClient||OE(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function OE(i){var n;const r=i._freezeSettings(),a=(f=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new QI(i._databaseId,f,i._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var f,w;i._firestoreClient=new wS(i._credentials,i._queue,a)}function ME(i,n,r){const a=new br;return i.asyncQueue.enqueue((0,we.Z)(function*(){try{yield qI(i,r),yield CS(i,n),a.resolve()}catch(l){if(!("FirebaseError"===(f=l).name?f.code===ye.FAILED_PRECONDITION||f.code===ye.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l)}var f})).then(()=>a.promise)}function Zr(i){if(i._initialized||i._terminated)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ci{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Ne(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class yo{constructor(n){this._byteString=n}static fromBase64String(n){try{return new yo(Hn.fromBase64String(n))}catch(r){throw new Ne(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new yo(Hn.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class vh{constructor(n){this._methodName=n}}class fu{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Ne(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Ne(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Tt(this._lat,n._lat)||Tt(this._long,n._long)}}const FS=/^__.*__$/;class PE{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return null!==this.fieldMask?new Ja(n,this.data,this.fieldMask,r,this.fieldTransforms):new Gd(n,this.data,r,this.fieldTransforms)}}class aT{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return new Ja(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function kE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class Hy{constructor(n,r,a,l,f,m){this.settings=n,this.databaseId=r,this.N=a,this.ignoreUndefinedProperties=l,void 0===f&&this.Sa(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new Hy(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.ka(n),l}$a(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.Sa(),l}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return Jp(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(kE(this.Da)&&FS.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class LS{constructor(n,r,a){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=a||ec(n)}Ba(n,r,a,l=!1){return new Hy({Da:n,methodName:r,La:a,path:ar.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function ua(i){const n=i._freezeSettings(),r=ec(i._databaseId);return new LS(i._databaseId,!!n.ignoreUndefinedProperties,r)}function Kp(i,n,r,a,l,f={}){const m=i.Ba(f.merge||f.mergeFields?2:0,n,r,l);LE("Data must be an object, but it was:",m,a);const w=Gy(a,m);let T,N;if(f.merge)T=new Ya(m.fieldMask),N=m.fieldTransforms;else if(f.mergeFields){const R=[];for(const U of f.mergeFields){const Y=VE(n,U,r);if(!m.contains(Y))throw new Ne(ye.INVALID_ARGUMENT,`Field '${Y}' is specified in your field mask but missing from your input data.`);cT(R,Y)||R.push(Y)}T=new Ya(R),N=m.fieldTransforms.filter(U=>T.covers(U.field))}else T=null,N=m.fieldTransforms;return new PE(new Er(w),T,N)}class bh extends vh{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof bh}}function Yp(i,n,r){return new Hy({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class Qp extends vh{_toFieldTransform(n){return new $d(n.path,new fo)}isEqual(n){return n instanceof Qp}}class BN extends vh{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=Yp(this,n,!0),a=this.Ua.map(f=>cc(f,r)),l=new ql(a);return new $d(n.path,l)}isEqual(n){return this===n}}class uT extends vh{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=Yp(this,n,!0),a=this.Ua.map(f=>cc(f,r)),l=new Hl(a);return new $d(n.path,l)}isEqual(n){return this===n}}class VS extends vh{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new $l(n.N,vC(n.N,this.qa));return new $d(n.path,r)}isEqual(n){return this===n}}function $y(i,n,r,a){const l=i.Ba(1,n,r);LE("Data must be an object, but it was:",l,a);const f=[],m=Er.empty();Ul(a,(T,N)=>{const R=Wy(n,T,r);N=(0,Mt.m9)(N);const U=l.$a(R);if(N instanceof bh)f.push(R);else{const Y=cc(N,U);null!=Y&&(f.push(R),m.set(R,Y))}});const w=new Ya(f);return new aT(m,w,l.fieldTransforms)}function Eh(i,n,r,a,l,f){const m=i.Ba(1,n,r),w=[VE(n,a,r)],T=[l];if(f.length%2!=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Y=0;Y<f.length;Y+=2)w.push(VE(n,f[Y])),T.push(f[Y+1]);const N=[],R=Er.empty();for(let Y=w.length-1;Y>=0;--Y)if(!cT(N,w[Y])){const z=w[Y];let _e=T[Y];_e=(0,Mt.m9)(_e);const Fe=m.$a(z);if(_e instanceof bh)N.push(z);else{const Be=cc(_e,Fe);null!=Be&&(N.push(z),R.set(z,Be))}}const U=new Ya(N);return new aT(R,U,m.fieldTransforms)}function FE(i,n,r,a=!1){return cc(r,i.Ba(a?4:3,n))}function cc(i,n){if(zy(i=(0,Mt.m9)(i)))return LE("Unsupported field value:",n,i),Gy(i,n);if(i instanceof vh)return function(r,a){if(!kE(a.Da))throw a.Fa(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,a){const l=[];let f=0;for(const m of r){let w=cc(m,a.Oa(f));null==w&&(w={nullValue:"NULL_VALUE"}),l.push(w),f++}return{arrayValue:{values:l}}}(i,n)}return function(r,a){if(null===(r=(0,Mt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return vC(a.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=or.fromDate(r);return{timestampValue:hy(a.N,l)}}if(r instanceof or){const l=new or(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hy(a.N,l)}}if(r instanceof fu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yo)return{bytesValue:tt(a.N,r._byteString)};if(r instanceof cn){const l=a.databaseId,f=r.firestore._databaseId;if(!f.isEqual(l))throw a.Fa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Nb(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Fa(`Unsupported field value: ${By(r)}`)}(i,n)}function Gy(i,n){const r={};return aC(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ul(i,(a,l)=>{const f=cc(l,n.Na(a));null!=f&&(r[a]=f)}),{mapValue:{fields:r}}}function zy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof or||i instanceof fu||i instanceof yo||i instanceof cn||i instanceof vh)}function LE(i,n,r){if(!zy(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=By(r);throw n.Fa("an object"===a?i+" a custom object":i+" "+a)}var a}function VE(i,n,r){if((n=(0,Mt.m9)(n))instanceof Ci)return n._internalPath;if("string"==typeof n)return Wy(i,n);throw Jp("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const lT=new RegExp("[~\\*/\\[\\]]");function Wy(i,n,r){if(n.search(lT)>=0)throw Jp(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Ci(...n.split("."))._internalPath}catch(a){throw Jp(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Jp(i,n,r,a,l){const f=a&&!a.isEmpty(),m=void 0!==l;let w=`Function ${n}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let T="";return(f||m)&&(T+=" (found",f&&(T+=` in field ${a}`),m&&(T+=` in document ${l}`),T+=")"),new Ne(ye.INVALID_ARGUMENT,w+i+T)}function cT(i,n){return i.some(r=>r.isEqual(n))}class wh{constructor(n,r,a,l,f){this._firestore=n,this._userDataWriter=r,this._key=a,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new dT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(Ky("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class dT extends wh{data(){return super.data()}}function Ky(i,n){return"string"==typeof n?Wy(i,n):n instanceof Ci?n._internalPath:n._delegate._internalPath}class dc{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class _o extends wh{constructor(n,r,a,l,f,m){super(n,r,a,l,m),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new Xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const a=this._document.data.field(Ky("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Xp extends _o{data(n={}){return super.data(n)}}class la{constructor(n,r,a,l){this._firestore=n,this._userDataWriter=r,this._snapshot=l,this.metadata=new dc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(a=>{n.call(r,new Xp(this._firestore,this._userDataWriter,a.key,a,new dc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ne(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>({type:"added",doc:new Xp(a._firestore,a._userDataWriter,m.doc.key,m.doc,new dc(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:f++}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const w=new Xp(a._firestore,a._userDataWriter,m.doc.key,m.doc,new dc(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let T=-1,N=-1;return 0!==m.type&&(T=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),1!==m.type&&(f=f.add(m.doc),N=f.indexOf(m.doc.key)),{type:hT(m.type),doc:w,oldIndex:T,newIndex:N}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function hT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}function UE(i,n){return i instanceof _o&&n instanceof _o?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof la&&n instanceof la&&i._firestore===n._firestore&&RE(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function ZE(i){if(ny(i)&&0===i.explicitOrderBy.length)throw new Ne(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}function pu(i,...n){for(const r of n)i=r._apply(i);return i}class US extends eg{constructor(n,r,a){super(),this.Ka=n,this.ja=r,this.Qa=a,this.type="where"}_apply(n){const r=ua(n.firestore),a=function(l,f,m,w,T,N,R){let U;if(T.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on FieldPath.documentId().`);if("in"===N||"not-in"===N){$S(R,N);const z=[];for(const _e of R)z.push(HS(w,l,_e));U={arrayValue:{values:z}}}else U=HS(w,l,R)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||$S(R,N),U=FE(m,"where",R,"in"===N||"not-in"===N);const Y=Fr.create(T,N,U);return function(z,_e){if(_e.v()){const Be=_b(z);if(null!==Be&&!Be.isEqual(_e.field))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Be.toString()}' and '${_e.field.toString()}'`);const st=ry(z);null!==st&&GS(0,_e.field,st)}const Fe=function(Be,st){for(const Nt of Be.filters)if(st.indexOf(Nt.op)>=0)return Nt.op;return null}(z,function(Be){switch(Be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(_e.op));if(null!==Fe)throw new Ne(ye.INVALID_ARGUMENT,Fe===_e.op?`Invalid query. You cannot use more than one '${_e.op.toString()}' filter.`:`Invalid query. You cannot use '${_e.op.toString()}' filters with '${Fe.toString()}' filters.`)}(l,Y),Y}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Jn(n.firestore,n.converter,function(l,f){const m=l.filters.concat([f]);return new ho(l.path,l.collectionGroup,l.explicitOrderBy.slice(),m,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,a))}}class qN extends eg{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(a,l,f){if(null!==a.startAt)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Hd(l,f);return function(w,T){if(null===ry(w)){const N=_b(w);null!==N&&GS(0,N,T.field)}}(a,m),m}(n._query,this.Ka,this.Wa);return new Jn(n.firestore,n.converter,function(a,l){const f=a.explicitOrderBy.concat([l]);return new ho(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,r))}}class ZS extends eg{constructor(n,r,a){super(),this.type=n,this.Ga=r,this.za=a}_apply(n){return new Jn(n.firestore,n.converter,sy(n._query,this.Ga,this.za))}}class jS extends eg{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=qS(n,this.type,this.Ha,this.Ja);return new Jn(n.firestore,n.converter,(l=r,new ho((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)));var a,l}}class BS extends eg{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=qS(n,this.type,this.Ha,this.Ja);return new Jn(n.firestore,n.converter,(l=r,new ho((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)));var a,l}}function qS(i,n,r,a){if(r[0]=(0,Mt.m9)(r[0]),r[0]instanceof wh)return function(l,f,m,w,T){if(!w)throw new Ne(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const N=[];for(const R of hp(l))if(R.field.isKeyField())N.push(qd(f,w.key));else{const U=w.data.field(R.field);if(ip(U))throw new Ne(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const Y=R.field.canonicalString();throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Y}' (used as the orderBy) does not exist.`)}N.push(U)}return new An(N,T)}(i._query,i.firestore._databaseId,n,r[0]._document,a);{const l=ua(i.firestore);return function(f,m,w,T,N,R){const U=f.explicitOrderBy;if(N.length>U.length)throw new Ne(ye.INVALID_ARGUMENT,`Too many arguments provided to ${T}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Y=[];for(let z=0;z<N.length;z++){const _e=N[z];if(U[z].field.isKeyField()){if("string"!=typeof _e)throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${T}(), but got a ${typeof _e}`);if(!iy(f)&&-1!==_e.indexOf("/"))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${T}() must be a plain document ID, but '${_e}' contains a slash.`);const Fe=f.path.child(Vt.fromString(_e));if(!Ke.isDocumentKey(Fe))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${T}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const Be=new Ke(Fe);Y.push(qd(m,Be))}else{const Fe=FE(w,T,_e);Y.push(Fe)}}return new An(Y,R)}(i._query,i.firestore._databaseId,l,n,r,a)}}function HS(i,n,r){if("string"==typeof(r=(0,Mt.m9)(r))){if(""===r)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!iy(n)&&-1!==r.indexOf("/"))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=n.path.child(Vt.fromString(r));if(!Ke.isDocumentKey(a))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return qd(i,new Ke(a))}if(r instanceof cn)return qd(i,r._key);throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${By(r)}.`)}function $S(i,n){if(!Array.isArray(i)||0===i.length)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function GS(i,n,r){if(!r.isEqual(n))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class pT{convertValue(n,r="none"){switch(jl(n)){case 0:return null;case 1:return n.booleanValue;case 2:return En(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(Ud(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw We()}}convertObject(n,r){const a={};return Ul(n.fields,(l,f)=>{a[l]=this.convertValue(f,r)}),a}convertGeoPoint(n){return new fu(En(n.latitude),En(n.longitude))}convertArray(n,r){return(n.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(n,r){switch(r){case"previous":const a=Jm(n);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(sp(n));default:return null}}convertTimestamp(n){const r=Zl(n);return new or(r.seconds,r.nanos)}convertDocumentKey(n,r){const a=Vt.fromString(n);it(zC(a));const l=new mh(a.get(1),a.get(3)),f=new Ke(a.popFirst(5));return l.isEqual(r)||qn(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function jE(i,n,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,a}class zS extends pT{constructor(n){super(),this.firestore=n}convertBytes(n){return new yo(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new cn(this.firestore,null,r)}}class gT{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ua(n)}set(n,r,a){this._verifyNotCommitted();const l=gu(n,this._firestore),f=jE(l.converter,r,a),m=Kp(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,a);return this._mutations.push(m.toMutation(l._key,Dn.none())),this}update(n,r,a,...l){this._verifyNotCommitted();const f=gu(n,this._firestore);let m;return m="string"==typeof(r=(0,Mt.m9)(r))||r instanceof Ci?Eh(this._dataReader,"WriteBatch.update",f._key,r,a,l):$y(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(m.toMutation(f._key,Dn.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=gu(n,this._firestore);return this._mutations=this._mutations.concat(new mp(r._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gu(i,n){if((i=(0,Mt.m9)(i)).firestore!==n)throw new Ne(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ch extends pT{constructor(n){super(),this.firestore=n}convertBytes(n){return new yo(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new cn(this.firestore,null,r)}}function QS(i,n,r){i=Dt(i,cn);const a=Dt(i.firestore,Pn),l=jE(i.converter,n,r);return mu(a,[Kp(ua(a),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Dn.none())])}function JS(i,n,r,...a){i=Dt(i,cn);const l=Dt(i.firestore,Pn),f=ua(l);let m;return m="string"==typeof(n=(0,Mt.m9)(n))||n instanceof Ci?Eh(f,"updateDoc",i._key,n,r,a):$y(f,"updateDoc",i._key,n),mu(l,[m.toMutation(i._key,Dn.exists(!0))])}function e1(i,...n){var r,a,l;i=(0,Mt.m9)(i);let f={includeMetadataChanges:!1},m=0;"object"!=typeof n[m]||Wp(n[m])||(f=n[m],m++);const w={includeMetadataChanges:f.includeMetadataChanges};if(Wp(n[m])){const U=n[m];n[m]=null===(r=U.next)||void 0===r?void 0:r.bind(U),n[m+1]=null===(a=U.error)||void 0===a?void 0:a.bind(U),n[m+2]=null===(l=U.complete)||void 0===l?void 0:l.bind(U)}let T,N,R;if(i instanceof cn)N=Dt(i.firestore,Pn),R=Ns(i._key.path),T={next:U=>{n[m]&&n[m](yu(N,i,U))},error:n[m+1],complete:n[m+2]};else{const U=Dt(i,Jn);N=Dt(U.firestore,Pn),R=U._query;const Y=new Ch(N);T={next:z=>{n[m]&&n[m](new la(N,Y,U,z))},error:n[m+1],complete:n[m+2]},ZE(i._query)}return function(U,Y,z,_e){const Fe=new Vy(_e),Be=new sE(Y,Fe,z);return U.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return SI(yield ph(U),Be)})),()=>{Fe.Xo(),U.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return lt(yield ph(U),Be)}))}}(Ln(N),R,w,T)}function mu(i,n){return function(r,a){const l=new br;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,n,r){return qp.apply(this,arguments)}(yield DE(r),a,l)})),l.promise}(Ln(i),n)}function yu(i,n,r){const a=r.docs.get(n._key),l=new Ch(i);return new _o(i,l,n._key,a,new dc(r.hasPendingWrites,r.fromCache),n.converter)}class mT extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ua(n)}get(n){const r=gu(n,this._firestore),a=new zS(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return We();const f=l[0];if(f.isFoundDocument())return new wh(this._firestore,a,f.key,f,r.converter);if(f.isNoDocument())return new wh(this._firestore,a,r._key,null,r.converter);throw We()})}set(n,r,a){const l=gu(n,this._firestore),f=jE(l.converter,r,a),m=Kp(this._dataReader,"Transaction.set",l._key,f,null!==l.converter,a);return this._transaction.set(l._key,m),this}update(n,r,a,...l){const f=gu(n,this._firestore);let m;return m="string"==typeof(r=(0,Mt.m9)(r))||r instanceof Ci?Eh(this._dataReader,"Transaction.update",f._key,r,a,l):$y(this._dataReader,"Transaction.update",f._key,r),this._transaction.update(f._key,m),this}delete(n){const r=gu(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=gu(n,this._firestore),a=new Ch(this._firestore);return super.get(n).then(l=>new _o(this._firestore,a,r._key,l._document,new dc(!1,!1),r.converter))}}function wT(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function i1(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function s1(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){kd=i})(vv.SDK_VERSION),(0,vv._registerComponent)(new Am.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),a=new Pn(r,new hD(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),a._setSettings(n),a},"PUBLIC")),(0,vv.registerVersion)("@firebase/firestore","3.0.2",void 0);class tg{constructor(n){this._delegate=n}static fromBase64String(n){return s1(),new tg(yo.fromBase64String(n))}static fromUint8Array(n){return i1(),new tg(yo.fromUint8Array(n))}toBase64(){return s1(),this._delegate.toBase64()}toUint8Array(){return i1(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CT(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(i)}class o1{enableIndexedDbPersistence(n,r){return function(i,n){Zr(i=Dt(i,Pn));const r=Ln(i),a=i._freezeSettings(),l=new IE;return ME(r,l,new CE(l,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){Zr(i=Dt(i,Pn));const n=Ln(i),r=i._freezeSettings(),a=new IE;return ME(n,a,new ZI(a,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Ne(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new br;return i._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(r=(0,we.Z)(function*(a){if(!Ms.bt())return Promise.resolve();const l=a+"main";yield Ms.delete(l)}),function(a){return r.apply(this,arguments)})(Bb(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class a1{constructor(n,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof mh||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&Qm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,a={}){!function(i,n,r,a={}){var l;const f=(i=Dt(i,lc))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==n&&Qm("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${n}:${r}`,ssl:!1})),a.mockUserToken){let m,w;if("string"==typeof a.mockUserToken)m=a.mockUserToken,w=kr.MOCK_USER;else{m=(0,Mt.Sg)(a.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Ne(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new kr(T)}i._credentials=new IN(new iC(m,w))}}(this._delegate,n,r,a)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,we.Z)(function*(){const n=yield Zy(i),r=yield $I(i);return n.setNetworkEnabled(!0),function(a){const l=Ze(a);return l.Kr.delete(0),uu(l)}(r)}))}(Ln(i=Dt(i,Pn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,we.Z)(function*(){const n=yield Zy(i),r=yield $I(i);return n.setNetworkEnabled(!1),(a=(0,we.Z)(function*(l){const f=Ze(l);f.Kr.add(0),yield kp(f),f.Wr.set("Offline")}),function(l){return a.apply(this,arguments)})(r);var a}))}(Ln(i=Dt(i,Pn)))}(this._delegate)}enablePersistence(n){let r=!1,a=!1;return n&&(r=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,XI("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new br;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,n){return dE.apply(this,arguments)}(yield DE(n),r)})),r.promise}(Ln(i=Dt(i,Pn)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new Vy(n);return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return a=yield ph(i),l=r,Ze(a).Zr.add(l),void l.next();var a,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return a=yield ph(i),l=r,void Ze(a).Zr.delete(l);var a,l}))}}(Ln(i=Dt(i,Pn)),Wp(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Th(this,rT(this._delegate,n))}catch(r){throw Ii(r,"collection()","Firestore.collection()")}}doc(n){try{return new os(this,_h(this._delegate,n))}catch(r){throw Ii(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new ri(this,function(i,n){if(i=Dt(i,lc),NE("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jn(i,null,(r=n,new ho(Vt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw Ii(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new br;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const a=yield(l=i,zp(l).then(f=>f.datastore));var l;new LN(i.asyncQueue,a,n,r).run()})),r.promise}(Ln(i),r=>n(new mT(i,r)))}(this._delegate,r=>n(new IT(this,r)))}batch(){return Ln(this._delegate),new u1(new gT(this._delegate,n=>mu(this._delegate,n)))}loadBundle(n){return function(i,n){const r=Ln(i=Dt(i,Pn)),a=new SS;return function(i,n,r,a){const l=function(f,m){let w;return w="string"==typeof f?(new TextEncoder).encode(f):f,T=function(T,N){if(T instanceof Uint8Array)return jI(T,N);if(T instanceof ArrayBuffer)return jI(new Uint8Array(T),N);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new BI(T,m);var T}(r,ec(n));i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function(i,n,r){const a=Ze(i);var l;(l=(0,we.Z)(function*(f,m,w){try{const T=yield m.getMetadata();if(yield function(Y,z){const _e=Ze(Y),Fe=ur(z.createTime);return _e.persistence.runTransaction("hasNewerBundle","readonly",Be=>_e.Je.getBundleMetadata(Be,z.id)).then(Be=>!!Be&&Be.createTime.compareTo(Fe)>=0)}(f.localStore,T))return yield m.close(),void w._completeWith((Y=T,{taskState:"Success",documentsLoaded:Y.totalDocuments,bytesLoaded:Y.totalBytes,totalDocuments:Y.totalDocuments,totalBytes:Y.totalBytes}));w._updateProgress(Tr(T));const N=new sS(T,f.localStore,m.N);let R=yield m.Qo();for(;R;){const Y=yield N.fo(R);Y&&w._updateProgress(Y),R=yield m.Qo()}const U=yield N.complete();yield aa(f,U.Tn,void 0),yield function(Y,z){const _e=Ze(Y);return _e.persistence.runTransaction("Save bundle","readwrite",Fe=>_e.Je.saveBundleMetadata(Fe,z))}(f.localStore,T),w._completeWith(U.progress)}catch(T){Qm("SyncEngine",`Loading bundle failed with ${T}`),w._failWith(T)}var Y}),function(f,m,w){return l.apply(this,arguments)})(a,n,r).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield DE(i),l,a)}))}(r,i._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,we.Z)(function*(){return function(r,a){const l=Ze(r);return l.persistence.runTransaction("Get named query","readonly",f=>l.Je.getNamedQuery(f,a))}(yield jy(i),n)}))}(Ln(i=Dt(i,Pn)),n).then(r=>r?new Jn(i,null,r.query):null)}(this._delegate,n).then(r=>r?new ri(this,r):null)}}class qE extends pT{constructor(n){super(),this.firestore=n}convertBytes(n){return new tg(new yo(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return os.forKey(r,this.firestore,null)}}class IT{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new qE(n)}get(n){const r=hc(n);return this._delegate.get(r).then(a=>new Jy(this._firestore,new _o(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(n,r,a){const l=hc(n);return a?(wT("Transaction.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const f=hc(n);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,a,...l),this}delete(n){const r=hc(n);return this._delegate.delete(r),this}}class u1{constructor(n){this._delegate=n}set(n,r,a){const l=hc(n);return a?(wT("WriteBatch.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const f=hc(n);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,a,...l),this}delete(n){const r=hc(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Ih{constructor(n,r,a){this._firestore=n,this._userDataWriter=r,this._delegate=a}fromFirestore(n,r){const a=new Xp(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Xy(this._firestore,a),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const a=Ih.INSTANCES;let l=a.get(n);l||(l=new WeakMap,a.set(n,l));let f=l.get(r);return f||(f=new Ih(n,new qE(n),r),l.set(r,f)),f}}Ih.INSTANCES=new WeakMap;class os{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new qE(n)}static forPath(n,r,a){if(n.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new os(r,new cn(r._delegate,a,new Ke(n)))}static forKey(n,r,a){return new os(r,new cn(r._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new Th(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Th(this.firestore,rT(this._delegate,n))}catch(r){throw Ii(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Mt.m9)(n))instanceof cn&&qy(this._delegate,n)}set(n,r){r=wT("DocumentReference.set",r);try{return r?QS(this._delegate,n,r):QS(this._delegate,n)}catch(a){throw Ii(a,"setDoc()","DocumentReference.set()")}}update(n,r,...a){try{return 1===arguments.length?JS(this._delegate,n):JS(this._delegate,n,r,...a)}catch(l){throw Ii(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return mu(Dt(i.firestore,Pn),[new mp(i._key,Dn.none())])}(this._delegate)}onSnapshot(...n){const r=$E(n),a=TT(n,l=>new Jy(this.firestore,new _o(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return e1(this._delegate,r,a)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Dt(i,cn);const n=Dt(i.firestore,Pn),r=Ln(n),a=new Ch(n);return function(i,n){const r=new br;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(a=(0,we.Z)(function*(l,f,m){try{const w=yield function(T,N){const R=Ze(T);return R.persistence.runTransaction("read document","readonly",U=>R.Qn.An(U,N))}(l,f);w.isFoundDocument()?m.resolve(w):w.isNoDocument()?m.resolve(null):m.reject(new Ne(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const T=sc(w,`Failed to get document '${f} from cache`);m.reject(T)}}),function(l,f,m){return a.apply(this,arguments)})(yield jy(i),n,r);var a})),r.promise}(r,i._key).then(l=>new _o(n,a,i._key,l,new dc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Dt(i,cn);const n=Dt(i.firestore,Pn);return GI(Ln(n),i._key,{source:"server"}).then(r=>yu(n,i,r))}(this._delegate):function(i){i=Dt(i,cn);const n=Dt(i.firestore,Pn);return GI(Ln(n),i._key).then(r=>yu(n,i,r))}(this._delegate),r.then(a=>new Jy(this.firestore,new _o(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new os(this.firestore,this._delegate.withConverter(n?Ih.getInstance(this.firestore,n):null))}}function Ii(i,n,r){return i.message=i.message.replace(n,r),i}function $E(i){for(const n of i)if("object"==typeof n&&!CT(n))return n;return{}}function TT(i,n){var r,a;let l;return l=CT(i[0])?i[0]:CT(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{l.next&&l.next(n(f))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(a=l.complete)||void 0===a?void 0:a.bind(l)}}class Jy{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new os(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return UE(this._delegate,n._delegate)}}class Xy extends Jy{data(n){const r=this._delegate.data(n);return function(i,n){i||We()}(void 0!==r),r}}class ri{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new qE(n)}where(n,r,a){try{return new ri(this.firestore,pu(this._delegate,function(i,n,r){const a=n,l=Ky("where",i);return new US(l,a,r)}(n,r,a)))}catch(l){throw Ii(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new ri(this.firestore,pu(this._delegate,function(i,n="asc"){const r=n,a=Ky("orderBy",i);return new qN(a,r)}(n,r)))}catch(a){throw Ii(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new ri(this.firestore,pu(this._delegate,function(i){return yh("limit",i),new ZS("limit",i,"F")}(n)))}catch(r){throw Ii(r,"limit()","Query.limit()")}}limitToLast(n){try{return new ri(this.firestore,pu(this._delegate,function(i){return yh("limitToLast",i),new ZS("limitToLast",i,"L")}(n)))}catch(r){throw Ii(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new ri(this.firestore,pu(this._delegate,function(...i){return new jS("startAt",i,!0)}(...n)))}catch(r){throw Ii(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new ri(this.firestore,pu(this._delegate,function(...i){return new jS("startAfter",i,!1)}(...n)))}catch(r){throw Ii(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new ri(this.firestore,pu(this._delegate,function(...i){return new BS("endBefore",i,!0)}(...n)))}catch(r){throw Ii(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new ri(this.firestore,pu(this._delegate,function(...i){return new BS("endAt",i,!1)}(...n)))}catch(r){throw Ii(r,"endAt()","Query.endAt()")}}isEqual(n){return RE(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Dt(i,Jn);const n=Dt(i.firestore,Pn),r=Ln(n),a=new Ch(n);return function(i,n){const r=new br;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(a=(0,we.Z)(function*(l,f,m){try{const w=yield xp(l,f,!0),T=new ky(f,w.Gn),N=T.Io(w.documents),R=T.applyChanges(N,!1);m.resolve(R.snapshot)}catch(w){const T=sc(w,`Failed to execute query '${f} against cache`);m.reject(T)}}),function(l,f,m){return a.apply(this,arguments)})(yield jy(i),n,r);var a})),r.promise}(r,i._query).then(l=>new la(n,a,i,l))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Dt(i,Jn);const n=Dt(i.firestore,Pn),r=Ln(n),a=new Ch(n);return gh(r,i._query,{source:"server"}).then(l=>new la(n,a,i,l))}(this._delegate):function(i){i=Dt(i,Jn);const n=Dt(i.firestore,Pn),r=Ln(n),a=new Ch(n);return ZE(i._query),gh(r,i._query).then(l=>new la(n,a,i,l))}(this._delegate),r.then(a=>new GE(this.firestore,new la(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const r=$E(n),a=TT(n,l=>new GE(this.firestore,new la(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return e1(this._delegate,r,a)}withConverter(n){return new ri(this.firestore,this._delegate.withConverter(n?Ih.getInstance(this.firestore,n):null))}}class ng{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Xy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GE{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new ri(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Xy(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new ng(this._firestore,r))}forEach(n,r){this._delegate.forEach(a=>{n.call(r,new Xy(this._firestore,a))})}isEqual(n){return UE(this._delegate,n._delegate)}}class Th extends ri{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new os(this.firestore,n):null}doc(n){try{return new os(this.firestore,void 0===n?_h(this._delegate):_h(this._delegate,n))}catch(r){throw Ii(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Dt(i.firestore,Pn),a=_h(i),l=jE(i.converter,n);return mu(r,[Kp(ua(i.firestore),"addDoc",a._key,l,null!==i.converter,{}).toMutation(a._key,Dn.exists(!1))]).then(()=>a)}(this._delegate,n).then(r=>new os(this.firestore,r))}isEqual(n){return qy(this._delegate,n._delegate)}withConverter(n){return new Th(this.firestore,this._delegate.withConverter(n?Ih.getInstance(this.firestore,n):null))}}function hc(i){return Dt(i,cn)}class rg{constructor(...n){this._delegate=new Ci(...n)}static documentId(){return new rg(ar.keyField().canonicalString())}isEqual(n){return(n=(0,Mt.m9)(n))instanceof Ci&&this._delegate._internalPath.isEqual(n._internalPath)}}class fc{constructor(n){this._delegate=n}static serverTimestamp(){const n=new Qp("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new fc(n)}static delete(){const n=new bh("deleteField");return n._methodName="FieldValue.delete",new fc(n)}static arrayUnion(...n){const r=function(...i){return new BN("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new fc(r)}static arrayRemove(...n){const r=function(...i){return new uT("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new fc(r)}static increment(n){const r=function(i){return new VS("increment",i)}(n);return r._methodName="FieldValue.increment",new fc(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const Hi={Firestore:a1,GeoPoint:fu,Timestamp:or,Blob:tg,Transaction:IT,WriteBatch:u1,DocumentReference:os,DocumentSnapshot:Jy,Query:ri,QueryDocumentSnapshot:Xy,QuerySnapshot:GE,CollectionReference:Th,FieldPath:rg,FieldValue:fc,setLogLevel:function(i){!function(i){ta.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,n){i.INTERNAL.registerComponent(new Am.wA("firestore-compat",r=>((n,r)=>new a1(n,r,new o1))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Hi)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.2")}(Is.Z);var c1=P(6682),ig=P(309),WE=P(7771),AT=P(8858);class DT extends ms.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new d1(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,a=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,f=a.length;let m;if(this.closed)throw new Ys.N;if(this.isStopped||this.hasError?m=Z_.w.EMPTY:(this.observers.push(n),m=new AT.W(this,n)),l&&n.add(n=new ig.ht(n,l)),r)for(let w=0;w<f&&!n.closed;w++)n.next(a[w]);else for(let w=0;w<f&&!n.closed;w++)n.next(a[w].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),m}_getNow(){return(this.scheduler||WE.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,a=this._windowTime,l=this._events,f=l.length;let m=0;for(;m<f&&!(n-l[m].time<a);)m++;return f>r&&(m=Math.max(m,f-r)),m>0&&l.splice(0,m),l}}class d1{constructor(n,r){this.time=n,this.value=r}}function KE(i,n,r){let a;return a=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:a}){let l,m,f=0,w=!1,T=!1;return function(R){let U;f++,!l||w?(w=!1,l=new DT(i,n,a),U=l.subscribe(this),m=R.subscribe({next(Y){l.next(Y)},error(Y){w=!0,l.error(Y)},complete(){T=!0,m=void 0,l.complete()}}),T&&(m=void 0)):U=l.subscribe(this),this.add(()=>{f--,U.unsubscribe(),U=void 0,m&&!T&&r&&0===f&&(m.unsubscribe(),m=void 0,l=void 0)})}}(a))}function NT(i,n){return n?Zn(()=>i,n):Zn(()=>i)}var YE=P(3101),QE=P(7841);const JE=new c.OlP("angularfire2.auth.use-emulator"),e_=new c.OlP("angularfire2.auth.settings"),xT=new c.OlP("angularfire2.auth.tenant-id"),as=new c.OlP("angularfire2.auth.langugage-code"),OT=new c.OlP("angularfire2.auth.use-device-language"),h1=new c.OlP("angularfire.auth.persistence"),MT=(i,n,r,a,l,f,m,w)=>(0,mr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const T=n.runOutsideAngular(()=>i.auth());if(r&&T.useEmulator(...r),a&&(T.tenantId=a),T.languageCode=l,f&&T.useDeviceLanguage(),m)for(const[N,R]of Object.entries(m))T.settings[N]=R;return w&&T.setPersistence(w),T},[r,a,l,f,m,w]);let f1=(()=>{class i{constructor(r,a,l,f,m,w,T,N,R,U,Y){const z=new ms.xQ,_e=(0,et.of)(void 0).pipe((0,ig.QV)(m.outsideAngular),Zn(()=>f.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,6780)))),(0,nt.U)(()=>(0,so.on)(r,f,a)),(0,nt.U)(Fe=>MT(Fe,f,w,N,R,U,T,Y)),KE({bufferSize:1,refCount:!1}));if(Ou(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,et.of)(null);else{_e.pipe(bs()).subscribe();const Be=_e.pipe(Zn(Ct=>Ct.getRedirectResult().then(Gt=>Gt,()=>null)),mr.iC,KE({bufferSize:1,refCount:!1})),st=_e.pipe(Zn(Ct=>new Wr.y(Gt=>({unsubscribe:f.runOutsideAngular(()=>Ct.onAuthStateChanged(Di=>Gt.next(Di),Di=>Gt.error(Di),()=>Gt.complete()))})))),Nt=_e.pipe(Zn(Ct=>new Wr.y(Gt=>({unsubscribe:f.runOutsideAngular(()=>Ct.onIdTokenChanged(Di=>Gt.next(Di),Di=>Gt.error(Di),()=>Gt.complete()))}))));this.authState=Be.pipe(NT(st),(0,YE.R)(m.outsideAngular),(0,ig.QV)(m.insideAngular)),this.user=Be.pipe(NT(Nt),(0,YE.R)(m.outsideAngular),(0,ig.QV)(m.insideAngular)),this.idToken=this.user.pipe(Zn(Ct=>Ct?(0,an.D)(Ct.getIdToken()):(0,et.of)(null))),this.idTokenResult=this.user.pipe(Zn(Ct=>Ct?(0,an.D)(Ct.getIdTokenResult()):(0,et.of)(null))),this.credential=(0,c1.T)(Be,z,this.authState.pipe(Pi(Ct=>!Ct))).pipe((0,nt.U)(Ct=>(null==Ct?void 0:Ct.user)?Ct:null),(0,YE.R)(m.outsideAngular),(0,ig.QV)(m.insideAngular))}return(0,so.pX)(this,_e,f,{spy:{apply:(Fe,Be,st)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&st.then(Nt=>z.next(Nt))}}})}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(so.Dh),c.LFG(so.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(mr.HU),c.LFG(JE,8),c.LFG(e_,8),c.LFG(xT,8),c.LFG(as,8),c.LFG(OT,8),c.LFG(h1,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function PT(i,n){return function(i,n=OA.z){return new Wr.y(r=>{let a;return null!=n?n.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},r)}):a=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(i,n)}function XE(i,n){return PT(i,n).pipe((0,nt.U)(r=>({payload:r,type:"query"})))}function sg(i,n){return XE(i,n).pipe(Sa(void 0),Tm(),(0,nt.U)(([r,a])=>{const l=a.payload.docChanges(),f=l.map(m=>({type:m.type,payload:m}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((m,w)=>{const T=l.find(R=>R.doc.ref.isEqual(m.ref)),N=null==r?void 0:r.payload.docs.find(R=>R.ref.isEqual(m.ref));T&&JSON.stringify(T.doc.metadata)===JSON.stringify(m.metadata)||!T&&N&&JSON.stringify(N.metadata)===JSON.stringify(m.metadata)||f.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:m}})}),f}))}function kT(i,n,r){return sg(i,r).pipe(Na((a,l)=>function(i,n,r){return n.forEach(a=>{r.indexOf(a.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return t_(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return t_(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return t_(i,n.oldIndex,1)}return i}(i,a))}),i}(a,l.map(f=>f.payload),n),[]),r=>r.lift(new gt(void 0,void 0)),(0,nt.U)(a=>a.map(l=>({type:l.type,payload:l}))))}function t_(i,n,r,...a){const l=i.slice();return l.splice(n,r,...a),l}function y1(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class e0{constructor(n,r,a){this.ref=n,this.query=r,this.afs=a}stateChanges(n){let r=sg(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,nt.U)(a=>a.filter(l=>n.indexOf(l.type)>-1)))),r.pipe(Sa(void 0),Tm(),Pi(([a,l])=>l.length>0||!a),(0,nt.U)(([a,l])=>l),mr.iC)}auditTrail(n){return this.stateChanges(n).pipe(Na((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=y1(n);return kT(this.query,r,this.afs.schedulers.outsideAngular).pipe(mr.iC)}valueChanges(n={}){return XE(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(r=>r.payload.docs.map(a=>n.idField?Object.assign(Object.assign({},a.data()),{[n.idField]:a.id}):a.data())),mr.iC)}get(n){return(0,an.D)(this.query.get(n)).pipe(mr.iC)}add(n){return this.ref.add(n)}doc(n){return new t0(this.ref.doc(n),this.afs)}}class t0{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const a=this.ref.collection(n),{ref:l,query:f}=s0(a,r);return new e0(l,f,this.afs)}snapshotChanges(){return function(i,n){return PT(i,n).pipe(Sa(void 0),Tm(),(0,nt.U)(([r,a])=>a.exists?(null==r?void 0:r.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mr.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,an.D)(this.ref.get(n)).pipe(mr.iC)}}class _1{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?sg(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(r=>r.filter(a=>n.indexOf(a.type)>-1)),Pi(r=>r.length>0),mr.iC):sg(this.query,this.afs.schedulers.outsideAngular).pipe(mr.iC)}auditTrail(n){return this.stateChanges(n).pipe(Na((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=y1(n);return kT(this.query,r,this.afs.schedulers.outsideAngular).pipe(mr.iC)}valueChanges(n={}){return XE(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(a=>a.payload.docs.map(l=>n.idField?Object.assign({[n.idField]:l.id},l.data()):l.data())),mr.iC)}get(n){return(0,an.D)(this.query.get(n)).pipe(mr.iC)}}const FT=new c.OlP("angularfire2.enableFirestorePersistence"),n0=new c.OlP("angularfire2.firestore.persistenceSettings"),og=new c.OlP("angularfire2.firestore.settings"),r0=new c.OlP("angularfire2.firestore.use-emulator");function s0(i,n=(r=>r)){return{query:n(i),ref:i}}let pc=(()=>{class i{constructor(r,a,l,f,m,w,T,N,R,U,Y,z,_e,Fe,Be,st){this.schedulers=T;const Nt=(0,so.on)(r,w,a),Ct=R;U&&MT(Nt,w,Y,_e,Fe,Be,z,st),[this.firestore,this.persistenceEnabled$]=(0,mr.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const Gt=w.runOutsideAngular(()=>Nt.firestore());if(f&&Gt.settings(f),Ct&&Gt.useEmulator(...Ct),l&&!Ou(m)){const Di=()=>{try{return(0,an.D)(Gt.enablePersistence(N||void 0).then(()=>!0,()=>!1))}catch(fA){return"undefined"!=typeof console&&console.warn(fA),(0,et.of)(!1)}};return[Gt,w.runOutsideAngular(Di)]}return[Gt,(0,et.of)(!1)]},[f,Ct,l])}collection(r,a){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:f,query:m}=s0(l,a),w=this.schedulers.ngZone.run(()=>f);return new e0(w,m,this)}collectionGroup(r,a){const l=a||(m=>m),f=this.firestore.collectionGroup(r);return new _1(l(f),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>a);return new t0(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(so.Dh),c.LFG(so.xv,8),c.LFG(FT,8),c.LFG(og,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(mr.HU),c.LFG(n0,8),c.LFG(r0,8),c.LFG(f1,8),c.LFG(JE,8),c.LFG(e_,8),c.LFG(xT,8),c.LFG(as,8),c.LFG(OT,8),c.LFG(h1,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),v1=(()=>{class i{constructor(){QE.Z.registerVersion("angularfire",mr.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:FT,useValue:!0},{provide:n0,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[pc]}),i})(),b1=(()=>{class i{constructor(r){this.angularfirestore=r}Attended(r){throw new Error("Method not implemented.")}getAttend(r){return this.angularfirestore.collection("Attendance").doc(r).valueChanges()}getAttendList(){return this.angularfirestore.collection("Attendance").snapshotChanges()}updateEvent(r,a){return this.angularfirestore.collection("Attendance").doc(a).update({name:r.registerNumber,description:r.Hours})}createEvent(r){return new Promise((a,l)=>{this.angularfirestore.collection("Attendance").add(r).then(f=>{console.log(f)},f=>l(f))})}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(pc))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),E1=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-header"]],decls:6,vars:0,consts:[[1,"hero","is-danger","is-bold"],[1,"hero-body"],[1,"title","is-size-1"],[1,"subtitle","is-size-4"]],template:function(r,a){1&r&&(c.TgZ(0,"section",0),c.TgZ(1,"div",1),c.TgZ(2,"p",2),c._uU(3," Youth Red Cross "),c.qZA(),c.TgZ(4,"p",3),c._uU(5," Sivasubramaniyanadar college of Engineering,Chennai 603110 "),c.qZA(),c.qZA(),c.qZA())},styles:["#new[_ngcontent-%COMP%]{position:center;top:50px;display:flex;align-items:center;text-align:center;padding:30px}#red[_ngcontent-%COMP%]{color:red}.title[_ngcontent-%COMP%]{font-size:50px}#image[_ngcontent-%COMP%]{width:150px;height:150px;background-blend-mode:screen}#image2[_ngcontent-%COMP%]{width:100px;height:50px;background-blend-mode:screen}.subtitle[_ngcontent-%COMP%]{font-size:20px;color:brown}"]}),i})();var rR=P(1555);function ag(i,n){return new Wr.y(r=>{const a=i.length;if(0===a)return void r.complete();const l=new Array(a);let f=0,m=0;for(let w=0;w<a;w++){const T=(0,an.D)(i[w]);let N=!1;r.add(T.subscribe({next:R=>{N||(N=!0,m++),l[w]=R},error:R=>r.error(R),complete:()=>{f++,(f===a||!N)&&(m===a&&r.next(n?n.reduce((R,U,Y)=>(R[U]=l[Y],R),{}):l),r.complete())}}))}})}let VT=(()=>{class i{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(c.Qsj),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i}),i})(),gc=(()=>{class i extends VT{}return i.\u0275fac=function(){let n;return function(a){return(n||(n=c.n5z(i)))(a||i)}}(),i.\u0275dir=c.lG2({type:i,features:[c.qOj]}),i})();const vo=new c.OlP("NgValueAccessor"),iR={provide:vo,useExisting:(0,c.Gpc)(()=>ks),multi:!0},C1=new c.OlP("CompositionEventMode");let ks=(()=>{class i extends VT{constructor(r,a,l){super(r,a),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=q()?q().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(C1,8))},i.\u0275dir=c.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){1&r&&c.NdJ("input",function(f){return a._handleInput(f.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(f){return a._compositionEnd(f.target.value)})},features:[c._Bn([iR]),c.qOj]}),i})();function dn(i){return null==i||0===i.length}function I1(i){return null!=i&&"number"==typeof i.length}const Ar=new c.OlP("NgValidators"),ca=new c.OlP("NgAsyncValidators"),T1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class cr{static min(n){return function(i){return n=>{if(dn(n.value)||dn(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r<i?{min:{min:i,actual:n.value}}:null}}(n)}static max(n){return function(i){return n=>{if(dn(n.value)||dn(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return a0(n)}static requiredTrue(n){return function(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function(i){return dn(i.value)||T1.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function(i){return n=>dn(n.value)||!I1(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return r_(n)}static pattern(n){return function(i){if(!i)return Fs;let n,r;return"string"==typeof i?(r="","^"!==i.charAt(0)&&(r+="^"),r+=i,"$"!==i.charAt(i.length-1)&&(r+="$"),n=new RegExp(r)):(r=i.toString(),n=i),a=>{if(dn(a.value))return null;const l=a.value;return n.test(l)?null:{pattern:{requiredPattern:r,actualValue:l}}}}(n)}static nullValidator(n){return null}static compose(n){return HT(n)}static composeAsync(n){return ug(n)}}function a0(i){return dn(i.value)?{required:!0}:null}function r_(i){return n=>I1(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}function Fs(i){return null}function BT(i){return null!=i}function i_(i){const n=(0,c.QGY)(i)?(0,an.D)(i):i;return(0,c.CqO)(n),n}function l0(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function Xn(i,n){return n.map(r=>r(i))}function qT(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function HT(i){if(!i)return null;const n=i.filter(BT);return 0==n.length?null:function(r){return l0(Xn(r,n))}}function $T(i){return null!=i?HT(qT(i)):null}function ug(i){if(!i)return null;const n=i.filter(BT);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,Lo.k)(n))return ag(n,null);if((0,rR.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return ag(r.map(a=>n[a]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return ag(i=1===i.length&&(0,Lo.k)(i[0])?i[0]:i,null).pipe((0,nt.U)(r=>n(...r)))}return ag(i,null)}(Xn(r,n).map(i_)).pipe((0,nt.U)(l0))}}function c0(i){return null!=i?ug(qT(i)):null}function A1(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function D1(i){return i._rawValidators}function S1(i){return i._rawAsyncValidators}function d0(i){return i?Array.isArray(i)?i:[i]:[]}function s_(i,n){return Array.isArray(i)?i.includes(n):i===n}function GT(i,n){const r=d0(n);return d0(i).forEach(l=>{s_(r,l)||r.push(l)}),r}function zT(i,n){return d0(n).filter(r=>!s_(i,r))}let WT=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=$T(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=c0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,a){return!!this.control&&this.control.hasError(r,a)}getError(r,a){return this.control?this.control.getError(r,a):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=c.lG2({type:i}),i})(),Ti=(()=>{class i extends WT{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=c.n5z(i)))(a||i)}}(),i.\u0275dir=c.lG2({type:i,features:[c.qOj]}),i})();class vu extends WT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KT{constructor(n){this._cd=n}is(n){var r,a,l;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(l=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===l?void 0:l[n])}}let Ah=(()=>{class i extends KT{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(vu,2))},i.\u0275dir=c.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){2&r&&c.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[c.qOj]}),i})(),bu=(()=>{class i extends KT{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(Ti,10))},i.\u0275dir=c.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,a){2&r&&c.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))("ng-submitted",a.is("submitted"))},features:[c.qOj]}),i})();function o_(i,n){return[...n.path,i]}function lg(i,n){h0(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&YT(i,n)})}(i,n),function(i,n){const r=(a,l)=>{n.valueAccessor.writeValue(a),l&&n.viewToModelUpdate(a)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&YT(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=a=>{n.valueAccessor.setDisabledState(a)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function Ai(i,n,r=!0){const a=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(a),n.valueAccessor.registerOnTouched(a)),u_(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function a_(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function h0(i,n){const r=D1(i);null!==n.validator?i.setValidators(A1(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const a=S1(i);null!==n.asyncValidator?i.setAsyncValidators(A1(a,n.asyncValidator)):"function"==typeof a&&i.setAsyncValidators([a]);const l=()=>i.updateValueAndValidity();a_(n._rawValidators,l),a_(n._rawAsyncValidators,l)}function u_(i,n){let r=!1;if(null!==i){if(null!==n.validator){const l=D1(i);if(Array.isArray(l)&&l.length>0){const f=l.filter(m=>m!==n.validator);f.length!==l.length&&(r=!0,i.setValidators(f))}}if(null!==n.asyncValidator){const l=S1(i);if(Array.isArray(l)&&l.length>0){const f=l.filter(m=>m!==n.asyncValidator);f.length!==l.length&&(r=!0,i.setAsyncValidators(f))}}}const a=()=>{};return a_(n._rawValidators,a),a_(n._rawAsyncValidators,a),r}function YT(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Dh(i,n){h0(i,n)}function JT(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}function P1(i,n){i._syncPendingControls(),n.forEach(r=>{const a=r.control;"submit"===a.updateOn&&a._pendingChange&&(r.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}function cg(i,n){if(!n)return null;let r,a,l;return Array.isArray(n),n.forEach(f=>{f.constructor===ks?r=f:function(i){return Object.getPrototypeOf(i.constructor)===gc}(f)?a=f:l=f}),l||a||r||null}function l_(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const dg="VALID",f0="INVALID",Sh="PENDING",hg="DISABLED";function $i(i){return(d_(i)?i.validators:i)||null}function F1(i){return Array.isArray(i)?$T(i):i||null}function c_(i,n){return(d_(n)?n.asyncValidators:i)||null}function XT(i){return Array.isArray(i)?c0(i):i||null}function d_(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class h_{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=F1(this._rawValidators),this._composedAsyncValidatorFn=XT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===dg}get invalid(){return this.status===f0}get pending(){return this.status==Sh}get disabled(){return this.status===hg}get enabled(){return this.status!==hg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=F1(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=XT(n)}addValidators(n){this.setValidators(GT(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(GT(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(zT(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(zT(n,this._rawAsyncValidators))}hasValidator(n){return s_(this._rawValidators,n)}hasAsyncValidator(n){return s_(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Sh,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=hg,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=dg,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dg||this.status===Sh)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hg:dg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Sh,this._hasOwnPendingAsyncValidator=!0;const r=i_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let a=i;return n.forEach(l=>{a=a instanceof yc?a.controls.hasOwnProperty(l)?a.controls[l]:null:a instanceof fg&&a.at(l)||null}),a}(this,n)}getError(n,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?hg:this.errors?f0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sh)?Sh:this._anyControlsHaveStatus(f0)?f0:dg}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){d_(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mc extends h_{constructor(n=null,r,a){super($i(r),c_(a,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){l_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){l_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class yc extends h_{constructor(n,r,a){super($i(r),c_(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,a={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((a,l)=>{a.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,a)=>(n[a]=r instanceof mc?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,a)=>!!a._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const a=this.controls[r];a&&n(a,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const a=this.controls[r];if(this.contains(r)&&n(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(n,r){let a=n;return this._forEachChild((l,f)=>{a=r(a,l,f)}),a}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class fg extends h_{constructor(n,r,a){super($i(r),c_(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,a={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((a,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((a,l)=>{this.at(l)&&this.at(l).patchValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((a,l)=>{a.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof mc?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,a)=>!!a._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,a)=>{n(r,a)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const p0={provide:Ti,useExisting:(0,c.Gpc)(()=>Nh)},Eu=(()=>Promise.resolve(null))();let Nh=(()=>{class i extends Ti{constructor(r,a){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new yc({},$T(r),c0(a))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Eu.then(()=>{const a=this._findContainer(r.path);r.control=a.registerControl(r.name,r.control),lg(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Eu.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name),l_(this._directives,r)})}addFormGroup(r){Eu.then(()=>{const a=this._findContainer(r.path),l=new yc({});Dh(l,r),a.registerControl(r.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Eu.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,a){Eu.then(()=>{this.form.get(r.path).setValue(a)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,P1(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(Ar,10),c.Y36(ca,10))},i.\u0275dir=c.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,a){1&r&&c.NdJ("submit",function(f){return a.onSubmit(f)})("reset",function(){return a.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([p0]),c.qOj]}),i})();const V1={provide:vu,useExisting:(0,c.Gpc)(()=>Rh)},eA=(()=>Promise.resolve(null))();let Rh=(()=>{class i extends vu{constructor(r,a,l,f){super(),this.control=new mc,this._registered=!1,this.update=new c.vpe,this._parent=r,this._setValidators(a),this._setAsyncValidators(l),this.valueAccessor=cg(0,f)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),JT(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?o_(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){eA.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const a=r.isDisabled.currentValue,l=""===a||a&&"false"!==a;eA.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(Ti,9),c.Y36(Ar,10),c.Y36(ca,10),c.Y36(vo,10))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([V1]),c.qOj,c.TTD]}),i})(),wu=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=c.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})();const ii={provide:vo,useExisting:(0,c.Gpc)(()=>_c),multi:!0};let _c=(()=>{class i extends gc{writeValue(r){this.setProperty("value",null==r?"":r)}registerOnChange(r){this.onChange=a=>{r(""==a?null:parseFloat(a))}}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=c.n5z(i)))(a||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,a){1&r&&c.NdJ("input",function(f){return a.onChange(f.target.value)})("blur",function(){return a.onTouched()})},features:[c._Bn([ii]),c.qOj]}),i})(),pg=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({}),i})();const b0=new c.OlP("NgModelWithFormControlWarning"),rA={provide:Ti,useExisting:(0,c.Gpc)(()=>Cu)};let Cu=(()=>{class i extends Ti{constructor(r,a){super(),this.validators=r,this.asyncValidators=a,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(r),this._setAsyncValidators(a)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(u_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const a=this.form.get(r.path);return lg(a,r),a.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),a}getControl(r){return this.form.get(r.path)}removeControl(r){Ai(r.control||null,r,!1),l_(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,a){this.form.get(r.path).setValue(a)}onSubmit(r){return this.submitted=!0,P1(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const a=r.control,l=this.form.get(r.path);a!==l&&(Ai(a||null,r),l instanceof mc&&(lg(l,r),r.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const a=this.form.get(r.path);Dh(a,r),a.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const a=this.form.get(r.path);a&&function(i,n){return u_(i,n)}(a,r)&&a.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){h0(this.form,this),this._oldForm&&u_(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(Ar,10),c.Y36(ca,10))},i.\u0275dir=c.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,a){1&r&&c.NdJ("submit",function(f){return a.onSubmit(f)})("reset",function(){return a.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([rA]),c.qOj,c.TTD]}),i})();const B1={provide:vu,useExisting:(0,c.Gpc)(()=>xh)};let xh=(()=>{class i extends vu{constructor(r,a,l,f,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(a),this._setAsyncValidators(l),this.valueAccessor=cg(0,f)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),JT(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return o_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(Ti,13),c.Y36(Ar,10),c.Y36(ca,10),c.Y36(vo,10),c.Y36(b0,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([B1]),c.qOj,c.TTD]}),i._ngModelWarningSentOnce=!1,i})();const aA={provide:Ar,useExisting:(0,c.Gpc)(()=>wc),multi:!0};let wc=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(r){this._required=null!=r&&!1!==r&&"false"!=`${r}`,this._onChange&&this._onChange()}validate(r){return this.required?a0(r):null}registerOnValidatorChange(r){this._onChange=r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=c.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,a){2&r&&c.uIk("required",a.required?"":null)},inputs:{required:"required"},features:[c._Bn([aA])]}),i})();const C0={provide:Ar,useExisting:(0,c.Gpc)(()=>I0),multi:!0};let I0=(()=>{class i{constructor(){this._validator=Fs}ngOnChanges(r){"maxlength"in r&&(this._createValidator(),this._onChange&&this._onChange())}validate(r){return this.enabled()?this._validator(r):null}registerOnValidatorChange(r){this._onChange=r}_createValidator(){this._validator=this.enabled()?r_(function(i){return"number"==typeof i?i:parseInt(i,10)}(this.maxlength)):Fs}enabled(){return null!=this.maxlength}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=c.lG2({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,a){2&r&&c.uIk("maxlength",a.enabled()?a.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([C0]),c.TTD]}),i})(),dA=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[pg]]}),i})(),J1=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[dA]}),i})(),X1=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:b0,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[dA]}),i})(),v_=(()=>{class i{group(r,a=null){const l=this._reduceControls(r);let w,f=null,m=null;return null!=a&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(a)?(f=null!=a.validators?a.validators:null,m=null!=a.asyncValidators?a.asyncValidators:null,w=null!=a.updateOn?a.updateOn:void 0):(f=null!=a.validator?a.validator:null,m=null!=a.asyncValidator?a.asyncValidator:null)),new yc(l,{asyncValidators:m,updateOn:w,validators:f})}control(r,a,l){return new mc(r,a,l)}array(r,a,l){const f=r.map(m=>this._createControl(m));return new fg(f,a,l)}_reduceControls(r){const a={};return Object.keys(r).forEach(l=>{a[l]=this._createControl(r[l])}),a}_createControl(r){return r instanceof mc||r instanceof yc||r instanceof fg?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i},token:i,providedIn:X1}),i})();function eN(i,n){if(1&i&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.qZA()),2&i){const r=n.$implicit;c.xp6(2),c.Oqu(r.registerNumber),c.xp6(2),c.hij(" ",r.Hours,"")}}let pR=(()=>{class i{constructor(r,a,l){this.user=r,this.db=a,this.route=l,this.attend=new xA,this.message="",this.filter={}}ngOnInit(){this.user.getAttendList().subscribe(r=>{this.Attendance=r.map(a=>Object.assign({id:a.payload.doc.id},a.payload.doc.data()))})}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(b1),c.Y36(pc),c.Y36(Tn))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-att"]],decls:44,vars:2,consts:[["id","mynav",1,"navbar","is-danger","is-bold"],[1,"navbar-brand"],["src","assets/ssn logo.png","width","112","height","28"],[1,"navbar-burger"],[1,"navbar-menu"],[1,"navbar-start"],["routerLink","/studhome",1,"navbar-item"],["routerLink","/deleteevent",1,"navbar-item"],["routerLink","/seeatt",1,"navbar-item"],[1,"navbar-end"],[1,"navbar-item"],["routerLink","/",1,"button","is-light"],[1,"hero","is-bold"],[1,"hero-body"],[1,"title",2,"text-align","center"],["type","registerNumber","name","registerNumber","required","",1,"input",3,"ngModel","ngModelChange"],[2,"text-align","center"],[1,"table-container"],[1,"table","table-striped","table-bordered"],["scope","col"],["title","Register number"],["title","ATTENDANCE"],[4,"ngFor","ngForOf"],[1,"container",2,"align-items","center"]],template:function(r,a){1&r&&(c.TgZ(0,"body"),c._UZ(1,"app-header"),c.TgZ(2,"section"),c.TgZ(3,"nav",0),c.TgZ(4,"div",1),c._UZ(5,"img",2),c.TgZ(6,"div",3),c._UZ(7,"span"),c._UZ(8,"span"),c._UZ(9,"span"),c.qZA(),c.qZA(),c.TgZ(10,"div",4),c.TgZ(11,"div",5),c.TgZ(12,"a",6),c._uU(13," Home "),c.qZA(),c.TgZ(14,"a",7),c._uU(15," events "),c.qZA(),c.TgZ(16,"a",8),c._uU(17,"attendence"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",9),c.TgZ(19,"div",10),c.TgZ(20,"button",11),c._uU(21,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"section",12),c.TgZ(23,"div",13),c.TgZ(24,"p",14),c._uU(25," ATTENDANCE "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"input",15),c.NdJ("ngModelChange",function(f){return a.attend.registerNumber=f}),c.qZA(),c.TgZ(27,"div",16),c.TgZ(28,"div",17),c.TgZ(29,"table",18),c.TgZ(30,"thead"),c.TgZ(31,"tr"),c.TgZ(32,"th",19),c._UZ(33,"abbr",20),c._uU(34,"Register Number"),c.qZA(),c.TgZ(35,"th",19),c.TgZ(36,"abbr",21),c._uU(37,"NO OF HOURS COMPLETED"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(38,"tbody"),c.YNc(39,eN,5,2,"tr",22),c.qZA(),c.qZA(),c.TgZ(40,"div",23),c._UZ(41,"br"),c.qZA(),c.qZA(),c._UZ(42,"br"),c._UZ(43,"br"),c.qZA(),c.qZA()),2&r&&(c.xp6(26),c.Q6J("ngModel",a.attend.registerNumber),c.xp6(13),c.Q6J("ngForOf",a.Attendance))},directives:[E1,ts,es,ks,wc,Ah,Rh,qr],styles:[""]}),i})();const tN="a[_ngcontent-%COMP%]{font-size:x-large;font-style:normal}body[_ngcontent-%COMP%]{background-image:url(homebg.482b92cbddd5af62dcb4.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;background-size:100% 100%}#first[_ngcontent-%COMP%]{height:600px;padding:50px;margin:20px 200px;background-color:#ffdab9}#second[_ngcontent-%COMP%]{width:500px;height:300px;font-size:50px;font-weight:bold;background-color:#fff}.center[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px;text-align:center}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid black}";let gR=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-attendance"]],decls:33,vars:0,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css"],["id","first"],["id","second",1,"center"],[1,"center"]],template:function(r,a){1&r&&(c.TgZ(0,"html"),c.TgZ(1,"head"),c._UZ(2,"link",0),c.qZA(),c.TgZ(3,"body"),c.TgZ(4,"form"),c.TgZ(5,"div",1),c.TgZ(6,"div",2),c.TgZ(7,"p"),c._uU(8,"10"),c.qZA(),c.TgZ(9,"p"),c._uU(10,"ATTENDANCE"),c.qZA(),c.qZA(),c.TgZ(11,"div",3),c.TgZ(12,"table"),c.TgZ(13,"tr"),c.TgZ(14,"th"),c._uU(15,"EVENT ID"),c.qZA(),c.TgZ(16,"th"),c._uU(17,"ATTENDANCE"),c.qZA(),c.qZA(),c.TgZ(18,"tr"),c.TgZ(19,"td"),c._uU(20,"Event 1"),c.qZA(),c.TgZ(21,"td"),c._uU(22,"3"),c.qZA(),c.qZA(),c.TgZ(23,"tr"),c.TgZ(24,"td"),c._uU(25,"Event 2"),c.qZA(),c.TgZ(26,"td"),c._uU(27,"5"),c.qZA(),c.qZA(),c.TgZ(28,"tr"),c.TgZ(29,"td"),c._uU(30,"Event 3"),c.qZA(),c.TgZ(31,"td"),c._uU(32,"2"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[wu,bu,Nh],styles:[tN,tN]}),i})();class mR{}let s=(()=>{class i{constructor(r){this.angularfirestore=r}getEventDoc(r){return this.angularfirestore.collection("event").doc(r).valueChanges()}getEventlist(){return this.angularfirestore.collection("event").snapshotChanges()}createEvent(r){return new Promise((a,l)=>{this.angularfirestore.collection("event").add(r).then(f=>{console.log(f)},f=>l(f))})}deleteEvent(r){return this.angularfirestore.collection("event").doc(r.id).delete()}updateEvent(r,a){return this.angularfirestore.collection("event").doc(a).update({name:r.name,description:r.description,duration:r.duration,registrationDeadline:r.registrationDeadline,date:r.date,venue:r.venue})}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(pc))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function o(i,n){1&i&&(c.TgZ(0,"span",13),c._uU(1," Name is required "),c.qZA())}function u(i,n){1&i&&(c.TgZ(0,"span",13),c._uU(1," Description is required "),c.qZA())}function d(i,n){1&i&&(c.TgZ(0,"span",13),c._uU(1," Duration is required "),c.qZA())}function h(i,n){1&i&&(c.TgZ(0,"span",13),c._uU(1," Registration Deadline is required "),c.qZA())}function p(i,n){1&i&&(c.TgZ(0,"span",13),c._uU(1," Date is required "),c.qZA())}function v(i,n){1&i&&(c.TgZ(0,"span",13),c._uU(1," Venue is required "),c.qZA())}const b="ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden;background-color:#f10808d7}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:40px;text-decoration:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#080808}.pos[_ngcontent-%COMP%]{position:absolutde}.button[_ngcontent-%COMP%]{background-color:#4caf50;border:none;color:#fff;padding:10px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 700px;cursor:pointer}.button1[_ngcontent-%COMP%]{background-color:#f44336}";let I=(()=>{class i{constructor(r,a,l){this.eventsservice=r,this.formBuilder=a,this.router=l,this.submitted=!1,this.event=new mR,this.eventForm=this.formBuilder.group({name:["",cr.required],description:["",cr.required],duration:["",cr.required],registrationDeadline:["",cr.required],date:["",cr.required],venue:["",cr.required]})}ngOnInit(){}get eventFormControl(){return this.eventForm.controls}onSubmit(){this.event.name=this.eventForm.value.name,this.event.date=this.eventForm.value.date,this.event.description=this.eventForm.value.description,this.event.registrationDeadline=this.eventForm.value.registrationDeadline,this.event.venue=this.eventForm.value.venue,this.event.duration=this.eventForm.value.duration,this.submitted=!0,this.eventForm.valid&&this.eventsservice.createEvent(this.eventForm.value),this.router.navigate(["/list-event"])}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(s),c.Y36(v_),c.Y36(Tn))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-create-event"]],decls:50,vars:8,consts:[["name","viewport","content","width=device-width, initial-scale=1"],["rel","stylesheet","href","https://www.w3schools.com/w3css/4/w3.css"],[1,"w3-container","w3-card-4","w3-light-grey",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","name","type","text",1,"w3-input","w3-border","form-control"],["class","text-danger",4,"ngIf"],["formControlName","description","cols","165","rows","10",1,"form-control"],["formControlName","duration","type","time",1,"w3-input","w3-border","form-control"],["formControlName","registrationDeadline","type","date",1,"w3-input","w3-border","form-control"],["formControlName","date","type","date",1,"w3-input","w3-border","form-control"],["formControlName","venue","type","text",1,"w3-input","w3-border","form-control"],["type","submit",1,"button","button1",3,"disabled"],["type","reset",1,"button","button1"],[1,"text-danger"]],template:function(r,a){1&r&&(c.TgZ(0,"html"),c.TgZ(1,"head"),c.TgZ(2,"title"),c._uU(3,"W3.CSS"),c.qZA(),c._UZ(4,"meta",0),c._UZ(5,"link",1),c.qZA(),c.TgZ(6,"body"),c.TgZ(7,"form",2),c.NdJ("ngSubmit",function(){return a.onSubmit()}),c.TgZ(8,"h2"),c._uU(9,"CREATE EVENT"),c.qZA(),c.TgZ(10,"div",3),c.TgZ(11,"p"),c.TgZ(12,"label"),c._uU(13,"Name"),c.qZA(),c._UZ(14,"input",4),c.qZA(),c.YNc(15,o,2,0,"span",5),c.qZA(),c.TgZ(16,"div",3),c.TgZ(17,"p"),c.TgZ(18,"label"),c._uU(19,"DESCRIPTION"),c.qZA(),c.qZA(),c._UZ(20,"textarea",6),c.YNc(21,u,2,0,"span",5),c.qZA(),c.TgZ(22,"div",3),c.TgZ(23,"p"),c.TgZ(24,"label"),c._uU(25,"DURATION"),c.qZA(),c._UZ(26,"input",7),c.qZA(),c.YNc(27,d,2,0,"span",5),c.qZA(),c.TgZ(28,"div",3),c.TgZ(29,"p"),c.TgZ(30,"label"),c._uU(31,"REGISTRATION DEADLINE"),c.qZA(),c._UZ(32,"input",8),c.qZA(),c.YNc(33,h,2,0,"span",5),c.qZA(),c.TgZ(34,"div",3),c.TgZ(35,"p"),c.TgZ(36,"label"),c._uU(37,"DATE"),c.qZA(),c._UZ(38,"input",9),c.qZA(),c.YNc(39,p,2,0,"span",5),c.qZA(),c.TgZ(40,"div",3),c.TgZ(41,"p"),c.TgZ(42,"label"),c._uU(43,"VENUE"),c.qZA(),c._UZ(44,"input",10),c.qZA(),c.YNc(45,v,2,0,"span",5),c.qZA(),c.TgZ(46,"button",11),c._uU(47,"CREATE"),c.qZA(),c.TgZ(48,"button",12),c._uU(49,"CLEAR"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&r&&(c.xp6(7),c.Q6J("formGroup",a.eventForm),c.xp6(8),c.Q6J("ngIf",(a.eventFormControl.name.touched||a.submitted)&&(null==a.eventFormControl.name.errors?null:a.eventFormControl.name.errors.required)),c.xp6(6),c.Q6J("ngIf",(a.eventFormControl.description.touched||a.submitted)&&(null==a.eventFormControl.description.errors?null:a.eventFormControl.description.errors.required)),c.xp6(6),c.Q6J("ngIf",(a.eventFormControl.duration.touched||a.submitted)&&(null==a.eventFormControl.duration.errors?null:a.eventFormControl.duration.errors.required)),c.xp6(6),c.Q6J("ngIf",(a.eventFormControl.registrationDeadline.touched||a.submitted)&&(null==a.eventFormControl.registrationDeadline.errors?null:a.eventFormControl.registrationDeadline.errors.required)),c.xp6(6),c.Q6J("ngIf",(a.eventFormControl.date.touched||a.submitted)&&(null==a.eventFormControl.date.errors?null:a.eventFormControl.date.errors.required)),c.xp6(6),c.Q6J("ngIf",(a.eventFormControl.venue.touched||a.submitted)&&(null==a.eventFormControl.venue.errors?null:a.eventFormControl.venue.errors.required)),c.xp6(1),c.Q6J("disabled",!a.eventForm.valid))},directives:[wu,bu,Cu,ks,Ah,xh,js],styles:[b,b]}),i})();const A="ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden;background-color:#f10808d7}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:40px;text-decoration:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#080808}.pos[_ngcontent-%COMP%]{position:absolutde}.button[_ngcontent-%COMP%]{background-color:#4caf50;border:none;color:#fff;padding:10px 38px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:8px 180px;cursor:pointer}.button1[_ngcontent-%COMP%]{background-color:#f44336}";let D=(()=>{class i{constructor(r,a,l,f){this.eventsservice=r,this.formBuilder=a,this.act=l,this.router=f,this.editForm=this.formBuilder.group({name:[""],event_id:[""],description:[""],duration:[""],registrationDeadline:[""],date:[""],venue:[""]})}ngOnInit(){const r=this.act.snapshot.paramMap.get("id");this.eventsservice.getEventDoc(r).subscribe(a=>{this.eventRef=a,this.editForm=this.formBuilder.group({name:[this.eventRef.name],event_id:[this.eventRef.event_id],date:[this.eventRef.date],description:[this.eventRef.description],registrationDeadline:[this.eventRef.registrationDeadline],venue:[this.eventRef.venue],duration:[this.eventRef.duration]})})}onSubmit(){const r=this.act.snapshot.paramMap.get("id");this.eventsservice.updateEvent(this.editForm.value,r),this.router.navigate(["/list-event"])}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(s),c.Y36(v_),c.Y36(ws),c.Y36(Tn))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-delete-event"]],decls:38,vars:1,consts:[["name","viewport","content","width=device-width, initial-scale=1"],["rel","stylesheet","href","https://www.w3schools.com/w3css/4/w3.css"],[1,"w3-container","w3-card-4","w3-light-grey",3,"formGroup","ngSubmit"],["formControlName","name","type","text",1,"w3-input","w3-border","form-control"],["formControlName","description","cols","165","rows","10",1,"form-control"],["formControlName","duration","type","time",1,"w3-input","w3-border","form-control"],["formControlName","registrationDeadline","type","date",1,"w3-input","w3-border","form-control"],["formControlName","date","type","date",1,"w3-input","w3-border","form-control"],["formControlName","venue","type","text",1,"w3-input","w3-border","form-control"],[1,"button","button1"],["type","submit",1,"button","button1"]],template:function(r,a){1&r&&(c.TgZ(0,"html"),c.TgZ(1,"head"),c.TgZ(2,"title"),c._uU(3,"W3.CSS"),c.qZA(),c._UZ(4,"meta",0),c._UZ(5,"link",1),c.qZA(),c.TgZ(6,"body"),c.TgZ(7,"form",2),c.NdJ("ngSubmit",function(){return a.onSubmit()}),c.TgZ(8,"h2"),c._uU(9,"EDIT EVENT"),c.qZA(),c.TgZ(10,"p"),c.TgZ(11,"label"),c._uU(12,"Name"),c.qZA(),c._UZ(13,"input",3),c.qZA(),c.TgZ(14,"p"),c.TgZ(15,"label"),c._uU(16,"DESCRIPTION"),c.qZA(),c.qZA(),c._UZ(17,"textarea",4),c.TgZ(18,"p"),c.TgZ(19,"label"),c._uU(20,"DURATION"),c.qZA(),c._UZ(21,"input",5),c.qZA(),c.TgZ(22,"p"),c.TgZ(23,"label"),c._uU(24,"REGISTRATION DEADLINE"),c.qZA(),c._UZ(25,"input",6),c.qZA(),c.TgZ(26,"p"),c.TgZ(27,"label"),c._uU(28,"DATE"),c.qZA(),c._UZ(29,"input",7),c.qZA(),c.TgZ(30,"p"),c.TgZ(31,"label"),c._uU(32,"VENUE"),c.qZA(),c._UZ(33,"input",8),c.qZA(),c.TgZ(34,"button",9),c._uU(35,"EXIT"),c.qZA(),c.TgZ(36,"button",10),c._uU(37,"UPDATE"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&r&&(c.xp6(7),c.Q6J("formGroup",a.editForm))},directives:[wu,bu,Cu,ks,Ah,xh],styles:[A,A]}),i})(),x=(()=>{class i{constructor(r){this.angularfirestore=r}getStudentDoc(r){return this.angularfirestore.collection("Registration").doc(r).valueChanges()}getStudentList(){return this.angularfirestore.collection("Registration").snapshotChanges()}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(pc))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function F(i,n){if(1&i&&(c.TgZ(0,"tr"),c.TgZ(1,"th",12),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.qZA()),2&i){const r=n.$implicit,a=n.index;c.xp6(2),c.Oqu(a+1),c.xp6(2),c.Oqu(r.fullName),c.xp6(2),c.Oqu(r.registerNumber),c.xp6(2),c.Oqu(r.department),c.xp6(2),c.Oqu(r.phoneNumber),c.xp6(2),c.Oqu(r.email)}}let H=(()=>{class i{constructor(r){this.studentService=r}ngOnInit(){this.studentService.getStudentList().subscribe(r=>{this.Registration=r.map(a=>Object.assign({id:a.payload.doc.id},a.payload.doc.data()))})}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(x))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-enroll"]],decls:28,vars:1,consts:[[2,"padding-bottom","30px","text-align","center","font-weight","bold","color","black"],[2,"text-align","center"],[1,"table-container"],[1,"table","table-striped","table-bordered"],["scope","col"],["title","Serial number"],["title","Name"],["title","Register number"],["title","Department"],["title","Phone Number"],["title","Email"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(r,a){1&r&&(c.TgZ(0,"body"),c.TgZ(1,"h1",0),c._uU(2," STUDENTS ENROLLED FOR YRC "),c.qZA(),c.TgZ(3,"div",1),c.TgZ(4,"div",2),c.TgZ(5,"table",3),c.TgZ(6,"thead"),c.TgZ(7,"tr"),c.TgZ(8,"th",4),c.TgZ(9,"abbr",5),c._uU(10,"S.no"),c.qZA(),c.qZA(),c.TgZ(11,"th",4),c.TgZ(12,"abbr",6),c._uU(13,"Name"),c.qZA(),c.qZA(),c.TgZ(14,"th",4),c.TgZ(15,"abbr",7),c._uU(16,"Register no"),c.qZA(),c.qZA(),c.TgZ(17,"th",4),c.TgZ(18,"abbr",8),c._uU(19,"Dept"),c.qZA(),c.qZA(),c.TgZ(20,"th",4),c.TgZ(21,"abbr",9),c._uU(22,"Phone Number"),c.qZA(),c.qZA(),c.TgZ(23,"th",4),c.TgZ(24,"abbr",10),c._uU(25,"Email"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"tbody"),c.YNc(27,F,13,6,"tr",11),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&r&&(c.xp6(27),c.Q6J("ngForOf",a.Registration))},directives:[qr],styles:[""]}),i})();const G="a[_ngcontent-%COMP%]{font-size:x-large;font-style:normal}body[_ngcontent-%COMP%]{background-image:url(homebg.482b92cbddd5af62dcb4.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;background-size:100% 100%}h1[_ngcontent-%COMP%]{color:#f0f8ff;font-size:large;padding:10px}table[_ngcontent-%COMP%]{width:auto}#myhero[_ngcontent-%COMP%]{color:#000;background-color:#fff;opacity:.7}";let de=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-enrolled-student"]],decls:65,vars:0,consts:[["id","mynav",1,"navbar","is-danger","is-bold"],[1,"navbar-brand"],["src","assets\\ssn_logo.jpg","width","112","height","28"],[1,"navbar-burger"],[1,"navbar-menu"],[1,"navbar-start"],["routerLink","/studhome",1,"navbar-item"],["routerlink","/events",1,"navbar-item"],["routerlink","/studattendence",1,"navbar-item"],[1,"navbar-end"],[1,"navbar-item"],["routerLink","/",1,"button","is-light"],[2,"text-align","center"],[1,"table-container"],[1,"table"],["title","Serial number"],["title","Name"],["title","Register number"],["title","Department"],["title","Year"],["title","Email"],["id","myhero",1,"hero-body"],[1,"title","is-size-1"],[1,"subtitle","is-size-4"]],template:function(r,a){1&r&&(c.TgZ(0,"html"),c._UZ(1,"head"),c.TgZ(2,"body"),c.TgZ(3,"nav",0),c.TgZ(4,"div",1),c._UZ(5,"img",2),c.TgZ(6,"div",3),c._UZ(7,"span"),c._UZ(8,"span"),c._UZ(9,"span"),c.qZA(),c.qZA(),c.TgZ(10,"div",4),c.TgZ(11,"div",5),c.TgZ(12,"a",6),c._uU(13," Home "),c.qZA(),c.TgZ(14,"a",7),c._uU(15," events "),c.qZA(),c.TgZ(16,"a",8),c._uU(17,"attendence"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",9),c.TgZ(19,"div",10),c.TgZ(20,"button",11),c._uU(21,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"h1",12),c._uU(23,"STUDENTS ENROLLED TO YRC"),c.qZA(),c.TgZ(24,"body",12),c.TgZ(25,"div",13),c.TgZ(26,"table",14),c.TgZ(27,"thead"),c.TgZ(28,"tr"),c.TgZ(29,"th"),c.TgZ(30,"abbr",15),c._uU(31,"S.no"),c.qZA(),c.qZA(),c.TgZ(32,"th"),c.TgZ(33,"abbr",16),c._uU(34,"Name"),c.qZA(),c.qZA(),c.TgZ(35,"th"),c.TgZ(36,"abbr",17),c._uU(37,"Register no"),c.qZA(),c.qZA(),c.TgZ(38,"th"),c.TgZ(39,"abbr",18),c._uU(40,"Dept"),c.qZA(),c.qZA(),c.TgZ(41,"th"),c.TgZ(42,"abbr",19),c._uU(43,"Year"),c.qZA(),c.qZA(),c.TgZ(44,"th"),c.TgZ(45,"abbr",20),c._uU(46,"Email"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(47,"tbody"),c.TgZ(48,"td"),c._uU(49,"1"),c.qZA(),c.TgZ(50,"td"),c._uU(51,"Bhagya"),c.qZA(),c.TgZ(52,"td"),c._uU(53,"195002037"),c.qZA(),c.TgZ(54,"td"),c._uU(55,"IT"),c.qZA(),c.TgZ(56,"td"),c._uU(57,"3rd"),c.qZA(),c.TgZ(58,"td"),c._uU(59,"bhagya@gmail.com"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(60,"div",21),c.TgZ(61,"p",22),c._uU(62," About us "),c.qZA(),c.TgZ(63,"p",23),c._uU(64,' The Red Cross Youth is one of the six major services of the Philippine Red Cross. Its mission is to educate and empower the children and youth in the spirit of Red Cross through constructive trainings and effective leadership, and provide opportunities for directing and harnessing their energy and idealism into worthwhile humanitarian activities.When the Philippine Branch became a Chapter of the American Red Cross on December 4, 1917, it included the Junior Red Cross (JRC) among its activities. The Director of Education who was elected chairman of the JRC, directed the work of 6,000 children in JRC in the schools of Manila. JRC activities included the sewing of comfort articles and making surgical dressings for soldiers at war and planting vegetables in school gardens. From 1922 until the outbreak of World War II in 1941, the JRC dental service became the major program with school children contributing 30 centavos each as their annual membership fee and in return they received an American JRC pin. By 1941, there were 184 dental clinics all over the country. A total of 898,333 children were inspected, 495,086 of which had defective teeth and 108,035 given treatment. In October 1946, the JRC dental service was formally turned over to the government. From then on, it has become an integral part of child health in the Philippines. After the liberation, the first JRC enrollment campaign under the new Philippine Republic was conducted in October 1946. Enrollment of elementary school children in the JRC was on a group basis. Schools join by class or section with a membership fee of PHP2.00 per class. In 1948, the Philippine Junior Red Cross Magazine was published with Mrs. Loreto Paras-Sulit as Editor and at the same time Director of the Junior Red Cross. Activities carried out in schools were along the lines of health, service, and international friendship. The decade of 1961-1970 recorded an increase in the JRC enrollment from 3 to 4 million members from 12,000 public and private elementary and secondary schools. The adoption of the program for college students on January 28, 1969 solved the problem of young people who would want to continue serving through the Red Cross after graduation from high school. It aimed at developing the spirit of humanitarianism and social service through active and direct involvement in Red Cross activities. Another new important program which was approved by the Board to include not only school children but also young people both in and out of school until 25 years of age. The change in name of the program from Junior Red Cross (JRC) to Red Cross Youth (RCY) was approved by the Board on March 31, 1970. From December 28 to 30, 1974, the 1st National Red Cross Youth Congress was held at the Hall of Mercy of the PNRC Manila Chapter Building with the Theme: "Voluntarism: A Force in Nation Building." The Congress elected Mr. Ruben C. Angeles of Zamboanga City as the 1st National Red Cross Youth Council President. It was not until November 1998 that the NYC President was seated as a Member of the Board of Governors, the highest decision-making body of the Philippine National Red Cross, having then NYC President Crescente Abragan, representing the Red Cross Youth in the Board. Soon after, the Board approved having elected Chapter Youth Council Presidents seated as a mandated member of the Chapter Board of Directors, thereby representing the interest of the youth in the local level. '),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[ts,es],styles:[G,G]}),i})(),ae=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-home"]],decls:67,vars:0,consts:[["id","mynav",1,"navbar","is-danger","is-bold"],[1,"navbar-brand"],["src","assets/ssn logo.png","width","112","height","28"],[1,"navbar-burger"],[1,"navbar-menu"],[1,"navbar-start"],["routerLink","/studhome",1,"navbar-item"],["routerLink","/deleteevent",1,"navbar-item"],["routerLink","/seeatt",1,"navbar-item"],[1,"navbar-end"],[1,"navbar-item"],["routerLink","/",1,"button","is-light"],[2,"color","#777","background-color","white","text-align","center","padding","50px 80px","text-align","justify"],[2,"text-align","center"],[1,"bgimg-2"],[1,"caption"],[1,"border",2,"background-color","black","font-size","25px","color","#f7f7f7"],[2,"position","relative"],[2,"color","#ddd","background-color","#282E34","text-align","center","padding","50px 80px","text-align","justify","font-size","large"],[1,"bgimg-3"],[2,"color","#ddd","background-color","black","text-align","center","padding","50px 80px","text-align","justify"],["behaviour","alternate","truespeed","80","direction","left",1,"mine"],[1,"mine"]],template:function(r,a){1&r&&(c.TgZ(0,"body"),c._UZ(1,"app-header"),c.TgZ(2,"section"),c.TgZ(3,"nav",0),c.TgZ(4,"div",1),c._UZ(5,"img",2),c.TgZ(6,"div",3),c._UZ(7,"span"),c._UZ(8,"span"),c._UZ(9,"span"),c.qZA(),c.qZA(),c.TgZ(10,"div",4),c.TgZ(11,"div",5),c.TgZ(12,"a",6),c._uU(13," Home "),c.qZA(),c.TgZ(14,"a",7),c._uU(15," events "),c.qZA(),c.TgZ(16,"a",8),c._uU(17,"attendence"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",9),c.TgZ(19,"div",10),c.TgZ(20,"button",11),c._uU(21,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"div",12),c.TgZ(23,"h3",13),c._uU(24,"WELCOME TO SSN YOUTH RED CROSS EVENT MANAGEMENT SITE!"),c.qZA(),c.qZA(),c.TgZ(25,"div",14),c.TgZ(26,"div",15),c.TgZ(27,"span",16),c._uU(28,"ABOUT US"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"div",17),c.TgZ(30,"div",18),c.TgZ(31,"p"),c._uU(32,"Youth Red Cross is an extension to the Junior red cross, to the domain of the youth. It aims in protecting health and human life throughout the country and plays an essential role in disaster management."),c.qZA(),c.qZA(),c.qZA(),c.TgZ(33,"div",19),c.TgZ(34,"div",15),c.TgZ(35,"span",16),c._uU(36,"OUR EVENTS"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"div",17),c.TgZ(38,"div",20),c.TgZ(39,"marquee",21),c._uU(40," BLOOD DONATION CAMP "),c.qZA(),c.TgZ(41,"marquee",22),c._uU(42,"STEM CELL REGISTRATION"),c.qZA(),c.TgZ(43,"marquee",22),c._uU(44,"EYE CAMP"),c.qZA(),c.TgZ(45,"marquee",22),c._uU(46,"CAMPUS CLEANING"),c.qZA(),c.TgZ(47,"marquee",22),c._uU(48,"ORPHANAGE AND OLDAGE HOME VISIT"),c.qZA(),c.TgZ(49,"marquee",22),c._uU(50,"VOTER ID REGISTRATION CAMP"),c.qZA(),c.TgZ(51,"marquee",22),c._uU(52,"COASTAL CLEANUP"),c.qZA(),c.TgZ(53,"marquee",22),c._uU(54,"HOSPITAL CLEANING"),c.qZA(),c.TgZ(55,"marquee",22),c._uU(56,"INDIAN RED CROSS VISIT"),c.qZA(),c.TgZ(57,"marquee",22),c._uU(58,"THIDAL \u2013 SPORTS EVENT"),c.qZA(),c.TgZ(59,"marquee",22),c._uU(60,"AWARENESS PROGRAMS AND WORKSHOPS"),c.qZA(),c.TgZ(61,"marquee",22),c._uU(62,"ORGAN DONATION CAMP"),c.qZA(),c.TgZ(63,"marquee",22),c._uU(64,"VILLAGE CAMP"),c.qZA(),c.TgZ(65,"marquee",22),c._uU(66,"MARCHPAST"),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[E1,ts,es],styles:['a[_ngcontent-%COMP%]{font-size:x-large;font-style:normal}ol[_ngcontent-%COMP%]{font-size:larger}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;font:400 15px/1.8 "Lato",sans-serif;color:#777}.bgimg-1[_ngcontent-%COMP%], .bgimg-2[_ngcontent-%COMP%], .bgimg-3[_ngcontent-%COMP%]{position:relative;background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;opacity:.9}.bgimg-1[_ngcontent-%COMP%]{background-image:url(cross.f5d122db99a33094e7f5.jpg);min-height:100%}.bgimg-2[_ngcontent-%COMP%]{background-image:url(homebg.482b92cbddd5af62dcb4.jpg);min-height:400px}.bgimg-3[_ngcontent-%COMP%]{background-image:url(bg2.9c6614d91a18ca625415.jpg);min-height:400px}.caption[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;width:100%;text-align:center;color:#000}.caption[_ngcontent-%COMP%]   span.border[_ngcontent-%COMP%]{background-color:#111;color:#fff;padding:18px;font-size:25px;letter-spacing:10px}h3[_ngcontent-%COMP%]{letter-spacing:5px;text-transform:uppercase;font:20px "Lato",sans-serif;color:#111}.mine[_ngcontent-%COMP%]{font-size:large;color:#fff;font-style:bold}']}),i})(),xe=(()=>{class i{constructor(r){this.angularfirestore=r}getAttendDoc(r){return this.angularfirestore.collection("Attendance").doc(r).valueChanges()}getAttendlist(){return this.angularfirestore.collection("Attendance").snapshotChanges()}updateAttend(r,a){return this.angularfirestore.collection("Attendance").doc(a).update({Hours:r.Hours,registerNumber:r.registerNumber})}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(pc))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ee(i,n){if(1&i&&(c.TgZ(0,"tr"),c.TgZ(1,"th",6),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c.TgZ(8,"button"),c.TgZ(9,"span",7),c._uU(10,"Edit"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&i){const r=n.$implicit,a=n.index;c.xp6(2),c.Oqu(a+1),c.xp6(2),c.Oqu(r.registerNumber),c.xp6(2),c.Oqu(r.Hours),c.xp6(3),c.MGl("routerLink","/update-attendance/",r.id,"")}}let Ye=(()=>{class i{constructor(r){this.attendeesService=r}ngOnInit(){this.attendeesService.getAttendlist().subscribe(r=>{this.Attendance=r.map(a=>Object.assign({id:a.payload.doc.id},a.payload.doc.data()))})}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(xe))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-list-attendance"]],decls:19,vars:1,consts:[[1,"hero","is-bold"],[1,"hero-body"],[1,"title",2,"text-align","center"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"routerLink"]],template:function(r,a){1&r&&(c.TgZ(0,"html"),c.TgZ(1,"body"),c.TgZ(2,"section",0),c.TgZ(3,"div",1),c.TgZ(4,"p",2),c._uU(5," MEMBER'S LIST "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"table",3),c.TgZ(7,"thead"),c.TgZ(8,"tr"),c.TgZ(9,"th",4),c._uU(10,"S.no"),c.qZA(),c.TgZ(11,"th",4),c._uU(12,"Register Number"),c.qZA(),c.TgZ(13,"th",4),c._uU(14,"Hours"),c.qZA(),c.TgZ(15,"th",4),c._uU(16,"Action"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"tbody"),c.YNc(18,Ee,11,4,"tr",5),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&r&&(c.xp6(18),c.Q6J("ngForOf",a.Attendance))},directives:[qr,es],styles:[""]}),i})();function at(i,n){if(1&i){const r=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"th",21),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td"),c._uU(14),c.qZA(),c.TgZ(15,"td"),c._uU(16),c.qZA(),c.TgZ(17,"td"),c.TgZ(18,"span",22),c.NdJ("click",function(){const f=c.CHM(r).$implicit;return c.oxw().removeEvent(f)}),c._uU(19,"Delete"),c.qZA(),c._uU(20,"\xa0 "),c.TgZ(21,"button"),c.TgZ(22,"span",23),c._uU(23,"Edit"),c.qZA(),c.qZA(),c.TgZ(24,"button",24),c._uU(25,"Send mail"),c.qZA(),c.qZA(),c.qZA()}if(2&i){const r=n.$implicit,a=n.index;c.xp6(2),c.Oqu(a+1),c.xp6(2),c.Oqu(r.name),c.xp6(2),c.Oqu(r.id),c.xp6(2),c.Oqu(r.description),c.xp6(2),c.Oqu(r.duration),c.xp6(2),c.Oqu(r.registrationDeadline),c.xp6(2),c.Oqu(r.date),c.xp6(2),c.Oqu(r.venue),c.xp6(6),c.MGl("routerLink","/delete-event/",r.id,"")}}const St=function(){return["/create-event"]};let er=(()=>{class i{constructor(r){this.eventService=r}ngOnInit(){this.eventService.getEventlist().subscribe(r=>{this.Event=r.map(a=>Object.assign(Object.assign({},a.payload.doc.data()),{id:a.payload.doc.id}))})}removeEvent(r){confirm("Are you sure to delete "+r.name)&&this.eventService.deleteEvent(r)}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(s))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-list-event"]],decls:53,vars:3,consts:[["id","mynav",1,"navbar","is-danger","is-bold"],[1,"navbar-brand"],["src","assets/ssn logo.png","width","112","height","28"],[1,"navbar-burger"],[1,"navbar-menu"],[1,"navbar-start"],["routerLink","/adminhomepage",1,"navbar-item"],["routerLink","/list-event",1,"navbar-item"],["routerLink","/attendence",1,"navbar-item"],[1,"navbar-item","has-dropdown","is-hoverable"],[1,"navbar-link"],[1,"navbar-dropdown"],[1,"navbar-item","is-hoverable"],["href","https://mail.google.com/mail/u/0/?view=cm&fs=1&to=ashwinirameshrocks@gmail.com&su= &body= &bcc=charithakapireddy31@gmail.com",1,"navbar-item","is-hoverable"],[1,"navbar-end"],[1,"navbar-item"],["routerLink","/",1,"button","is-light"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"routerLink"],["scope","row"],[1,"btn","btn-danger",3,"click"],[3,"routerLink"],["type","submit","onclick","window.location.href= 'https://mail.google.com/mail/u/0/?view=cm&fs=1&to=ashwinirameshrocks@gmail.com&su=&body=&bcc=yrcemfy@gmail.com+ashwini19016@it.ssn.edu.in+ashwinir765@gmail.com'",1,"btn","btn-danger"]],template:function(r,a){1&r&&(c.TgZ(0,"body"),c.TgZ(1,"nav",0),c.TgZ(2,"div",1),c._UZ(3,"img",2),c.TgZ(4,"div",3),c._UZ(5,"span"),c._UZ(6,"span"),c._UZ(7,"span"),c.qZA(),c.qZA(),c.TgZ(8,"div",4),c.TgZ(9,"div",5),c.TgZ(10,"a",6),c._uU(11," Home "),c.qZA(),c.TgZ(12,"a",7),c._uU(13," events "),c.qZA(),c.TgZ(14,"a",8),c._uU(15,"attendence"),c.qZA(),c.TgZ(16,"div",9),c.TgZ(17,"a",10),c._uU(18," admin controls "),c.qZA(),c.TgZ(19,"div",11),c.TgZ(20,"a",12),c._uU(21," view yrc members' list "),c.qZA(),c.TgZ(22,"a",13),c._uU(23," send common mail "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",14),c.TgZ(25,"div",15),c.TgZ(26,"button",16),c._uU(27,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(28,"table",17),c.TgZ(29,"thead"),c.TgZ(30,"tr"),c.TgZ(31,"th",18),c._uU(32,"S.no"),c.qZA(),c.TgZ(33,"th",18),c._uU(34,"Event name"),c.qZA(),c.TgZ(35,"th",18),c._uU(36,"EventID"),c.qZA(),c.TgZ(37,"th",18),c._uU(38,"Description"),c.qZA(),c.TgZ(39,"th",18),c._uU(40,"Duration"),c.qZA(),c.TgZ(41,"th",18),c._uU(42,"Registrationdeadline"),c.qZA(),c.TgZ(43,"th",18),c._uU(44,"Date"),c.qZA(),c.TgZ(45,"th",18),c._uU(46,"Venue"),c.qZA(),c.TgZ(47,"th",18),c._uU(48,"Action"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(49,"tbody"),c.YNc(50,at,26,9,"tr",19),c.qZA(),c.TgZ(51,"button",20),c._uU(52,"CREATE"),c.qZA(),c.qZA(),c.qZA()),2&r&&(c.xp6(50),c.Q6J("ngForOf",a.Event),c.xp6(1),c.Q6J("routerLink",c.DdM(2,St)))},directives:[ts,es,qr],styles:[""]}),i})();class ls{constructor(){this.fullName="",this.registerNumber="",this.email="",this.password="",this.department="",this.phoneNumber="",this.passwordConfirmation=""}}class mg{constructor(){this.email="",this.password=""}}class Cc{constructor(){this.RegisterNumber="",this.Hours="",this.id=""}}var Mh=P(3409);let da=(()=>{class i{constructor(r){this.service=r,this.followState=new Rr(!1)}AddRegistration(r,a){return console.log(r),new Promise((l,f)=>{this.service.collection("Registration").add({fullName:r.fullName,email:r.email,password:r.password,department:r.department,registerNumber:r.registerNumber,phoneNumber:r.phoneNumber}).then(m=>{},m=>f(m)),this.service.collection("Attendance").add({Hours:a.Hours,registerNumber:a.RegisterNumber}).then(m=>{},m=>f(m))})}Login(r){var a=new Mh.Subject;return a.next(0),this.service.collection("Registration",l=>l.where("email","==",r.email).where("password","==",r.password)).get().subscribe(l=>{a.next(1==l.docs.length?1:0)}),this.service.collection("Admins",l=>l.where("loginid","==",r.email).where("password","==",r.password)).get().subscribe(l=>{a.next(1==l.docs.length?2:0)}),a.asObservable()}getAttend(r){return this.service.collection("Attendance").doc(r).valueChanges()}getAttendList(){return this.service.collection("Attendance").snapshotChanges()}updateEvent(r,a){return this.service.collection("Attendance").doc(a).update({name:r.RegisterNumber,description:r.Hours})}createEvent(r){return new Promise((a,l)=>{this.service.collection("Attendance").add(r).then(f=>{console.log(f)},f=>l(f))})}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(pc))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),T0=(()=>{class i{constructor(r,a){this.route=r,this.service=a,this.login=new mg,this.message=""}ngOnInit(){}Login(r){""!=r.email?this.service.Login(r).subscribe(a=>{1==a?this.route.navigate(["/studhome"]):2==a?this.route.navigate(["/adminhomepage"]):this.message="Incorrect Email/Password"}):this.message="Please enter Email and Password"}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(Tn),c.Y36(da))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-login"]],decls:41,vars:3,consts:[[1,"hero","is-danger","is-bold"],[1,"hero-body"],[1,"title","is-size-1"],[1,"subtitle","is-size-4"],[1,"container"],[1,"columns","is-centered"],[1,"column","is-5-tablet","is-4-desktop","is-3-widescreen"],[1,"box"],[1,"field"],[1,"label"],[1,"control","has-icons-left"],["type","email","name","email","placeholder","e.g. aaa@dept.ssn.edu.in","required","",1,"input",3,"ngModel","ngModelChange"],[1,"icon","is-small","is-left"],[1,"fa","fa-envelope"],["for","",1,"label"],["type","password","name","password","placeholder","*******","required","",1,"input",3,"ngModel","ngModelChange"],[1,"fa","fa-lock"],["align","center",1,"container"],[1,"button","is-danger",3,"click"],["routerLink","/signup"],[1,"button","is-danger"]],template:function(r,a){1&r&&(c.TgZ(0,"body"),c.TgZ(1,"section",0),c.TgZ(2,"div",1),c.TgZ(3,"p",2),c._uU(4," Youth Red Cross "),c.qZA(),c.TgZ(5,"p",3),c._uU(6," Sivasubramaniyanadar college of Engineering,Chennai 603110 "),c.qZA(),c.qZA(),c.qZA(),c._UZ(7,"br"),c._UZ(8,"br"),c._UZ(9,"br"),c.TgZ(10,"div",4),c.TgZ(11,"div",5),c.TgZ(12,"div",6),c.TgZ(13,"form",7),c.TgZ(14,"div",8),c.TgZ(15,"label",9),c._uU(16,"SSN email ID"),c.qZA(),c.TgZ(17,"div",10),c.TgZ(18,"input",11),c.NdJ("ngModelChange",function(f){return a.login.email=f}),c.qZA(),c.TgZ(19,"span",12),c._UZ(20,"i",13),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",8),c.TgZ(22,"label",14),c._uU(23,"Password"),c.qZA(),c.TgZ(24,"div",10),c.TgZ(25,"input",15),c.NdJ("ngModelChange",function(f){return a.login.password=f}),c.qZA(),c.TgZ(26,"span",12),c._UZ(27,"i",16),c.qZA(),c.qZA(),c.qZA(),c.TgZ(28,"div",17),c.TgZ(29,"button",18),c.NdJ("click",function(){return a.Login(a.login)}),c._uU(30,"Login"),c.qZA(),c._UZ(31,"br"),c.TgZ(32,"p"),c._uU(33," or "),c.qZA(),c.TgZ(34,"a",19),c.TgZ(35,"button",20),c._uU(36,"signup"),c.qZA(),c.qZA(),c.TgZ(37,"div",17),c._uU(38),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(39,"br"),c._UZ(40,"br"),c.qZA()),2&r&&(c.xp6(18),c.Q6J("ngModel",a.login.email),c.xp6(7),c.Q6J("ngModel",a.login.password),c.xp6(13),c.hij(" ",a.message," "))},directives:[wu,bu,Nh,ks,wc,Ah,Rh,ts],styles:[".hero[_ngcontent-%COMP%]{height:auto}.box[_ngcontent-%COMP%]{width:400px;height:400px}body[_ngcontent-%COMP%]{background-image:url(yrcbg2.ca6928be5c2886559d9f.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;background-size:100% 100%}"]}),i})();function A0(i,n){if(1&i&&(c.TgZ(0,"tr"),c.TgZ(1,"th",4),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"button",5),c._uU(8,"REGISTER"),c.qZA(),c.qZA()),2&i){const r=n.$implicit,a=n.index;c.xp6(2),c.Oqu(a+1),c.xp6(2),c.Oqu(r.registerNumber),c.xp6(2),c.Oqu(r.Hours)}}let D0=(()=>{class i{constructor(r,a,l,f){this.formBuilder=r,this.eventservice=a,this.act=l,this.router=f,this.editForm=this.formBuilder.group({Hours:[""]})}ngOnInit(){this.eventservice.getAttendList().subscribe(a=>{this.Attendance=a.map(l=>Object.assign({id:l.payload.doc.id},l.payload.doc.data()))}),this.act.snapshot.paramMap.get("id")}onSubmit(){}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(v_),c.Y36(b1),c.Y36(ws),c.Y36(Tn))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-regis"]],decls:16,vars:2,consts:[[1,"w3-container","w3-card-4","w3-light-grey",3,"formGroup","ngSubmit"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","submit",1,"button","button1"]],template:function(r,a){1&r&&(c.TgZ(0,"html"),c.TgZ(1,"body"),c.TgZ(2,"form",0),c.NdJ("ngSubmit",function(){return a.onSubmit()}),c.TgZ(3,"h2"),c._uU(4,"LIST OF EVENTS"),c.qZA(),c.TgZ(5,"table",1),c.TgZ(6,"thead"),c.TgZ(7,"tr"),c.TgZ(8,"th",2),c._uU(9,"S.no"),c.qZA(),c.TgZ(10,"th",2),c._uU(11,"Register Number"),c.qZA(),c.TgZ(12,"th",2),c._uU(13,"Hours"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"tbody"),c.YNc(15,A0,9,3,"tr",3),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&r&&(c.xp6(2),c.Q6J("formGroup",a.editForm),c.xp6(13),c.Q6J("ngForOf",a.Attendance))},directives:[wu,bu,Cu,qr],styles:[""]}),i})();const b_="a[_ngcontent-%COMP%]{font-size:x-large;font-style:normal}body[_ngcontent-%COMP%]{background-image:url(homebg.482b92cbddd5af62dcb4.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;background-size:100% 100%}h1[_ngcontent-%COMP%]{color:#f0f8ff;font-size:large;padding:10px}table[_ngcontent-%COMP%]{width:auto}#myhero[_ngcontent-%COMP%]{color:#000;background-color:#fff;opacity:.7}";let S0=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-regstudent"]],decls:65,vars:0,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css"],["id","mynav",1,"navbar","is-danger","is-bold"],[1,"navbar-brand"],["src","assets/ssn_logo.jpg","width","112","height","28"],[1,"navbar-burger"],[1,"navbar-menu"],[1,"navbar-start"],["routerLink","/studhome",1,"navbar-item"],["routerlink","/events",1,"navbar-item"],["routerlink","/studattendence",1,"navbar-item"],[1,"navbar-end"],[1,"navbar-item"],["routerLink","/",1,"button","is-light"],[2,"text-align","center"],[1,"table-container"],[1,"table"],["title","Serial number"],["title","Name"],["title","Register number"],["title","Department"],["title","Year"],["title","Email"],["id","myhero",1,"hero-body"],[1,"title","is-size-1"],[1,"subtitle","is-size-4"]],template:function(r,a){1&r&&(c.TgZ(0,"head"),c._UZ(1,"link",0),c.qZA(),c.TgZ(2,"body"),c.TgZ(3,"nav",1),c.TgZ(4,"div",2),c._UZ(5,"img",3),c.TgZ(6,"div",4),c._UZ(7,"span"),c._UZ(8,"span"),c._UZ(9,"span"),c.qZA(),c.qZA(),c.TgZ(10,"div",5),c.TgZ(11,"div",6),c.TgZ(12,"a",7),c._uU(13," Home "),c.qZA(),c.TgZ(14,"a",8),c._uU(15," events "),c.qZA(),c.TgZ(16,"a",9),c._uU(17,"attendence"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",10),c.TgZ(19,"div",11),c.TgZ(20,"button",12),c._uU(21,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"h1",13),c._uU(23,"STUDENTS REGISTERED FOR THE EVENT"),c.qZA(),c.TgZ(24,"body",13),c.TgZ(25,"div",14),c.TgZ(26,"table",15),c.TgZ(27,"thead"),c.TgZ(28,"tr"),c.TgZ(29,"th"),c.TgZ(30,"abbr",16),c._uU(31,"S.no"),c.qZA(),c.qZA(),c.TgZ(32,"th"),c.TgZ(33,"abbr",17),c._uU(34,"Name"),c.qZA(),c.qZA(),c.TgZ(35,"th"),c.TgZ(36,"abbr",18),c._uU(37,"Register no"),c.qZA(),c.qZA(),c.TgZ(38,"th"),c.TgZ(39,"abbr",19),c._uU(40,"Dept"),c.qZA(),c.qZA(),c.TgZ(41,"th"),c.TgZ(42,"abbr",20),c._uU(43,"Year"),c.qZA(),c.qZA(),c.TgZ(44,"th"),c.TgZ(45,"abbr",21),c._uU(46,"Email"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(47,"tbody"),c.TgZ(48,"td"),c._uU(49,"1"),c.qZA(),c.TgZ(50,"td"),c._uU(51,"Bhagya"),c.qZA(),c.TgZ(52,"td"),c._uU(53,"195002037"),c.qZA(),c.TgZ(54,"td"),c._uU(55,"IT"),c.qZA(),c.TgZ(56,"td"),c._uU(57,"3rd"),c.qZA(),c.TgZ(58,"td"),c._uU(59,"bhagya@gmail.com"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(60,"div",22),c.TgZ(61,"p",23),c._uU(62," About us "),c.qZA(),c.TgZ(63,"p",24),c._uU(64,' The Red Cross Youth is one of the six major services of the Philippine Red Cross. Its mission is to educate and empower the children and youth in the spirit of Red Cross through constructive trainings and effective leadership, and provide opportunities for directing and harnessing their energy and idealism into worthwhile humanitarian activities.When the Philippine Branch became a Chapter of the American Red Cross on December 4, 1917, it included the Junior Red Cross (JRC) among its activities. The Director of Education who was elected chairman of the JRC, directed the work of 6,000 children in JRC in the schools of Manila. JRC activities included the sewing of comfort articles and making surgical dressings for soldiers at war and planting vegetables in school gardens. From 1922 until the outbreak of World War II in 1941, the JRC dental service became the major program with school children contributing 30 centavos each as their annual membership fee and in return they received an American JRC pin. By 1941, there were 184 dental clinics all over the country. A total of 898,333 children were inspected, 495,086 of which had defective teeth and 108,035 given treatment. In October 1946, the JRC dental service was formally turned over to the government. From then on, it has become an integral part of child health in the Philippines. After the liberation, the first JRC enrollment campaign under the new Philippine Republic was conducted in October 1946. Enrollment of elementary school children in the JRC was on a group basis. Schools join by class or section with a membership fee of PHP2.00 per class. In 1948, the Philippine Junior Red Cross Magazine was published with Mrs. Loreto Paras-Sulit as Editor and at the same time Director of the Junior Red Cross. Activities carried out in schools were along the lines of health, service, and international friendship. The decade of 1961-1970 recorded an increase in the JRC enrollment from 3 to 4 million members from 12,000 public and private elementary and secondary schools. The adoption of the program for college students on January 28, 1969 solved the problem of young people who would want to continue serving through the Red Cross after graduation from high school. It aimed at developing the spirit of humanitarianism and social service through active and direct involvement in Red Cross activities. Another new important program which was approved by the Board to include not only school children but also young people both in and out of school until 25 years of age. The change in name of the program from Junior Red Cross (JRC) to Red Cross Youth (RCY) was approved by the Board on March 31, 1970. From December 28 to 30, 1974, the 1st National Red Cross Youth Congress was held at the Hall of Mercy of the PNRC Manila Chapter Building with the Theme: "Voluntarism: A Force in Nation Building." The Congress elected Mr. Ruben C. Angeles of Zamboanga City as the 1st National Red Cross Youth Council President. It was not until November 1998 that the NYC President was seated as a Member of the Board of Governors, the highest decision-making body of the Philippine National Red Cross, having then NYC President Crescente Abragan, representing the Red Cross Youth in the Board. Soon after, the Board approved having elected Chapter Youth Council Presidents seated as a mandated member of the Chapter Board of Directors, thereby representing the interest of the youth in the local level. '),c.qZA(),c.qZA(),c.qZA())},directives:[ts,es],styles:[b_,b_]}),i})(),yR=(()=>{class i{patternValidator(){return r=>r.value?new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$").test(r.value)?null:{invalidPassword:!0}:null}MatchPassword(r,a){return l=>{const f=l.controls[r],m=l.controls[a];if(!f||!m||m.errors&&!m.errors.passwordMismatch)return null;m.setErrors(f.value!==m.value?{passwordMismatch:!0}:null)}}userNameValidator(r){return new Promise(a=>{setTimeout(()=>{this.validateUserName(r.value)?a({userNameNotAvailable:!0}):a(null)},1e3)})}validateUserName(r){return["ankit","admin","user","superuser"].indexOf(r)>-1}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function UR(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Name is required "),c.qZA())}function ZR(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Register Number is required "),c.qZA())}function jR(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Email is required "),c.qZA())}function BR(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Enter a valid email address "),c.qZA())}function qR(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Password is required "),c.qZA())}function HR(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),c.qZA())}function $R(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Confirm Password is required "),c.qZA())}function GR(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Passwords doesnot match "),c.qZA())}function zR(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Phone Number is required "),c.qZA())}function WR(i,n){1&i&&(c.TgZ(0,"span",20),c._uU(1," Department is required "),c.qZA())}let KR=(()=>{class i{constructor(r,a,l,f){this.route=r,this.fb=a,this.service=l,this.customValidator=f,this.submitted=!1,this.registration=new ls,this.attendance=new Cc}ngOnInit(){this.registerForm=this.fb.group({fullName:["",cr.required],registerNumber:["",cr.required],email:["",[cr.required,cr.email]],password:["",cr.compose([cr.required,this.customValidator.patternValidator()])],passwordConfirmation:["",[cr.required]],phoneNumber:["",[cr.required]],department:["",[cr.required]]},{validator:this.customValidator.MatchPassword("password","passwordConfirmation")})}get registerFormControl(){return this.registerForm.controls}onSubmit(){console.log(this.registerForm.value),this.attendance.Hours="0",this.attendance.RegisterNumber=this.registerForm.value.registerNumber,this.registration.fullName=this.registerForm.value.fullName,this.registration.email=this.registerForm.value.email,this.registration.department=this.registerForm.value.department,this.registration.password=this.registerForm.value.password,this.registration.phoneNumber=this.registerForm.value.phoneNumber,this.registration.registerNumber=this.registerForm.value.registerNumber,this.submitted=!0,this.registerForm.valid&&this.service.AddRegistration(this.registration,this.attendance).then(r=>{}),this.route.navigate(["/"])}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(Tn),c.Y36(v_),c.Y36(da),c.Y36(yR))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-signup"]],decls:52,vars:11,consts:[[1,"body"],[1,"row"],[1,"col-md-8","mx-auto"],[1,"card"],[1,"h1","center"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label"],["type","text","formControlName","fullName","placeholder","enter your full name",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","registerNumber","type","number","placeholder","enter your register no",1,"form-control"],["formControlName","email","name","email","type","email","placeholder","enter your SSN email ID",1,"form-control"],[1,"fa","fa-envelope"],["formControlName","password","type","password","placeholder","enter a password of min 8 characters",1,"input"],["formControlName","passwordConfirmation","type","password","placeholder","re-enter your password",1,"input"],["maxlength","10","name","pnumber","formControlName","phoneNumber","type","phone number","placeholder","enter your 10 digits nuumber",1,"input"],["name","depart","formControlName","department","type","text","placeholder","select your department",1,"input"],[1,"form-group","center"],["type","submit",1,"btn","btn-success"],[1,"text-danger"]],template:function(r,a){1&r&&(c.TgZ(0,"body"),c.TgZ(1,"div",0),c.TgZ(2,"div",1),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c._uU(6," Signup "),c.qZA(),c.TgZ(7,"div",5),c.TgZ(8,"form",6),c.NdJ("ngSubmit",function(){return a.onSubmit()}),c.TgZ(9,"div",7),c.TgZ(10,"div",7),c.TgZ(11,"label",8),c._uU(12,"Full name"),c.qZA(),c._UZ(13,"input",9),c.YNc(14,UR,2,0,"span",10),c.qZA(),c.TgZ(15,"div",7),c.TgZ(16,"label",8),c._uU(17,"Register No"),c.qZA(),c._UZ(18,"input",11),c.YNc(19,ZR,2,0,"span",10),c.qZA(),c.TgZ(20,"div",7),c.TgZ(21,"label",8),c._uU(22,"SSN email ID"),c.qZA(),c._UZ(23,"input",12),c._UZ(24,"i",13),c.YNc(25,jR,2,0,"span",10),c.YNc(26,BR,2,0,"span",10),c.qZA(),c.TgZ(27,"div",7),c.TgZ(28,"label",8),c._uU(29,"Password"),c.qZA(),c._UZ(30,"input",14),c.YNc(31,qR,2,0,"span",10),c.YNc(32,HR,2,0,"span",10),c.qZA(),c.TgZ(33,"div",7),c.TgZ(34,"label",8),c._uU(35,"Re-enter password"),c.qZA(),c._UZ(36,"input",15),c.YNc(37,$R,2,0,"span",10),c.YNc(38,GR,2,0,"span",10),c.qZA(),c.TgZ(39,"div",7),c.TgZ(40,"label",8),c._uU(41,"phone number"),c.qZA(),c._UZ(42,"input",16),c.YNc(43,zR,2,0,"span",10),c.qZA(),c.TgZ(44,"div",7),c.TgZ(45,"label",8),c._uU(46,"department"),c.qZA(),c._UZ(47,"input",17),c.YNc(48,WR,2,0,"span",10),c.qZA(),c.TgZ(49,"div",18),c.TgZ(50,"button",19),c._uU(51,"Submit"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&r&&(c.xp6(8),c.Q6J("formGroup",a.registerForm),c.xp6(6),c.Q6J("ngIf",(a.registerFormControl.fullName.touched||a.submitted)&&(null==a.registerFormControl.fullName.errors?null:a.registerFormControl.fullName.errors.required)),c.xp6(5),c.Q6J("ngIf",(a.registerFormControl.registerNumber.touched||a.submitted)&&(null==a.registerFormControl.registerNumber.errors?null:a.registerFormControl.registerNumber.errors.required)),c.xp6(6),c.Q6J("ngIf",(a.registerFormControl.email.touched||a.submitted)&&(null==a.registerFormControl.email.errors?null:a.registerFormControl.email.errors.required)),c.xp6(1),c.Q6J("ngIf",a.registerFormControl.email.touched&&(null==a.registerFormControl.email.errors?null:a.registerFormControl.email.errors.email)),c.xp6(5),c.Q6J("ngIf",(a.registerFormControl.password.touched||a.submitted)&&(null==a.registerFormControl.password.errors?null:a.registerFormControl.password.errors.required)),c.xp6(1),c.Q6J("ngIf",a.registerFormControl.password.touched&&(null==a.registerFormControl.password.errors?null:a.registerFormControl.password.errors.invalidPassword)),c.xp6(5),c.Q6J("ngIf",(a.registerFormControl.passwordConfirmation.touched||a.submitted)&&(null==a.registerFormControl.passwordConfirmation.errors?null:a.registerFormControl.passwordConfirmation.errors.required)),c.xp6(1),c.Q6J("ngIf",a.registerFormControl.passwordConfirmation.touched&&(null==a.registerFormControl.passwordConfirmation.errors?null:a.registerFormControl.passwordConfirmation.errors.passwordMismatch)),c.xp6(5),c.Q6J("ngIf",(a.registerFormControl.phoneNumber.touched||a.submitted)&&(null==a.registerFormControl.phoneNumber.errors?null:a.registerFormControl.phoneNumber.errors.required)),c.xp6(5),c.Q6J("ngIf",(a.registerFormControl.department.touched||a.submitted)&&(null==a.registerFormControl.department.errors?null:a.registerFormControl.department.errors.required)))},directives:[wu,bu,Cu,ks,Ah,xh,js,_c,I0],styles:["body[_ngcontent-%COMP%]{background-image:url(yrcbg2.ca6928be5c2886559d9f.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;background-size:100% 100%}.center[_ngcontent-%COMP%]{text-align:center}"]}),i})(),YR=(()=>{class i{constructor(r,a,l,f){this.attendeesService=r,this.formBuilder=a,this.act=l,this.router=f,this.eForm=this.formBuilder.group({registerNumber:[""],Hours:[""]})}ngOnInit(){const r=this.act.snapshot.paramMap.get("id");this.attendeesService.getAttendDoc(r).subscribe(a=>{this.eventRef=a,this.eForm=this.formBuilder.group({registerNumber:[this.eventRef.registerNumber],Hours:[this.eventRef.Hours]})})}onSubmit(){const r=this.act.snapshot.paramMap.get("id");this.attendeesService.updateAttend(this.eForm.value,r),this.router.navigate(["/list-attendance"])}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(xe),c.Y36(v_),c.Y36(ws),c.Y36(Tn))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-update-attendance"]],decls:15,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["type","text","formControlName","registerNumber","required","",1,"form-control"],["type","text","formControlName","Hours","required","",1,"form-control"],["type","submit",1,"btn","btn-primary"],["type","reset",1,"btn","btn-danger"]],template:function(r,a){1&r&&(c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return a.onSubmit()}),c.TgZ(1,"div",1),c.TgZ(2,"label"),c._uU(3,"Register Number"),c.qZA(),c._UZ(4,"input",2),c.qZA(),c.TgZ(5,"div",1),c.TgZ(6,"label"),c._uU(7,"Hours"),c.qZA(),c._UZ(8,"input",3),c.qZA(),c.TgZ(9,"div",1),c.TgZ(10,"button",4),c._uU(11,"Update"),c.qZA(),c._uU(12," \xa0\xa0\xa0 "),c.TgZ(13,"button",5),c._uU(14,"Reset"),c.qZA(),c.qZA(),c.qZA()),2&r&&c.Q6J("formGroup",a.eForm)},directives:[wu,bu,Cu,ks,Ah,xh,wc],styles:[""]}),i})();const _R="a[_ngcontent-%COMP%]{font-size:x-large;font-style:normal}body[_ngcontent-%COMP%]{background-image:url(homebg.482b92cbddd5af62dcb4.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;background-size:100% 100%}h1[_ngcontent-%COMP%]{color:#000;font-size:large;padding:10px}table[_ngcontent-%COMP%]{width:auto}p[_ngcontent-%COMP%]{padding:10px}#myhero[_ngcontent-%COMP%]{color:#000;background-color:#fff;opacity:.07}",QR=[{path:"signup",component:KR},{path:"",component:T0},{path:"studhome",component:ae},{path:"attendence",component:gR},{path:"admin",component:aw},{path:"delete-event/:id",component:D},{path:"enrollment",component:de},{path:"regstudent",component:S0},{path:"uploadattendence",component:(()=>{class i{constructor(r,a){this.service=r,this.route=a,this.Attendance=new Cc}ngOnInit(){this.service.getAttendList().subscribe(r=>{r.map(a=>Object.assign({id:a.payload.doc.id},a.payload.doc.data()))})}}return i.\u0275fac=function(r){return new(r||i)(c.Y36(da),c.Y36(Tn))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-upload-attendance"]],decls:29,vars:0,consts:[["id","mynav",1,"navbar","is-danger","is-bold"],[1,"navbar-brand"],["src","assets/cross.jpg","width","112","height","28"],[1,"navbar-burger"],[1,"navbar-menu"],[1,"navbar-start"],["routerLink","/studhome",1,"navbar-item"],["routerlink","/events",1,"navbar-item"],["routerlink","/studattendence",1,"navbar-item"],[1,"navbar-end"],[1,"navbar-item"],["routerLink","/",1,"button","is-light"],[2,"text-align","center"],["type","text",1,"w3-input","w3-border"],["type","file","id","input"],["id","myhero",1,"hero-body"]],template:function(r,a){1&r&&(c._UZ(0,"head"),c.TgZ(1,"body"),c.TgZ(2,"nav",0),c.TgZ(3,"div",1),c._UZ(4,"img",2),c.TgZ(5,"div",3),c._UZ(6,"span"),c._UZ(7,"span"),c._UZ(8,"span"),c.qZA(),c.qZA(),c.TgZ(9,"div",4),c.TgZ(10,"div",5),c.TgZ(11,"a",6),c._uU(12," Home "),c.qZA(),c.TgZ(13,"a",7),c._uU(14," events "),c.qZA(),c.TgZ(15,"a",8),c._uU(16,"attendence"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"div",9),c.TgZ(18,"div",10),c.TgZ(19,"button",11),c._uU(20,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"h1",12),c._uU(22,"UPLOAD ATTENDANCE"),c.qZA(),c.TgZ(23,"p"),c.TgZ(24,"label"),c._uU(25,"EVENT ID"),c.qZA(),c._UZ(26,"input",13),c.qZA(),c._UZ(27,"input",14),c._UZ(28,"div",15),c.qZA())},directives:[ts,es],styles:[_R,_R]}),i})()},{path:"adminhomepage",component:aw},{path:"trial",component:de},{path:"list-event",component:er},{path:"create-event",component:I},{path:"enroll",component:H},{path:"seeatt",component:pR},{path:"register",component:D0},{path:"list-attendance",component:Ye},{path:"update-attendance/:id",component:YR}];let JR=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[gv.forRoot(QR)],gv]}),i})(),XR=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"footer"],[1,"content"]],template:function(r,a){1&r&&(c.TgZ(0,"footer",0),c.TgZ(1,"div",1),c.TgZ(2,"p"),c._uU(3," Event management system for Youth Red cross"),c._UZ(4,"br"),c._UZ(5,"br"),c._uU(6," SSN Institutions,"),c._UZ(7,"br"),c._uU(8," Rajiv Gandhi Salai (OMR),"),c._UZ(9,"br"),c._uU(10," Kalavakkam\u2013 603 110"),c._UZ(11,"br"),c._UZ(12,"br"),c._uU(13," ALL copy rights reserved @2021 "),c.qZA(),c.qZA(),c.qZA())},styles:[".footer[_ngcontent-%COMP%]{background-color:#464343;color:#fff;text-shadow:2px;font-size:large;height:auto}"]}),i})(),ex=(()=>{class i{constructor(){this.title="emfy"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(r,a){1&r&&(c._UZ(0,"router-outlet"),c._UZ(1,"app-footer"))},directives:[Cm,XR],styles:[""]}),i})();class vR{}class bR{}class Ic{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(r=>{const a=r.indexOf(":");if(a>0){const l=r.slice(0,a),f=l.toLowerCase(),m=r.slice(a+1).trim();this.maybeSetNormalizedName(l,f),this.headers.has(f)?this.headers.get(f).push(m):this.headers.set(f,[m])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(r=>{let a=n[r];const l=r.toLowerCase();"string"==typeof a&&(a=[a]),a.length>0&&(this.headers.set(l,a),this.maybeSetNormalizedName(r,l))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ic?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){const r=new Ic;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Ic?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){const r=n.name.toLowerCase();switch(n.op){case"a":case"s":let a=n.value;if("string"==typeof a&&(a=[a]),0===a.length)return;this.maybeSetNormalizedName(n.name,r);const l=("a"===n.op?this.headers.get(r):void 0)||[];l.push(...a),this.headers.set(r,l);break;case"d":const f=n.value;if(f){let m=this.headers.get(r);if(!m)return;m=m.filter(w=>-1===f.indexOf(w)),0===m.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,m)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}}class tx{encodeKey(n){return ER(n)}encodeValue(n){return ER(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const rx=/%(\d[a-f0-9])/gi,ix={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ER(i){return encodeURIComponent(i).replace(rx,(n,r)=>{var a;return null!==(a=ix[r])&&void 0!==a?a:n})}function wR(i){return`${i}`}class Ph{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new tx,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,n){const r=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(l=>{const f=l.indexOf("="),[m,w]=-1==f?[n.decodeKey(l),""]:[n.decodeKey(l.slice(0,f)),n.decodeValue(l.slice(f+1))],T=r.get(m)||[];T.push(w),r.set(m,T)}),r}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{const a=n.fromObject[r];this.map.set(r,Array.isArray(a)?a:[a])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){const r=[];return Object.keys(n).forEach(a=>{const l=n[a];Array.isArray(l)?l.forEach(f=>{r.push({param:a,value:f,op:"a"})}):r.push({param:a,value:l,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const r=this.encoder.encodeKey(n);return this.map.get(n).map(a=>r+"="+this.encoder.encodeValue(a)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const r=new Ph({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const r=("a"===n.op?this.map.get(n.param):void 0)||[];r.push(wR(n.value)),this.map.set(n.param,r);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let a=this.map.get(n.param)||[];const l=a.indexOf(wR(n.value));-1!==l&&a.splice(l,1),a.length>0?this.map.set(n.param,a):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class sx{constructor(){this.map=new Map}set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function CR(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function IR(i){return"undefined"!=typeof Blob&&i instanceof Blob}function TR(i){return"undefined"!=typeof FormData&&i instanceof FormData}class N0{constructor(n,r,a,l){let f;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==a?a:null,f=l):f=a,f&&(this.reportProgress=!!f.reportProgress,this.withCredentials=!!f.withCredentials,f.responseType&&(this.responseType=f.responseType),f.headers&&(this.headers=f.headers),f.context&&(this.context=f.context),f.params&&(this.params=f.params)),this.headers||(this.headers=new Ic),this.context||(this.context=new sx),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=r;else{const w=r.indexOf("?");this.urlWithParams=r+(-1===w?"?":w<r.length-1?"&":"")+m}}else this.params=new Ph,this.urlWithParams=r}serializeBody(){return null===this.body?null:CR(this.body)||IR(this.body)||TR(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ph?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||TR(this.body)?null:IR(this.body)?this.body.type||null:CR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ph?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var r;const a=n.method||this.method,l=n.url||this.url,f=n.responseType||this.responseType,m=void 0!==n.body?n.body:this.body,w=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,T=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let N=n.headers||this.headers,R=n.params||this.params;const U=null!==(r=n.context)&&void 0!==r?r:this.context;return void 0!==n.setHeaders&&(N=Object.keys(n.setHeaders).reduce((Y,z)=>Y.set(z,n.setHeaders[z]),N)),n.setParams&&(R=Object.keys(n.setParams).reduce((Y,z)=>Y.set(z,n.setParams[z]),R)),new N0(a,l,m,{params:R,headers:N,context:U,reportProgress:T,responseType:f,withCredentials:w})}}var dr=(()=>((dr=dr||{})[dr.Sent=0]="Sent",dr[dr.UploadProgress=1]="UploadProgress",dr[dr.ResponseHeader=2]="ResponseHeader",dr[dr.DownloadProgress=3]="DownloadProgress",dr[dr.Response=4]="Response",dr[dr.User=5]="User",dr))();class nN{constructor(n,r=200,a="OK"){this.headers=n.headers||new Ic,this.status=void 0!==n.status?n.status:r,this.statusText=n.statusText||a,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class rN extends nN{constructor(n={}){super(n),this.type=dr.ResponseHeader}clone(n={}){return new rN({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class hA extends nN{constructor(n={}){super(n),this.type=dr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new hA({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class AR extends nN{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function iN(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let ux=(()=>{class i{constructor(r){this.handler=r}request(r,a,l={}){let f;if(r instanceof N0)f=r;else{let T,N;T=l.headers instanceof Ic?l.headers:new Ic(l.headers),l.params&&(N=l.params instanceof Ph?l.params:new Ph({fromObject:l.params})),f=new N0(r,a,void 0!==l.body?l.body:null,{headers:T,context:l.context,params:N,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const m=(0,et.of)(f).pipe(di(T=>this.handler.handle(T)));if(r instanceof N0||"events"===l.observe)return m;const w=m.pipe(Pi(T=>T instanceof hA));switch(l.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return w.pipe((0,nt.U)(T=>{if(null!==T.body&&!(T.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return T.body}));case"blob":return w.pipe((0,nt.U)(T=>{if(null!==T.body&&!(T.body instanceof Blob))throw new Error("Response is not a Blob.");return T.body}));case"text":return w.pipe((0,nt.U)(T=>{if(null!==T.body&&"string"!=typeof T.body)throw new Error("Response is not a string.");return T.body}));case"json":default:return w.pipe((0,nt.U)(T=>T.body))}case"response":return w;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(r,a={}){return this.request("DELETE",r,a)}get(r,a={}){return this.request("GET",r,a)}head(r,a={}){return this.request("HEAD",r,a)}jsonp(r,a){return this.request("JSONP",r,{params:(new Ph).append(a,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,a={}){return this.request("OPTIONS",r,a)}patch(r,a,l={}){return this.request("PATCH",r,iN(l,a))}post(r,a,l={}){return this.request("POST",r,iN(l,a))}put(r,a,l={}){return this.request("PUT",r,iN(l,a))}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(vR))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();class DR{constructor(n,r){this.next=n,this.interceptor=r}handle(n){return this.interceptor.intercept(n,this.next)}}const SR=new c.OlP("HTTP_INTERCEPTORS");let lx=(()=>{class i{intercept(r,a){return a.handle(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const cx=/^\)\]\}',?\n/;let NR=(()=>{class i{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Wr.y(a=>{const l=this.xhrFactory.build();if(l.open(r.method,r.urlWithParams),r.withCredentials&&(l.withCredentials=!0),r.headers.forEach((z,_e)=>l.setRequestHeader(z,_e.join(","))),r.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const z=r.detectContentTypeHeader();null!==z&&l.setRequestHeader("Content-Type",z)}if(r.responseType){const z=r.responseType.toLowerCase();l.responseType="json"!==z?z:"text"}const f=r.serializeBody();let m=null;const w=()=>{if(null!==m)return m;const z=1223===l.status?204:l.status,_e=l.statusText||"OK",Fe=new Ic(l.getAllResponseHeaders()),Be=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(l)||r.url;return m=new rN({headers:Fe,status:z,statusText:_e,url:Be}),m},T=()=>{let{headers:z,status:_e,statusText:Fe,url:Be}=w(),st=null;204!==_e&&(st=void 0===l.response?l.responseText:l.response),0===_e&&(_e=st?200:0);let Nt=_e>=200&&_e<300;if("json"===r.responseType&&"string"==typeof st){const Ct=st;st=st.replace(cx,"");try{st=""!==st?JSON.parse(st):null}catch(Gt){st=Ct,Nt&&(Nt=!1,st={error:Gt,text:st})}}Nt?(a.next(new hA({body:st,headers:z,status:_e,statusText:Fe,url:Be||void 0})),a.complete()):a.error(new AR({error:st,headers:z,status:_e,statusText:Fe,url:Be||void 0}))},N=z=>{const{url:_e}=w(),Fe=new AR({error:z,status:l.status||0,statusText:l.statusText||"Unknown Error",url:_e||void 0});a.error(Fe)};let R=!1;const U=z=>{R||(a.next(w()),R=!0);let _e={type:dr.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(_e.total=z.total),"text"===r.responseType&&!!l.responseText&&(_e.partialText=l.responseText),a.next(_e)},Y=z=>{let _e={type:dr.UploadProgress,loaded:z.loaded};z.lengthComputable&&(_e.total=z.total),a.next(_e)};return l.addEventListener("load",T),l.addEventListener("error",N),l.addEventListener("timeout",N),l.addEventListener("abort",N),r.reportProgress&&(l.addEventListener("progress",U),null!==f&&l.upload&&l.upload.addEventListener("progress",Y)),l.send(f),a.next({type:dr.Sent}),()=>{l.removeEventListener("error",N),l.removeEventListener("abort",N),l.removeEventListener("load",T),l.removeEventListener("timeout",N),r.reportProgress&&(l.removeEventListener("progress",U),null!==f&&l.upload&&l.upload.removeEventListener("progress",Y)),l.readyState!==l.DONE&&l.abort()}})}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(ku))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const sN=new c.OlP("XSRF_COOKIE_NAME"),oN=new c.OlP("XSRF_HEADER_NAME");class RR{}let hx=(()=>{class i{constructor(r,a,l){this.doc=r,this.platform=a,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=ft(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(ue),c.LFG(c.Lbi),c.LFG(sN))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),aN=(()=>{class i{constructor(r,a){this.tokenService=r,this.headerName=a}intercept(r,a){const l=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||l.startsWith("http://")||l.startsWith("https://"))return a.handle(r);const f=this.tokenService.getToken();return null!==f&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,f)})),a.handle(r)}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(RR),c.LFG(oN))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),fx=(()=>{class i{constructor(r,a){this.backend=r,this.injector=a,this.chain=null}handle(r){if(null===this.chain){const a=this.injector.get(SR,[]);this.chain=a.reduceRight((l,f)=>new DR(l,f),this.backend)}return this.chain.handle(r)}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(bR),c.LFG(c.zs3))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),px=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:aN,useClass:lx}]}}static withOptions(r={}){return{ngModule:i,providers:[r.cookieName?{provide:sN,useValue:r.cookieName}:[],r.headerName?{provide:oN,useValue:r.headerName}:[]]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[aN,{provide:SR,useExisting:aN,multi:!0},{provide:RR,useClass:hx},{provide:sN,useValue:"XSRF-TOKEN"},{provide:oN,useValue:"X-XSRF-TOKEN"}]}),i})(),gx=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[ux,{provide:vR,useClass:fx},NR,{provide:bR,useExisting:NR}],imports:[[px.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();const xR_firebase={apiKey:"AIzaSyA-ySCyVNwhQ5dUEHP1OL_DXl8iicHtUiU",authDomain:"emfy-27f1c.firebaseapp.com",databaseURL:"https://emfy-27f1c-default-rtdb.firebaseio.com",projectId:"emfy-27f1c",storageBucket:"emfy-27f1c.appspot.com",messagingSenderId:"839853002523",appId:"1:839853002523:web:70de609155e8185c38cdbe",measurementId:"G-CZ61NXGTE5",GAPI_CLIENT_ID:"1067057376818-k6cucj4ckqjj07rq587o34u92ninmen1.apps.googleusercontent.com"};let mx=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i,bootstrap:[ex]}),i.\u0275inj=c.cJS({providers:[da,yR],imports:[[J1,Ca,JR,gx,Ca,so.hO.initializeApp(xR_firebase),v1,X1]]}),i})();x_().bootstrapModule(mx).catch(i=>console.error(i))},4762:(Ve,te,P)=>{"use strict";P.d(te,{ZT:()=>ne,pi:()=>q,_T:()=>J,mG:()=>W,Jh:()=>j,XA:()=>L,CR:()=>O,ev:()=>ee});var c=function(ce,he){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,fe){ge.__proto__=fe}||function(ge,fe){for(var me in fe)Object.prototype.hasOwnProperty.call(fe,me)&&(ge[me]=fe[me])})(ce,he)};function ne(ce,he){if("function"!=typeof he&&null!==he)throw new TypeError("Class extends value "+String(he)+" is not a constructor or null");function ge(){this.constructor=ce}c(ce,he),ce.prototype=null===he?Object.create(he):(ge.prototype=he.prototype,new ge)}var q=function(){return(q=Object.assign||function(he){for(var ge,fe=1,me=arguments.length;fe<me;fe++)for(var oe in ge=arguments[fe])Object.prototype.hasOwnProperty.call(ge,oe)&&(he[oe]=ge[oe]);return he}).apply(this,arguments)};function J(ce,he){var ge={};for(var fe in ce)Object.prototype.hasOwnProperty.call(ce,fe)&&he.indexOf(fe)<0&&(ge[fe]=ce[fe]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(fe=Object.getOwnPropertySymbols(ce);me<fe.length;me++)he.indexOf(fe[me])<0&&Object.prototype.propertyIsEnumerable.call(ce,fe[me])&&(ge[fe[me]]=ce[fe[me]])}return ge}function W(ce,he,ge,fe){return new(ge||(ge=Promise))(function(oe,Oe){function $e(Et){try{Xe(fe.next(Et))}catch(Ut){Oe(Ut)}}function bt(Et){try{Xe(fe.throw(Et))}catch(Ut){Oe(Ut)}}function Xe(Et){Et.done?oe(Et.value):function(oe){return oe instanceof ge?oe:new ge(function(Oe){Oe(oe)})}(Et.value).then($e,bt)}Xe((fe=fe.apply(ce,he||[])).next())})}function j(ce,he){var fe,me,oe,Oe,ge={label:0,sent:function(){if(1&oe[0])throw oe[1];return oe[1]},trys:[],ops:[]};return Oe={next:$e(0),throw:$e(1),return:$e(2)},"function"==typeof Symbol&&(Oe[Symbol.iterator]=function(){return this}),Oe;function $e(Xe){return function(Et){return function(Xe){if(fe)throw new TypeError("Generator is already executing.");for(;ge;)try{if(fe=1,me&&(oe=2&Xe[0]?me.return:Xe[0]?me.throw||((oe=me.return)&&oe.call(me),0):me.next)&&!(oe=oe.call(me,Xe[1])).done)return oe;switch(me=0,oe&&(Xe=[2&Xe[0],oe.value]),Xe[0]){case 0:case 1:oe=Xe;break;case 4:return ge.label++,{value:Xe[1],done:!1};case 5:ge.label++,me=Xe[1],Xe=[0];continue;case 7:Xe=ge.ops.pop(),ge.trys.pop();continue;default:if(!(oe=(oe=ge.trys).length>0&&oe[oe.length-1])&&(6===Xe[0]||2===Xe[0])){ge=0;continue}if(3===Xe[0]&&(!oe||Xe[1]>oe[0]&&Xe[1]<oe[3])){ge.label=Xe[1];break}if(6===Xe[0]&&ge.label<oe[1]){ge.label=oe[1],oe=Xe;break}if(oe&&ge.label<oe[2]){ge.label=oe[2],ge.ops.push(Xe);break}oe[2]&&ge.ops.pop(),ge.trys.pop();continue}Xe=he.call(ce,ge)}catch(Et){Xe=[6,Et],me=0}finally{fe=oe=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([Xe,Et])}}}function L(ce){var he="function"==typeof Symbol&&Symbol.iterator,ge=he&&ce[he],fe=0;if(ge)return ge.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&fe>=ce.length&&(ce=void 0),{value:ce&&ce[fe++],done:!ce}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(ce,he){var ge="function"==typeof Symbol&&ce[Symbol.iterator];if(!ge)return ce;var me,Oe,fe=ge.call(ce),oe=[];try{for(;(void 0===he||he-- >0)&&!(me=fe.next()).done;)oe.push(me.value)}catch($e){Oe={error:$e}}finally{try{me&&!me.done&&(ge=fe.return)&&ge.call(fe)}finally{if(Oe)throw Oe.error}}return oe}function ee(ce,he,ge){if(ge||2===arguments.length)for(var oe,fe=0,me=he.length;fe<me;fe++)(oe||!(fe in he))&&(oe||(oe=Array.prototype.slice.call(he,0,fe)),oe[fe]=he[fe]);return ce.concat(oe||Array.prototype.slice.call(he))}},8239:(Ve,te,P)=>{"use strict";function c(q,J,se,X,ue,W,j){try{var k=q[W](j),V=k.value}catch(L){return void se(L)}k.done?J(V):Promise.resolve(V).then(X,ue)}function ne(q){return function(){var J=this,se=arguments;return new Promise(function(X,ue){var W=q.apply(J,se);function j(V){c(W,X,ue,j,k,"next",V)}function k(V){c(W,X,ue,j,k,"throw",V)}j(void 0)})}}P.d(te,{Z:()=>ne})}},Ve=>{Ve(Ve.s=4369)}]);